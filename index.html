<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#064e3b">
    <title>Wildly</title>
	<link rel="manifest" href="manifest.json">

	<!--Interaktivt kort-->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> 
	<script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --ios-bg: #fdfcfb; }
        body { 
            -webkit-tap-highlight-color: transparent; 
            font-family: "Georgia", serif; 
            background-color: var(--ios-bg);
            color: #1c1c1e;
            user-select: none;
        }
        .sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .btn-active:active { transform: scale(0.97); opacity: 0.9; }
        .card { background: white; border-radius: 28px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); border: 1px solid rgba(0,0,0,0.06); }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .type-badge { font-family: sans-serif; font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; padding: 4px 10px; border-radius: 12px; }
        .badge-svamp { background: #fef3c7; color: #92400e; }
        .badge-bær { background: #fee2e2; color: #991b1b; }
        .badge-plante { background: #dcfce7; color: #166534; }
        .badge-nød { background: #f3f4f6; color: #374151; }
        
        .id-label { font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.1em; color: #064e3b; margin-bottom: 2px; font-family: sans-serif; }
        .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }

        .season-trigger {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .season-select-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            z-index: 10;
        }

        /* Season Bar specific styles */
        .month-pill {
            flex: 1;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 900;
            font-family: sans-serif;
            text-transform: uppercase;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .month-active {
            background-color: #064e3b;
            color: white;
            box-shadow: 0 2px 4px rgba(6, 78, 59, 0.2);
        }
        .month-inactive {
            background-color: #f1f1f1;
            color: #626262;
        }

		/* Galleri */
	    /* Skjul scrollbar i galleriet */
	    .no-scrollbar::-webkit-scrollbar {
	        display: none;
	    }
	    .no-scrollbar {
	        -ms-overflow-style: none;
	        scrollbar-width: none;
	    }
	    
	    /* Gør swipe mere responsiv på iOS */
	    #swipe-gallery {
	        -webkit-overflow-scrolling: touch;
	    }

		.fab-container {
		    position: fixed;
		    bottom: 90px;
		    left: 0;
		    right: 0;
		    display: flex;
		    justify-content: center;
		    z-index: 100;
		    pointer-events: none; 
		}
		
		.floating-save-btn {
		    pointer-events: auto;
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    gap: 8px;
		    padding: 12px 20px;
		    background-color: #064e3b;
		    color: white;
		    border-radius: 9999px;
		    border: 2px solid white;
		    font-weight: bold;
		    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
		    font-size: 14px;
		    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
		    
		    /* Animation når knappen dukker op */
		    animation: fab-pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		    transition: transform 0.1s ease;
		}
				
		@keyframes pop-in {
		    0% { transform: scale(0) rotate(-45deg); opacity: 0; }
		    100% { transform: scale(1) rotate(0); opacity: 1; }
		}		
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-stone-100 px-6 py-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
            <button id="back-btn" onclick="goBack()" class="hidden w-10 h-10 flex items-center justify-center bg-stone-100 rounded-full btn-active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 19l-7-7 7-7"/></svg>
            </button>
            <h1 class="text-2xl font-black tracking-tighter uppercase italic sans">Wild<span class="text-green-800">ly</span></h1>
        </div>
    </header>

    <main id="app-content" class="flex-1 p-6 max-w-lg mx-auto w-full pb-32"></main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-xl border-t border-stone-100 safe-area-bottom z-50">
        <div class="grid grid-cols-5 h-16">
            <button onclick="navigate('start')" class="flex flex-col items-center justify-center gap-1 btn-active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
                <span data-i18n="menu_home" class="text-[9px] font-black uppercase sans text-stone-600">&nbsp;</span>
            </button>
            <button onclick="navigate('all')" class="flex flex-col items-center justify-center gap-1 btn-active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"/></svg>
                <span data-i18n="menu_library" class="text-[9px] font-black uppercase sans text-stone-600">&nbsp;</span>
            </button>
            <button onclick="navigate('wizard', 'START')" class="flex flex-col items-center justify-center gap-1 btn-active text-green-800">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M12 13v8M5 13c0-3.87 3.13-7 7-7s7 3.13 7 7H5Z"></path>
				</svg>
				<span data-i18n="menu_mushroom_id" class="text-[9px] font-black uppercase sans">&nbsp;</span>
            </button>
            
            <div class="season-trigger btn-active">
                <div id="season-icon-container" class="flex flex-col items-center justify-center gap-1">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span data-i18n="all_year" id="season-label" class="text-[9px] font-black uppercase sans text-stone-600">&nbsp;</span>
                </div>
                <select id="season-picker" onchange="handleSeasonChange(this.value)" class="season-select-overlay">
                    <option data-i18n="all_year" value="all">Hele Året</option>
                    <option data-i18n="month_jan" value="jan">Jan</option>
                    <option data-i18n="month_feb" value="feb">Feb</option>
                    <option data-i18n="month_mar" value="mar">Mar</option>
                    <option data-i18n="month_apr" value="apr">Apr</option>
                    <option data-i18n="month_may" value="maj">Maj</option>
                    <option data-i18n="month_jun" value="jun">Jun</option>
                    <option data-i18n="month_jul" value="jul">Jul</option>
                    <option data-i18n="month_aug" value="aug">Aug</option>
                    <option data-i18n="month_sep" value="sep">Sep</option>
                    <option data-i18n="month_oct" value="okt">Okt</option>
                    <option data-i18n="month_nov" value="nov">Nov</option>
                    <option data-i18n="month_dec" value="dec">Dec</option>
                </select>
            </div>

			<button onclick="toggleMenu()" class="flex flex-col items-center justify-center gap-1 btn-active text-stone-600">
			    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
			        <line x1="3" y1="12" x2="21" y2="12"></line>
			        <line x1="3" y1="6" x2="21" y2="6"></line>
			        <line x1="3" y1="18" x2="21" y2="18"></line>
			    </svg>
			    <span data-i18n="menu_menu" class="text-[9px] font-black uppercase sans">&nbsp;</span>
			</button>
        </div>
    </nav>
	<div id="menu-overlay" onclick="toggleMenu()" class="fixed inset-0 bg-black/40 z-[3000] hidden backdrop-blur-sm transition-opacity"></div>
	
	<div id="side-menu" class="fixed top-0 left-0 h-full w-[80%] max-w-[320px] bg-[#fdfcfb] z-[3001] shadow-2xl transform -translate-x-full transition-transform duration-300 ease-in-out p-6 flex flex-col">
		<div class="flex justify-between items-center mb-8">
			<h2 data-i18n="menu_menu" class="text-2xl font-black italic uppercase tracking-tighter">Menu</h2>
			<button onclick="toggleMenu()" class="text-2xl">✕</button>
		</div>
	
		<div class="space-y-6 flex-1 overflow-y-auto">
			<section class="bg-stone-100 rounded-2xl overflow-hidden divide-y divide-stone-200">
			    <div class="flex items-center px-4 py-2 justify-between">
			        <span data-i18n="menu_language" class="text-[10px] font-bold uppercase tracking-widest text-stone-500">Sprog</span>
			        <select id="lang-select" onchange="handleLangChange(this.value)" class="bg-transparent text-sm font-bold text-emerald-900 border-none focus:ring-0 py-1 text-right">
			        </select>
			    </div>
			
			    <div class="flex items-center px-4 py-2 justify-between">
			        <span data-i18n="menu_country" class="text-[10px] font-bold uppercase tracking-widest text-stone-500">Land</span>
			        <select id="country-select" onchange="handleCountryChange(this.value)" class="bg-transparent text-sm font-bold text-emerald-900 border-none focus:ring-0 py-1 text-right">
			        </select>
			    </div>
			
			    <div class="flex items-center px-4 py-2 justify-between">
			        <span data-i18n="menu_region" class="text-[10px] font-bold uppercase tracking-widest text-stone-500">Region</span>
			        <select id="region-select" onchange="handleRegionChange()" class="bg-transparent text-sm font-bold text-emerald-900 border-none focus:ring-0 py-1 text-right">
			        </select>
			    </div>
			</section>

			<nav class="space-y-1">
				<div id="user-section" class="bg-stone-100 rounded-3xl p-2 space-y-1">
    			</div>
				<button onclick="navigate('safety')" class="w-full text-left py-3 border-b border-stone-100 flex items-center gap-3">
					<span class="text-lg">⚠</span> <span data-i18n="menu_safety" class="font-bold text-sm">Sikkerhed</span>
				</button>
				<button onclick="reportBug()" class="w-full text-left py-3 border-b border-stone-100 flex items-center gap-3">
					<span class="text-lg">✉</span> <span data-i18n="menu_feedback" class="font-bold text-sm">Giv tilbagemelding</span>
				</button>
			</nav>
		</div>
		
		<div class="mt-auto pt-6 text-[8px] text-stone-400 uppercase tracking-widest text-center">
			Wildy v2.0
		</div>
	</div>
	
    <script>
		//GLOBALS
		let ui = {}; // Vores eneste globale objekt til interface-tekster
		let map; // Global variabel til kortet
		let activeMarkers = {};
		let currentPageId = 'start';
		// Global variable to track where we are in the tree
		let currentWizardNode = {};
		let wizardMushroomData = {};
		let isLoggedIn = false;
		let userSettings = JSON.parse(localStorage.getItem('userSettings')) || {
		    lang: 'da',
		    country: 'DK',
		    region: 'Hele landet'
		};		
        let activeSeason = 'all';
		let appConfig = {};
		let geoData = {};

		const database = {
		  res_hyben: { name: "Rynket Rose (Hyben)", type: "bær", habitats: ["coast", "garden"], extended_habitat: "Kystnære områder, sommerhusgrunde og læhegn. Invasiv i Danmark.", latin: "Rosa rugosa", months: ["jun","jul","aug","sep"], traits: "Store orange/røde bær, voldsomme torne", extended_traits: "Store flade bær. Blomsterne dufter kraftigt og er enten hvide eller mørkerøde.", not_this_if: ["Busk mangler torne", "Bærrene er små og aflange (det er dog også hyben, bare andre arter)"], usage: "Bær bruges til marmelade (fjern kerner). Kronblade til sirup eller snaps.", cleaning: "Halvér bærret og skrab de kradsende kerner ud med en teske.", preservation: "Bær kan fryses efter rensning eller tørres.", naturbasen: "https://www.naturbasen.dk/art/4367/rynket-rose", id_keys: { bær: "Store, kødfulde.", blade: "Rynkede, læderagtige.", vækst: "Tæt buskads m. mange torne." }, twin: { no_twin: true, name: "Ingen", diff: "Let genkendelig på bær og duft.", toxic: false } },
		  res_jordbaer: { name: "Skovjordbær", type: "bær", habitats: ["forest"], extended_habitat: "Skovbryn, lysninger og skrænter med sol.", latin: "Fragaria vesca", months: ["jun","jul"], traits: "Små røde bær, hvide blomster", extended_traits: "Ligner små havejordbær. Bærrene hænger ofte nedad og er ekstremt aromatiske.", not_this_if: ["Bærrene er smagløse og peger opad (Indisk Prydjordbær - uspiseligt)"], usage: "Spises rå på stedet. Smagsintensiteten er langt højere end havejordbær.", cleaning: "Kræver sjældent rensning udover et hurtigt tjek for insekter.", preservation: "Bør spises straks. Kan fryses, men mister struktur.", naturbasen: "https://www.naturbasen.dk/art/3601/skov-jordbaerr", id_keys: { blade: "Tredelte, savtakkede.", bær: "Små, røde m. frø på ydersiden." }, twin: { name: "Indisk Prydjordbær", diff: "Gule blomster. Bær peger opad. Smager af ingenting.", toxic: false } },
		  res_gran: { name: "Rødgran (Skud)", type: "plante", habitats: ["forest"], extended_habitat: "Nåleskove over hele landet.", latin: "Picea abies", months: ["maj","jun"], traits: "Lysegrønne bløde skud", extended_traits: "Kun de helt nye, lysegrønne og bløde skud i maj/juni er spiselige.", not_this_if: ["Skuddene er mørkegrønne og stive", "Nålene er flade og har hvide striber (Ædelgran - smager anderledes)"], usage: "Granskudssirup, snaps eller som syrligt drys i salater.", cleaning: "Skyl for støv.", preservation: "Lægges i sukker (sirup) eller fryses straks.", naturbasen: "https://www.naturbasen.dk/art/4198/roed-grann", id_keys: { skud: "Bløde, syrlige, lysegrønne.", vækst: "For enden af grenene." }, twin: { name: "Taks", diff: "Bløde nåle, røde bær. Mangler harpiksduft. Dødelig giftig!", toxic: true } },
		  res_birk: { name: "Vortebirk", type: "plante", habitats: ["forest", "garden"], extended_habitat: "Løvskove, moser og haver.", latin: "Betula pendula", months: ["mar","apr","maj"], traits: "Hvid bark, savtakkede blade", extended_traits: "Saft tappes i det tidlige forår. Unge blade er spiselige i maj.", not_this_if: ["Barken er ikke hvid"], usage: "Saft drikkes rå eller koges til sirup. Blade i te eller salat.", cleaning: "Ingen rensning af saft.", preservation: "Saft holder 2-3 dage i køleskab, ellers frys.", naturbasen: "https://www.naturbasen.dk/art/4741/vorte-birk", id_keys: { bark: "Hvid og afskallende.", blade: "Ruderformede, takkede." }, twin: { no_twin: true, name: "Ingen", diff: "Hvid bark er unik for birk.", toxic: false } },
		  res_doevnaelde: { name: "Døvnælde (Hvid)", type: "plante", habitats: ["garden", "forest"], extended_habitat: "Sommerhusgrunde, vejkanter og skovbryn.", latin: "Lamium album", months: ["apr","maj","jun","jul","aug","sep"], traits: "Ligner brændenælde, men brænder ikke", extended_traits: "Hvide blomster i kranse. Stænglen er firkantet.", not_this_if: ["Planten brænder (det er en brændenælde)"], usage: "Blomster er søde og spises rå. Blade bruges som brændenælde (suppe/stuvning).", cleaning: "Skyl grundigt.", preservation: "Tørring af blade til te.", naturbasen: "https://www.naturbasen.dk/art/2840/doevnaeldee", id_keys: { blomst: "Store hvide læbeblomster.", blade: "Hjerteformede, takkede." }, twin: { name: "Brændenælde", diff: "Brænder. Mangler de store hvide blomster.", toxic: false } },
		  res_kirsebaer: { name: "Fuglekirsebær", type: "bær", habitats: ["forest", "garden"], extended_habitat: "Løvskove og gamle læhegn.", latin: "Prunus avium", months: ["jun","jul"], traits: "Røde/sorte bær, vandrette striber på bark", extended_traits: "Højt træ. Bærrene er mindre og mere syrlige/bitre end havekirsebær.", not_this_if: ["Bærrene sidder i lange klaser (det er Hæg)"], usage: "Spises rå, i marmelade eller snaps.", cleaning: "Skyl og fjern sten.", preservation: "Fryses eller marmelade.", naturbasen: "https://www.naturbasen.dk/art/2730/fugle-kirsebaer", id_keys: { bark: "Blank m. vandrette bånd.", bær: "Parvise røde bær." }, twin: { no_twin: true, name: "Ingen", diff: "Klassisk kirsebærtræ.", toxic: false } },
		  res_karljohan: { name: "Karl Johan", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Løv og nåleskov i nærheden af træer. Særligt omkring bøg, gran, og ædelgran.", latin: "Boletus edulis", months: ["jun","jul","aug","sep","okt"], traits: "Brun rørhat med sej hathud og stok med hvidt net", extended_traits: "Svampen skal have en hvidlig til lysebrun stok med et fint, hvidt netmønster øverst, hvide til gulgrønne rør der aldrig blåner ved tryk, hvidt uforanderligt kød ved gennemskæring og en elastisk gummiagtig hathud med mild nøddeagtig smag.", not_this_if: ["Kødet eller rørene blåner ved berøring eller snit", "Netmønsteret på stokken er mørkt, brunt eller groft", "Rørene har et rosa eller lyserødt skær", "Svampen smager bittert", "Stokken har røde eller orange farver"], usage: "Hatten og stokken er fremragende rå, stegt eller tørret.", cleaning: "Børst jorden af med en blød børste og undgå vand, da rørene suger væske. Skær bunden af stokken og tjek for larvehuller ved at gennemskære den.", preservation: "Fremragende til tørring i 3-5 mm skiver, hvilket koncentrerer smagen. Kan også steges af og fryses eller bruges frisk i risotto.", naturbasen: "https://www.naturbasen.dk/art/2639/spiselig-roerhat", id_keys: { hat: "8-25 cm. Glat, tør - fedtet i fugtigt vejr. Lys til mørkebrun. Halvkugleformet som ung, seneret vælvet.", hymenium: "Rør. Hvide som unge, senere gulgrønne. Blåner ikke ved tryk.", stok: "Kraftig, kølleformet som ung, cylindrisk senere. Lysbrun m. hvidt netmønster øverst. Op til 20 cm høj.", koed: "Hvidt og fast. Ændrer ikke farve ved gennemskæring. Mild nøddeagtig duft.", spore: "Olivenbrunlig.", voksemaade: "Enkeltvist eller i flok" }, twin: { name: "Galderørhat (Tylopilus felleus)", diff: "Mørkt, groft netmønster. Rosa rør som ældre. Meget bitter, men ikke giftig.", toxic: false } },
		  res_kantarel: { name: "Almindelig kantarel", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Løv og nåleskov. Sydvendt, bakket terræn under nedfaldne grene med fugtig jord.", latin: "Cantharellus cibarius", months: ["jun","jul","aug","sep","okt", "nov"], traits: "Æggegul eller bleggul med gaffeldelte ribber", extended_traits: "Svampen skal være gennemfarvet æggegul til bleggul med faste gaffeldelte ribber der løber langt ned ad stokken, have hvidt og fast kød samt en markant duft af abrikos.", not_this_if: ["Undersiden har knivskarpe lameller der kan skrabes af med en negl", "Svampen bliver mørkebrun ved tryk eller berøring", "Kødet er orange eller blødt indeni", "Svampen vokser direkte på træ", "Stokken er hul"], usage: "Skal gennemsteges. Bedst i flødesauce eller på brød.", naturbasen: "https://www.naturbasen.dk/art/2097/almindelig-kantarel", cleaning: "Børst skovbundsrester væk med en blød pensel; undgå vand, da ribberne suger væske og svampen mister sin sprøde tekstur.", preservation: "Bedst at fryse efter en let stegning i eget væske eller smør. Tørring frarådes, da kantareller ofte bliver seje og bitre af det.", id_keys: { hat: "3-12 cm. Æggegul eller bleggul. Tragtformet m. bølget kant.", hymenium: "Ribber (folder). Gaffeldelte, løber ned langs stokken.", stok: "Kort, glat og krummer nederst. Samme farve som hatten. 3-6 cm høj.", koed: "Hvidt til svagt gulligt. Fast. Dufter af abrikos.", spore: "Bleg gul eller hvidligt.", voksemaade: "I flokke, delvist knippet." }, twin: { name: "Alm. Netbladhat (Paxillus involutus)", diff: "Minder kun svagt om Alm. Kantarel, men forveksling kan være farlig. Har lameller der kan skrabes af. Bruner ved tryk. Kan være dødelig for nogle!", toxic: true } },
		  res_tragt: { name: "Tragt-kantarel", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Løv og nåleskov. Ofte i fugtig nåleskov med mos.", latin: "Craterellus tubaeformis", months: ["aug","sep","okt", "nov", "dec"], traits: "Gul hul stok, gråbrun hat, grågule ribber", extended_traits: "Svampen skal have en karakteristisk gul og helt hul stok, en tragtformet gråbrun hat med rynket overflade og grågule gaffeldelte ribber på undersiden.", not_this_if: ["Stokken er massiv eller fyldt indeni", "Undersiden har lameller i stedet for rynkede ribber", "Svampen lugter af radise", "Der er orangebrunt støv eller spindvævsrester på stokken", "Hatten har en spids pukkel og er rødbrun"], usage: "Hele svampen bruges i svampesovs og på toast. Meget velegnet til tørring.", cleaning: "Tjek den hule stok for jord og smådyr ved at flække den let, og børst hatten ren. Kan hurtigt skylles i koldt vand, hvis de er meget beskidte, da de er tynde og tørrer hurtigt igen.", preservation: "Fremragende til tørring hele eller i halve grundet det tynde kød. Kan også steges på en tør pande til væsken er fordampet og derefter fryses med lidt smør.", naturbasen: "https://www.naturbasen.dk/art/2094/tragt-kantarel", id_keys: { hat: "2-8 cm. Tragtformet. Gråbrun med kruset kant. Tør, glat og rynket.", hymenium: "Ribber der løber ned langs stokken. Uregelmæssige, gaffeldelte, grågule.", stok: "Helt hul, elastisk, slank og glat. Krummer som regel forneden. Karakteristisk gul farve. 2-8 cm høj.", koed: "Tyndt, grå/hvidligt. Mild smag og duft.", spore: "Hvidlig til svagt gul.", voksemaade: "I knipper, store flokke." }, twin: { name: "Puklet Gift-Slørhat (Cortinarius rubellus)", diff: "Begge svampe trives i de samme miljøer, ofte i fugtig nåleskov med mos. De kan bogstavelig talt vokse lige ved siden af hinanden. I skovbundens svage lys eller hvis man plukker hurtigt i en stor klynge, kan de brune farver minde om hinanden og en enkelt giftslørhat kan nemt smutte med. Har lameller og ofte orangebrunt støv/spind på stokken. Kan kendes på tydelig radiselugt. Tjek hver eneste svamp, du har plukket, individuelt når du renser dem. Hvis stokken ikke er hul, eller hvis undersiden har lameller i stedet for ribber, skal den smides ud med det samme. Dødeligt Giftige!", toxic: true } },
		  res_ramsloeg: { name: "Ramsløg", type: "plante", habitats: ["deciduous"], extended_habitat: "Fugtig muldbund i løvskove. Danner ofte massive tæpper.", latin: "Allium ursinum", months: ["mar","apr","maj","jun"], traits: "Brede blade, hvidløgsduft, hvide stjerner", extended_traits: "Tynde blade, matte på undersiden. Kraftig hvidløgsduft ved knusning.", not_this_if: ["Mangler hvidløgsduft", "To blade på samme stængel", "Blank underside"], usage: "Pesto, smør eller salt. Blomsterknopper kan syltes.", cleaning: "Skyl grundigt. Tjek for Liljekonval-blade i bunken.", preservation: "Frys eller blend i olie. Mister smag ved tørring.", naturbasen: "https://www.naturbasen.dk/art/2677/rams-loeg", id_keys: { stilk: "Trekantet stilk pr. blad.", blade: "Lancetformede, matte under.", blomst: "Hvide stjerner i skærm.", duft: "Ren hvidløg." }, twin: { name: "Liljekonval", diff: "Ingen hvidløgsduft. Blank underside. Dødelig!", toxic: true } },
		  res_soedskaerm: { name: "Sødskærm", type: "plante", habitats: ["forest", "garden"], extended_habitat: "Fugtig halvskygge, vejkanter og nær bebyggelse.", latin: "Myrrhis odorata", months: ["apr","maj","jun","jul"], traits: "Anisduft, bregneblade m. hvide pletter", extended_traits: "Hele planten smager af lakrids. Bløde blade med hvide pletter ved basis.", not_this_if: ["Mangler lakridsduft", "Røde pletter på stængel"], usage: "Dessert, salat eller snaps. Frø smager som lakridsbolcher.", cleaning: "Skyl forsigtigt.", preservation: "Bedst frisk eller i sirup/snaps.", naturbasen: "https://www.naturbasen.dk/art/3532/soedskaermm", id_keys: { duft: "Kraftig anis/lakrids.", blade: "Bregneagtige, bløde.", frø: "Store, mørkebrune m. ribber.", stængel: "Hul og rillet." }, twin: { name: "Skarntyde", diff: "Lugter af mus/urin. Røde pletter på stængel. Giftig!", toxic: true } },
		  res_skvalder: { name: "Skvalderkål", type: "plante", habitats: ["garden", "forest"], extended_habitat: "Haver og lyse løvskove. Meget invasiv.", latin: "Aegopodium podagraria", months: ["mar","apr","maj","jun","jul","aug","sep"], traits: "Trekantet stilk, 3x3 blade", extended_traits: "Stilk har V-formet tværsnit. Blad opdelt i 3x3 småblade.", not_this_if: ["Rund stængel", "Røde pletter på stængel"], usage: "Unge skud i salat/pesto. Gamle som spinat.", cleaning: "Skyl grundigt.", preservation: "Forvel og frys.", naturbasen: "https://www.naturbasen.dk/art/3728/skvalderkaal", id_keys: { stilk: "Trekantet/V-form.", blade: "3 grupper á 3 småblade.", vækst: "Bunddække.", duft: "Krydret (persille/gulerod)." }, twin: { name: "Gifttyde", diff: "Rund stængel. Kamret rodstok. Dødelig!", toxic: true } },
		  res_skovsyre: { name: "Skovsyre", type: "plante", habitats: ["forest"], extended_habitat: "Skyggefuld skovbund, ofte under nåletræer eller bøg.", latin: "Oxalis acetosella", months: ["mar","apr","maj","jun"], traits: "Hjerteformede blade, syrlig smag", extended_traits: "Kløverlignende blade der klapper sammen i mørke. Hvide blomster m. lilla årer.", not_this_if: ["Bladene er runde", "Mangler syrlig smag"], usage: "Rå som pynt, i salat eller desserter.", cleaning: "Skyl hurtigt.", preservation: "Bør spises frisk.", naturbasen: "https://www.naturbasen.dk/art/2717/skovsyre", id_keys: { blade: "3 hjerteformede småblade.", blomst: "Enlige hvide m. lilla streger.", smag: "Meget syrlig." }, twin: { name: "Hvidkløver", diff: "Runde blade uden hjerteform. Ikke syrlig.", toxic: false } },
		  res_hassel: { name: "Hasselnød", type: "nød", habitats: ["forest", "garden"], extended_habitat: "Løvskove, bryn og læhegn.", latin: "Corylus avellana", months: ["aug","sep","okt"], traits: "Nød i fliget hase", extended_traits: "Stor busk. Nødderne sidder i grønne, takkede dækblade (haser).", not_this_if: ["Frugten er blød eller mangler hård skal"], usage: "Rå, ristet eller i bagværk.", cleaning: "Knæk skallen.", preservation: "Tørres køligt og luftigt i skallen.", naturbasen: "https://www.naturbasen.dk/art/4332/hassel", id_keys: { busk: "Mange stammer, gråbrun bark.", blade: "Runde/hjerteformede m. spids.", frugt: "Hård nød i grøn hase." }, twin: { no_twin: true, name: "Ingen", diff: "Meget sikker.", toxic: false } },
		  res_boegeblade: { name: "Bøgeblade", type: "plante", habitats: ["forest"], extended_habitat: "Bøgeskove over hele landet.", latin: "Fagus sylvatica", months: ["apr","maj"], traits: "Lysegrønne forårsblade", extended_traits: "Kun helt spæde, lysegrønne blade fra udspring er spiselige.", not_this_if: ["Bladene er mørkegrønne og læderagtige"], usage: "Rå i salat (syrlige).", cleaning: "Skyl kort.", preservation: "Kan ikke gemmes.", naturbasen: "https://www.naturbasen.dk/art/3597/boeg", id_keys: { blade: "Ovale, hårede kant som unge.", træ: "Glat grå bark." }, twin: { no_twin: true, name: "Ingen", diff: "Meget let genkendeligt.", toxic: false } },
		  res_havtorn: { name: "Havtorn", type: "bær", habitats: ["coast"], extended_habitat: "Klitter og kystskrænter med masser af lys.", latin: "Hippophaë rhamnoides", months: ["aug","sep","okt"], traits: "Orange bær, sølvblade, torne", extended_traits: "Busk med lange torne. Sølvskinnende smalle blade og syrlige bær.", not_this_if: ["Bærrene er sorte", "Mangler torne"], usage: "Saft, marmelade eller pulver.", cleaning: "Frys grenene og ryst bærrene af.", preservation: "Saft eller hele bær på frost.", naturbasen: "https://www.naturbasen.dk/art/4189/havtorn", id_keys: { blade: "Sølvgrå under.", bær: "Orange, sidder tæt på gren.", smag: "Syrlig/ananas." }, twin: { no_twin: true, name: "Ingen", diff: "Unik kystbusk.", toxic: false } },
		  res_strandkaal: { name: "Strandkål", type: "plante", habitats: ["coast"], extended_habitat: "Stenstrande og sandjord nær vandet.", latin: "Crambe maritima", months: ["apr","maj","jun"], traits: "Blågrønne voksblade, krusede", extended_traits: "Store kål-agtige planter med tykke blade og hvide honningduftende blomster.", not_this_if: ["Bladene er tynde og ikke voksagtige"], usage: "Unge blade dampes som asparges. Blomsterknopper som broccoli.", cleaning: "Skyl grundigt for sand.", preservation: "Bør spises frisk.", naturbasen: "https://www.naturbasen.dk/art/2536/strandkaal", id_keys: { blade: "Tykke, krusede, blågrønne.", vækst: "Store tuer.", blomst: "Hvide skærme." }, twin: { no_twin: true, name: "Ingen", diff: "Ligner kål på stranden.", toxic: false } },
		  res_strandsennep: { name: "Strandsennep", type: "plante", habitats: ["coast"], extended_habitat: "Helt nede i sandkanten på sandstrande.", latin: "Cakile maritima", months: ["jun","jul","aug","sep"], traits: "Tykke blade, stærk sennepssmag", extended_traits: "Kødede blade og lilla/hvide blomster. Smager kraftigt af sennep/wasabi.", not_this_if: ["Mangler stærk smag"], usage: "Blade og blomster rå som krydderi.", cleaning: "Skyl for sand.", preservation: "Kan ikke gemmes.", naturbasen: "https://www.naturbasen.dk/art/8397/strandsennep-sl", id_keys: { blade: "Sukkulent-agtige.", blomst: "4-tals, lilla/hvide.", smag: "Stærk peber/sennep." }, twin: { no_twin: true, name: "Ingen", diff: "Vokser i det bare sand.", toxic: false } },
		  res_strandarve: { name: "Strandarve", type: "plante", habitats: ["coast"], extended_habitat: "Sandstrande, danner ofte grønne 'puder'.", latin: "Honckenya peploides", months: ["maj","jun","jul"], traits: "Tykke blade i rækker, agurkesmag", extended_traits: "Geometrisk vækst med blade i fire præcise rækker op ad stænglen.", not_this_if: ["Mangler agurkesmag"], usage: "Rå i salat eller syltet.", cleaning: "Skyl for sand.", preservation: "Syltning.", naturbasen: "https://www.naturbasen.dk/art/4339/strandarve", id_keys: { blade: "Tykke, sidder i 4 rækker.", vækst: "Tætte puder.", smag: "Agurk/ærter." }, twin: { no_twin: true, name: "Ingen", diff: "Unik geometrisk form.", toxic: false } },
		  res_strandtrehage: { name: "Strandtrehage", type: "plante", habitats: ["coast"], extended_habitat: "Fugtige strandenge og strandsumpe.", latin: "Triglochin maritima", months: ["maj","jun","jul","aug"], traits: "Græslignende, korianderduft", extended_traits: "Ligner tykt græs. Ved knusning dufter det kraftigt af koriander.", not_this_if: ["Mangler korianderduft"], usage: "Blade rå som erstatning for koriander.", cleaning: "Skyl grundigt.", preservation: "Kan fryses i olie.", naturbasen: "https://www.naturbasen.dk/art/4137/strand-trehage", id_keys: { blade: "Halvrunde i tværsnit.", duft: "Koriander.", habitat: "Strandeng." }, twin: { name: "Vand-trehage", diff: "Mindre, vokser i ferskvand. Ikke giftig.", toxic: false } },
		  res_fuglegraes: { name: "Fuglegræs", type: "plante", habitats: ["garden", "meadow"], extended_habitat: "Haver, marker og næringsrig jord.", latin: "Stellaria media", months: ["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"], traits: "Hårstribe på stænglen, ærtsmag", extended_traits: "Lysegrøn måtte med små hvide stjerneblomster. En enkelt hårstribe skifter side ved hvert bladpar.", not_this_if: ["Hele stænglen er håret", "Mangler hårstribe"], usage: "Hele planten rå i salat.", cleaning: "Skyl grundigt.", preservation: "Bedst frisk.", naturbasen: "https://www.naturbasen.dk/art/3007/almindelig-fuglegraes", id_keys: { stængel: "Enkel hårstribe.", blomst: "Små hvide stjerner.", smag: "Friske ærter." }, twin: { name: "Rød Arve", diff: "Røde blomster. Ingen hårstribe. Giftig.", toxic: true } },
		  res_maelkeboette: { name: "Mælkebøtte", type: "plante", habitats: ["meadow", "garden"], extended_habitat: "Overalt på græsarealer.", latin: "Taraxacum", months: ["mar","apr","maj","jun"], traits: "Gule kurve, mælkesaft", extended_traits: "Hul stængel med hvid saft. Savtakkede blade i roset.", not_this_if: ["Stænglen er massiv og håret"], usage: "Unge blade i salat. Blomster til sirup.", cleaning: "Skyl grundigt.", preservation: "Sirup af blomster.", naturbasen: "https://www.naturbasen.dk/artsoegning?id=Taraxacum%20&at=start", id_keys: { stængel: "Hul m. hvid saft.", blade: "Savtakkede.", blomst: "Gul kurv." }, twin: { name: "Kongepen", diff: "Hårede blade, fast stængel.", toxic: false } },
		  res_braendenaelde: { name: "Brændenælde", type: "plante", habitats: ["garden", "forest"], extended_habitat: "Næringsrig jord nær boliger og i skovbryn.", latin: "Urtica dioica", months: ["mar","apr","maj","sep","okt"], traits: "Brænder, firkantet stængel", extended_traits: "Dækket af brændehår. Firkantet stængel og takkede hjerteblade.", not_this_if: ["Planten brænder ikke"], usage: "Suppe, pesto eller te. Kun blade.", cleaning: "Brug handsker! Kogning fjerner brændevirkning.", preservation: "Tørring eller frys efter forvelling.", naturbasen: "https://www.naturbasen.dk/art/19226/stor-naelde", id_keys: { stængel: "Firkantet m. hår.", blade: "Overfor hinanden." }, twin: { name: "Døvnælde", diff: "Brænder ikke. Store hvide blomster.", toxic: false } },
		  res_vejbred: { name: "Vejbred", type: "plante", habitats: ["garden"], extended_habitat: "Stier og græsplæner. Tåler tråd.", latin: "Plantago", months: ["maj","jun","jul","aug","sep"], traits: "Seje strenge i bladene", extended_traits: "Blade med 5-7 tydelige, meget seje længdegående nerver.", not_this_if: ["Mangler de seje strenge"], usage: "Unge blade rå. Frø kan bruges som fiber.", cleaning: "Skyl grundigt.", preservation: "Tørrede blade til te.", naturbasen: "https://www.naturbasen.dk/art/2946/glat-vejbred", id_keys: { blade: "Seje nerver.", vækst: "Roset på jorden." }, twin: { no_twin: true, name: "Ingen", diff: "Meget karakteristisk.", toxic: false } },
		  res_hyld: { name: "Alm. Hyld", type: "bær", habitats: ["garden", "forest"], extended_habitat: "Hegn og skovbryn. Busk m. hvid marv.", latin: "Sambucus nigra", months: ["jun","jul","sep","okt"], traits: "Hvide skærme, sorte bærklaser", extended_traits: "Bær og blomster skal koge 20 min. Må ikke spises rå.", not_this_if: ["Røde støvknapper (Sommerhyld)", "Planten er en urt"], usage: "Blomstersaft, bærsuppe.", cleaning: "Ryst skærme. Afreb bær m. gaffel.", preservation: "Saft på frost.", naturbasen: "https://www.naturbasen.dk/art/2856/almindelig-hyld", id_keys: { blomst: "Hvidgule flade skærme.", bær: "Sorte på røde stilke.", marv: "Hvid marv." }, twin: { name: "Sommerhyld", diff: "Urt. Røde støvknapper. Giftig!", toxic: true } },
		  res_brombaer: { name: "Brombær", type: "bær", habitats: ["meadow", "forest"], extended_habitat: "Skovbryn og hegn. Lange buede grene.", latin: "Rubus", months: ["aug","sep","okt"], traits: "Sorte bær, kraftige torne", extended_traits: "Sammensatte bær (stenfrugter). Grenene har kraftige bagudbøjede torne.", not_this_if: ["Bærrene er røde og modne"], usage: "Rå, marmelade eller tærte.", cleaning: "Skyl kort.", preservation: "Frys eller marmelade.", naturbasen: "https://www.naturbasen.dk/art/4082/almindelig-brombaer", id_keys: { bær: "Sorte glinsende.", vækst: "Tornet busk." }, twin: { name: "Klynger", diff: "Bær har blålig dug. Også spiselige.", toxic: false } },
		  res_slaaen: { name: "Slåen", type: "bær", habitats: ["garden"], extended_habitat: "Solrige bryn og hegn. Meget tæt buskads.", latin: "Prunus spinosa", months: ["okt","nov","dec"], traits: "Mørkeblå bær m. dug, torne", extended_traits: "Bærrene er meget sure før frost. Barken er næsten sort.", not_this_if: ["Bærrene mangler sten"], usage: "Snaps, saft eller gele efter frost.", cleaning: "Skyl bærrene.", preservation: "Frys bærrene for at fjerne garvesyre.", naturbasen: "Prunus spinosa", id_keys: { bær: "Mørkeblå m. dug.", bark: "Sort m. lange torne." }, twin: { no_twin: true, name: "Ingen", diff: "Klassisk vinterbær.", toxic: false } },
		  res_hvidloegsennep: { name: "Hvidløgsennep", type: "plante", habitats: ["garden", "forest"], extended_habitat: "Halvskygge i skovbryn og haver.", latin: "Alliaria petiolata", months: ["apr","maj","jun"], traits: "Hjerteblade, hvidløgssmag", extended_traits: "Hjerteformede takkede blade. Dufter af hvidløg, smager af sennep/hvidløg.", not_this_if: ["Mangler hvidløgsduft"], usage: "Blade og blomster rå i salat/pesto.", cleaning: "Skyl grundigt.", preservation: "Bedst frisk.", naturbasen: "https://www.naturbasen.dk/art/2740/loegkarse", id_keys: { blade: "Hjerteformede.", blomst: "Små hvide 4-tals.", duft: "Hvidløg." }, twin: { name: "Nældebladet Klokke", diff: "Ingen hvidløgsduft.", toxic: false } },
		  res_roedkloever: { name: "Rødkløver", type: "plante", habitats: ["meadow"], extended_habitat: "Vedvarende græsarealer og vejkanter.", latin: "Trifolium pratense", months: ["maj","jun","jul","aug","sep"], traits: "Lilla blomsterkugler, V-mærke", extended_traits: "Tredelte blade med hvidlig vinkel (V). Blomsterne er søde i bunden.", not_this_if: ["Mangler V-mærket på bladet"], usage: "Blomster rå i salat eller som te.", cleaning: "Ryst for insekter.", preservation: "Tørring af blomster til te.", naturbasen: "https://www.naturbasen.dk/art/3702/roed-kloever", id_keys: { blomst: "Rødlilla kugle.", blade: "3-delte m. V-tegn." }, twin: { no_twin: true, name: "Ingen", diff: "Klassisk markblomst.", toxic: false } },
		  res_engkarse: { name: "Engkarse", type: "plante", habitats: ["meadow"], extended_habitat: "Fugtige enge og moser.", latin: "Cardamine pratensis", months: ["apr","maj","jun"], traits: "Lilla blomster, karsesmag", extended_traits: "Smukke lilla blomster i foråret. Smagen er præcis som karse.", not_this_if: ["Mangler karsesmag", "Vokser meget tørt"], usage: "Blade og blomster rå.", cleaning: "Skyl grundigt.", preservation: "Kan ikke gemmes.", naturbasen: "https://www.naturbasen.dk/art/8140/engkarse", id_keys: { blomst: "Lyslilla 4-tals.", smag: "Stærk karse." }, twin: { no_twin: true, name: "Ingen", diff: "Let kendelig på habitat og smag.", toxic: false } },
		  res_champignon: { name: "Mark-champignon", type: "svamp", habitats: ["meadow"], extended_habitat: "Vokser på ugødede græsarealer, enge, overdrev og i haver. Findes aldrig direkte i dyb skov eller på træ. Vokser ofte i 'hekseringe' eller rækker.", latin: "Agaricus campestris", months: ["jul", "aug", "sep", "okt"], traits: "Hvid hat, lyserøde lameller, ring på stok.", extended_traits: "Svampen har en tør hvid hat og karakteristiske lyserøde lameller, som bliver chokoladebrune med alderen, samt en hvid stok med en tynd ring og kød med en behagelig svampeagtig duft.", not_this_if: ["Kødet gulner kraftigt ved tryk eller snit især i bunden af stokken", "Svampen lugter kemisk af karbol, blæk eller jod", "Lamellerne er hvide eller forbliver lyse", "Der er en knoldet skede eller pose ved stokkens basis", "Svampen vokser i dyb skov eller direkte på træ"], usage: "Fremragende spisesvamp. Har en kraftigere og mere nøddeagtig smag end dem fra supermarkedet. Hele svampen kan bruges.", cleaning: "Børst jorden af hatten og tjek de lyserøde lameller for sand; undgå vask da de suger vand og mister smag.", preservation: "Bedst at spise frisk eller skåret i skiver og stegt i smør før frysning; tørring er muligt men gør dem ofte seje.", naturbasen: "https://www.naturbasen.dk/art/4207/mark-champignon", id_keys: { hat: "5-10 cm. Halvkugleformet som ung, senere flad. Tør, hvid og silkemat. Kan have fine, lyse skæl.", hymenium: "Lameller. Frie (rører ikke stokken). Først smukt lyserøde, senere chokoladebrune til helt sorte.", stok: "3-7 cm høj, hvid og cylindrisk. Har en tynd, hvid ring (manchet), der ofte falder af eller er utydelig på ældre eksemplarer.", koed: "Hvidt, fast. Ved gennemskæring kan det få et meget svagt rosa skær (må aldrig gulne kraftigt!). Duften er god og svampeagtig.", spore: "Mørkebrun til sortbrun.", voksemaade: "Vokser i grupper eller ringe direkte på jorden i græs." }, twin: { name: "Karbol-champignon (Agaricus xanthodermus)", diff: "Gulner kraftigt ved tryk (især i bunden af stokken) eller hvis du skraber hatten med neglen. Lugter grimt af kemikalier/karbol (tænk på jod eller blæk). Giftig.", toxic: true } },
		  res_gaasefod: { name: "Hvidmelet Gåsefod", type: "plante", habitats: ["garden", "Mark"], extended_habitat: "Næringsrig jord, marker og køkkenhaver. Kendt som vild spinat.", latin: "Chenopodium album", months: ["maj","jun","jul","aug"], traits: "Melet belægning, svage takker", extended_traits: "Blade føles melede/pudrede på undersiden. Stilken er ofte rødlig ved bladfæstet.", not_this_if: ["Bladene er meget mørke og lugter ubehageligt"], usage: "Fremragende vild spinat. Bruges dampet, i tærter eller stuvninger.", cleaning: "Skyl grundigt da den melede overflade holder på støv.", preservation: "Blanchér og frys.", naturbasen: "https://www.naturbasen.dk/art/4165/hvidmelet-gaasefod", id_keys: { blade: "Ruderformede m. mel.", stængel: "Ofte røde pletter.", smag: "Minder om spinat/nød." }, twin: { no_twin: true, name: "Ingen", diff: "Meget almindeligt ukrudt.", toxic: false } },
		  res_strandasters: { name: "Strandasters", type: "plante", habitats: ["coast"], extended_habitat: "Strandenge og saltmarsk. Kendt som havets asparges.", latin: "Tripolium vulgare", months: ["maj","jun","jul"], traits: "Kødede blade, salt smag", extended_traits: "Lange, smalle og tykke blade. Smukke lilla blomster med gul midte i august.", not_this_if: ["Vokser langt fra kysten", "Bladene er tynde"], usage: "Luksus-grøntsag. Steges hurtigt i smør som tilbehør til fisk.", cleaning: "Skyl kort for salt og sand.", preservation: "Bør spises helt frisk.", naturbasen: "https://www.naturbasen.dk/art/3404/strandasters", id_keys: { blade: "Kødede, lancetformede.", habitat: "Saltmarsk.", smag: "Salt og nød." }, twin: { no_twin: true, name: "Ingen", diff: "Meget karakteristisk kystplante.", toxic: false } },
		  res_skivekamille: { name: "Skivekamille", type: "plante", habitats: ["garden", "Vejkant"], extended_habitat: "Trampestier, gårdspladser og vejkanter. Kendt som ananaskamille.", latin: "Matricaria matricarioides", months: ["jun","jul","aug","sep"], traits: "Ingen hvide blade, ananasduft", extended_traits: "Ligner kamille uden hvide kronblade. Dufter kraftigt af ananas ved knusning.", not_this_if: ["Mangler ananasduft"], usage: "Fantastisk til te eller som aromatisk krydderi i desserter.", cleaning: "Ryst grundigt for støv og sand.", preservation: "Tørres til te.", naturbasen: "https://www.naturbasen.dk/art/4086/skive-kamille", id_keys: { blomst: "Kegleformet, gulgrøn.", duft: "Tydelig ananas.", vækst: "Lav og robust." }, twin: { name: "Vellugtende Kamille", diff: "Har hvide kronblade. Dufter af kamille.", toxic: false } },
		  res_hvidtjoern: { name: "Hvidtjørn", type: "bær", habitats: ["Hegn", "forest"], extended_habitat: "Gamle læhegn, skovbryn og overdrev.", latin: "Crataegus laevigata", months: ["maj","sep","okt"], traits: "Torne, meleret bær, fligede blade", extended_traits: "Forårsblade er sprøde og milde. Efterårets bær er røde og meleret indeni.", not_this_if: ["Busk mangler torne"], usage: "Blade i salat (forår). Bær til marmelade eller ketchup.", cleaning: "Fjern stilke fra bærrene.", preservation: "Bær kan tørres eller fryses.", naturbasen: "https://www.naturbasen.dk/art/4190/almindelig-hvidtjoern", id_keys: { blade: "Dybt fligede.", bær: "Røde m. én sten.", vækst: "Tornet busk/træ." }, twin: { no_twin: true, name: "Ingen", diff: "Meget almindelig i hegn.", toxic: false } },
		  res_merian: { name: "Vild Merian", type: "plante", habitats: ["meadow", "forest"], extended_habitat: "Lysåbne skrænter og skovbryn, især på kalkrig jord. Vild oregano.", latin: "Origanum vulgare", months: ["jul","aug","sep"], traits: "Lilla blomstertoppe, pizzaduft", extended_traits: "Små ovale blade og tætte lilla blomsterstande. Hele planten er stærkt aromatisk.", not_this_if: ["Mangler krydret duft"], usage: "Tørret som krydderi (oregano) eller frisk til te.", cleaning: "Ryst for insekter.", preservation: "Bundtes og tørres på et mørkt sted.", naturbasen: "https://www.naturbasen.dk/art/3481/merian", id_keys: { duft: "Kraftig oregano.", blomst: "Lilla i skærme.", stængel: "Firkantet, rødlig." }, twin: { no_twin: true, name: "Ingen", diff: "Ligner og dufter som fra køkkenhaven.", toxic: false } },
		  res_vandmynte: { name: "Vandmynte", type: "plante", habitats: ["meadow"], extended_habitat: "Våde enge, ved søbredder og grøfter.", latin: "Mentha aquatica", months: ["jul","aug","sep"], traits: "Rund blomst, kraftig mynteduft", extended_traits: "Firkantet stængel, ofte rødlig. Blomsterne sidder i runde lilla hoveder.", not_this_if: ["Mangler mynteduft"], usage: "Te, kolde drikke eller som frisk pift i salater.", cleaning: "Skyl meget grundigt da den vokser i vådområder.", preservation: "Tørring eller frys i isterninger.", naturbasen: "https://www.naturbasen.dk/art/3101/vand-mynte", id_keys: { duft: "Stærk pebermynte.", blomst: "Lilla kugleformede.", habitat: "Vådt/vandkant." }, twin: { no_twin: true, name: "Ingen", diff: "Kendes altid på den kraftige duft.", toxic: false } },
		  res_brunstokket: { name: "Brunstokket Rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Nåleskov (især under gran og fyr) og løvskov med sur bund. Vokser ofte på eller nær stubbe og mos.", latin: "Imleria badia", months: ["jul", "aug", "sep", "okt", "nov"], traits: "Brun hat, bliver blågrøn ved tryk på rørene.", extended_traits: "Svampen kendes på sin mørkebrune hat og de lysegule rør, der bliver tydeligt blågrønne ved berøring, samt en brunlig stok uden netmønster og lyst kød, der blåner svagt ved gennemskæring.", not_this_if: ["Stokken har et tydeligt mørkt eller lyst netmønster", "Rørene har et rosa eller lyserødt skær", "Svampen smager meget bittert", "Rørene ændrer slet ikke farve ved tryk", "Hatten er rød eller har meget skrigende farver"], usage: "Fremragende spisesvamp. Velegnet til stegning, tørring og stuvning. Rørene kan blive lidt bløde på ældre eksemplarer.", cleaning: "Fjern skovbundsrester med en børste og skær den nederste del af stokken af; de blåner ved berøring hvilket er naturligt og ikke påvirker smagen.", preservation: "Meget velegnet til tørring i tynde skiver da aromaen koncentreres eller stegt af i smør og frosset ned; de bliver ofte bløde ved frysning i rå tilstand.", naturbasen: "https://www.naturbasen.dk/art/3336/brunstokket-roerhat", id_keys: { hat: "5-15 cm. Halvkugleformet til hvælvet. Mørkebrun/kastanjebrun. Filtet som ung, fedtet i fugtigt vejr.", hymenium: "Rør. Først hvidgule, siden olivengule. Blåner kraftigt ved tryk.", stok: "4-12 cm. Cylindrisk, glat, brunlig (ofte med lysere top), mangler netmønster har svage lodrette ribber.", koed: "Hvidligt til gulligt. Bliver blågrønt ved gennemskæring (især over rørene).", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper på jorden." }, twin: { name: "Galde-rørhat (Tylopilus felleus)", diff: "Har et meget tydeligt mørkt netmønster på stokken, lyserøde rør som moden og smager ekstremt bittert.", toxic: false } },		  
		  res_bleg_kantarel: { name: "Bleg kantarel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser primært i løvskov under bøg og eg, ofte på mere næringsrig, leret eller kalkholdig jord end den almindelige kantarel.", latin: "Cantharellus pallens", months: ["jun", "jul", "aug", "sep", "okt"], traits: "Robust, hvidlig/bleggul hathud, æggegule ribber, kraftigt kød.", extended_traits: "Karakteriseret ved at have en næsten hvidlig eller meget lys gul overflade på hatten, især som ung. Ved skrab eller tryk anløber den ofte rustgule pletter. Den er generelt mere tykkødet og tung end Almindelig kantarel.", usage: "Fremragende spisesvamp. Betragtes af mange som værende i endnu højere kvalitet end Almindelig kantarel pga. det faste kød.", cleaning: "Børst jorden forsigtigt af med en pensel og undgå vand da det ødelægger teksturen; skrab eventuelle rustpletter let af og fjern bunden af den massive stok.", preservation: "Bedst at stege af i smør og fryse ned da tørring gør det faste kød alt for sejt; kan også syltes i eddike for at bevare sprødheden.", naturbasen: "https://www.naturbasen.dk/art/4276/bleg-kantarel", id_keys: { hat: "4-15 cm. Meget kødfuld, ofte uregelmæssig. Farven er bleg-gul til næsten hvidlig (ligner den har fået et lag pudder).", hymenium: "Ribberne er tykke, gaffeldelte og løber langt ned ad stokken. Farven er kraftigere gul end hatten.", stok: "Op til 5 cm høj. Kort, tyk og massiv. Hvidlig til bleg-gul.", koed: "Hvidt, fast og kompakt. Har den klassiske milde kantarelsmag og duft af abrikos.", spore: "Bleg gul.", voksemaade: "Ofte enkeltvis eller i store grupper i det tidlige efterår." }, twin: { name: "Almindelig kantarel (Cantharellus cibarius)", diff: "Almindelig kantarel er gennemfarvet æggegul på både hat og ribber og er mindre robust.", toxic: false } },
		  res_sort_trompetsvamp: { name: "Sort Trompetsvamp", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser især i gammel løvskov under bøg og eg. Foretrækker fugtig, leret og kalkrig bund. Ofte skjult under visne blade. Vokser ofte sammen med anemoner.", latin: "Craterellus cornucopioides", months: ["aug", "sep", "okt", "nov"], traits: "Tragtformet, sort/grå, hul helt til bunden, ingen ribber.", extended_traits: "Svampen er tyndkødet og formet som en dyb, hul tragt eller trompet, der er gennemhult helt til bunden, med en yderside der er askegrå til sort og enten helt glat eller kun svagt rynket uden ribber eller lameller.", not_this_if: ["Undersiden har tydelige ribber eller lameller", "Svampen er ikke hul helt ned til bunden", "Kødet er tykt eller fast", "Svampen har en tydelig afgrænset stok som skiller sig ud fra hatten", "Svampen vokser direkte på træ"], usage: "Fremragende spisesvamp. Velegnet til tørring, hvilket forstærker aromaen. Kendt som 'skovens sorte guld'.", cleaning: "Skyl eller pensl forsigtigt for jord og visne blade da den hule tragt ofte samler skovbundsrester; tjek bunden af tragten for små snegle.", preservation: "Hører til de absolut bedste svampe til tørring da den tynde struktur tørrer hurtigt og smagen intensiveres markant; kan knuses til svampemel efter tørring.", naturbasen: "https://www.naturbasen.dk/art/3163/trompetsvamp", id_keys: { hat: "3-10 cm. Trompetformet, kanten er ofte bølget og flosset. Sort til gråsort.", hymenium: "Ydersiden (hvor sporerne sidder) er glat eller let rynket, askegrå til blågrå. Ingen ribber eller lameller.", stok: "5 - 12 cm høj. Ingen egentlig stok; hatten fortsætter direkte ned i en hul rørform helt til basis.", koed: "Meget tyndt, sejt, sort/gråt. Mild smag og behagelig krydret duft.", spore: "Hvid til gullig.", voksemaade: "Ofte i store kolonier, men meget svær at få øje på pga. farven." }, twin: { name: "Grå kantarel (Craterellus cinereus)", diff: "Grå kantarel har tydelige, forgrenede ribber på undersiden.", toxic: false } },
		  res_liden_kantarel: { name: "Liden kantarel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser under bøg og eg, ofte på leret bund. Findes typisk i små klynger i skovbunden, hvor den camoufleres af efterårets blade.", latin: "Craterellus undulatus", months: ["aug", "sep", "okt"], traits: "Tragtformet, gråbrun, kruset kant, rynket underside uden ribber.", extended_traits: "Svampen er tyndkødet og tragtformet med en meget uregelmæssig, kruset eller bølget hatkant og en grålig til bleggul underside, der er rynket eller året uden egentlige ribber, samt en slank og hul grågul stok.", not_this_if: ["Undersiden har tydelige eller gaffeldelte ribber", "Hatkanten er jævn og rund uden krusninger", "Stokken er massiv og ikke hul", "Svampen vokser direkte på træ", "Kødet er tykt eller fast"], usage: "Spiselig. Minder om Sort trompetsvamp i smagen, men er meget tyndkødet.", cleaning: "Rens forsigtigt for jord og visne blade med en pensel da den krusede kant og den hule stok let samler skidt; undgå vand da det gør det tynde kød slasket.", preservation: "Yderst velegnet til tørring på grund af det tynde kød hvilket koncentrerer den milde smag; kan også steges hurtigt af og fryses men tørring giver det bedste resultat.", naturbasen: "https://www.naturbasen.dk/art/5728/liden-kantarel", id_keys: { hat: "1-5 cm. Tragtformet, ofte gennembrudt i midten. Farven er uregelmæssigt gråbrun til gulbrun med en markant flosset/bølget kant.", hymenium: "Undersiden er grålig til bleggul og er rynket eller året (ikke med ribber).", stok: "Op til 8 cm høj. Slank, hul, ofte lidt fladtrykt og bøjet. Farven er grågul til brunlig.", koed: "Meget tyndt, sejt og gråbrunt. Har en svag, behagelig duft.", spore: "Hvidlig.", voksemaade: "Vokser ofte i tætte grupper." }, twin: { name: "Tragt-kantarel (Craterellus tubaeformis)", diff: "Tragtkantarel har tydelige ribber og en mere jævnt rund hatkant.", toxic: false } },
		  res_gylden_kantarel: { name: "Gylden kantarel", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Vokser typisk i fugtige nåleskove, ofte i tykke mospuder eller omkring skovmoser. Foretrækker kalkrig bund. Kan også findes i løvskov.", latin: "Craterellus lutescens", months: ["aug", "sep", "okt", "nov"], traits: "Tragtformet, gul/orange stok, brunlig hat, næsten glat underside, dufter af abrikos.", extended_traits: "Svampen har en tragtformet mørkebrun hat i stærk kontrast til en intens gul eller orange hul stok og en gul-orange underside, der er næsten glat eller kun svagt rynket uden ribber, samt en kraftig duft af abrikos.", not_this_if: ["Undersiden har tydelige eller gaffeldelte ribber", "Svampen mangler den karakteristiske duft af abrikos", "Stokken er massiv og ikke hul", "Hatten er tyk og kødfuld", "Svampen vokser direkte på dødt træ"], usage: "Fremragende spisesvamp med en intens, frugtagtig aroma. Velegnet til tørring og som tilbehør til vildt.", cleaning: "Fjern forsigtigt mos og barnåle med en børste eller en hurtig dypning i vand hvis de er meget beskidte da det tynde kød tørrer hurtigt; stokken er hul og bør tjekkes for småkryb.", preservation: "Fremragende til tørring hele eller i halve da de bevarer den kraftige abrikosduft og fylder meget lidt; kan også steges af i smør og fryses men tørring fremhæver aromaen bedst.", naturbasen: "", id_keys: { hat: "2-7 cm. Tragtformet, tyndkødet, med bølget kant. Farven er gulbrun til mørkebrun.", hymenium: "Ydersiden/undersiden er gul til orange, ofte med et rosa skær. Den er glat eller dækket af lave, utydelige årer/rynker.", stok: "Hul, ofte fladtrykt. Farven er intens gul til orange.", koed: "Tyndt, elastisk, gulligt. Har en markant duft af abrikos eller mirabelle.", spore: "Hvidlig til svagt rosa.", voksemaade: "Vokser ofte i store mængder på samme sted." }, twin: { name: "Tragt-kantarel (Craterellus tubaeformis)", diff: "Tragtkantarel har tydelige, forgrenede ribber på undersiden og mangler den stærke abrikosduft.", toxic: false } },
		  res_abrikos_kantarel: { name: "Abrikos-kantarel", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Vokser under bøg og eg på surbund, ofte gemt i mos eller visne blade i skrænter og bryn. Sjældnere end almindelig kantarel. Kan også findes i nåleskov.", latin: "Cantharellus friesii", months: ["jul", "aug", "sep", "okt"], traits: "Lille, intens orange/abrikosfarvet, tydelige ribber, hvidligt kød.", extended_traits: "Svampen er lille og spinkel med en intens, næsten lysende orange eller abrikosagtig farve på både hat, stok og de tydelige, gaffeldelte ribber på undersiden, samt et hvidligt til svagt orange kød i den massive stok.", not_this_if: ["Stokken er helt eller delvist hul", "Undersiden har knivskarpe lameller frem for foldede ribber", "Svampen er stor og kødfuld med en hatbredde over 5 cm", "Svampen vokser direkte på træ", "Farven er bleg gul, brunlig eller grålig"], usage: "Spiselig og velsmagende, men findes sjældent i store mængder. Bør pga. sin størrelse og relative sjældenhed ofte lades stå.", naturbasen: "", id_keys: { hat: "1-4 cm. Først hvælvet, siden tragtformet med bølget kant. Intens orange til abrikosgul.", cleaning: "Børstes forsigtigt for jord og mos med en blød pensel da den lille størrelse gør den sårbar over for knubs; undgå vand for at bevare den intense farve og aroma.", preservation: "Bedst at stege hurtigt i smør og fryse ned eller bruge frisk som pynt på grund af den smukke farve; tørring anbefales ikke da de små svampe let bliver for seje.", hymenium: "Undersiden har tydelige, gaffeldelte ribber, der løber ned ad stokken. Farven er orange til svagt rosa-orange.", stok: "Slank, ofte lidt lysere end hatten (orange-gul). Massiv (ikke hul som hos tragtkantareller).", koed: "Hvidligt til svagt orange. Mild smag og svag frugtagtig duft.", spore: "Hvidlig til svagt gullig.", voksemaade: "Vokser ofte i små grupper eller rækker." }, twin: { name: "Almindelig Kantarel (Cantharellus cibarius)", diff: "Almindelig kantarel er større, mere æggegul og har mere kødfuld hat.", toxic: false } },
		  res_svaertende_kantarel: { name: "Sværtende kantarel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser i løvskov, især under bøg og eg på kalkrig jord. Er meget sjælden i Danmark og rødlistet.", latin: "Craterellus melanoxeros", months: ["aug", "sep", "okt"], traits: "Gul-grålig hat, lilla-grå ribber, sværtende kød (bliver sort).", extended_traits: "Svampen ligner en bleg kantarel med sin matte gule til gulbrune hat og lave, rynkede ribber, men kendes unikt på, at både kødet, stokken og overfladen anløber langsomt sort ved tryk eller snit, samt at ribberne ofte har et karakteristisk violet eller lilla skær.", not_this_if: ["Kødet eller overfladen ændrer ikke farve til sort ved berøring eller gennemskæring", "Undersiden har knivskarpe lameller frem for rynkede ribber", "Svampen vokser direkte på træ", "Stokken mangler helt de gule farvetoner", "Svampen har en markant duft af abrikos"], usage: "Spiselig, men bør undgås i Danmark pga. sin ekstreme sjældenhed (Rødlistet).", cleaning: "Børstes meget varsomt for skovbundsrester; bemærk at svampen hurtigt misfarves og bliver sort ved selv let berøring hvilket er dens naturlige reaktion.", preservation: "Bør ikke plukkes eller konserveres da den er ekstremt sjælden og rødlistet i Danmark; hvis den spises i udlandet anbefales stegning frem for tørring.", naturbasen: "https://www.naturbasen.dk/art/5593/svaertende-kantarel", id_keys: { hat: "3-9 cm. Uregelmæssig, tragtformet med bølget kant. Farven er mat gul til gulbrun med grålige toner.", hymenium: "Ribberne er lave, rynkede og gaffeldelte. De har ofte et karakteristisk violet eller lilla skær som ung, senere mere grå.", stok: "Gullig, bliver hurtigt gråsort ved berøring. Massiv til delvist hul.", koed: "Gulligt/hvidt, men anløber langsomt sort (ofte via et mørkt lilla stadie) ved brud.", spore: "Bleg gul.", voksemaade: "Vokser ofte i tætte grupper eller knipper." }, twin: { name: "Grå kantarel (Cantharellus cinereus)", diff: "Grå kantarel er grå/sort fra starten og har ikke de gule farver i hatten eller det sværtende kød.", toxic: false } },
		  res_graa_kantarel: { name: "Grå kantarel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser primært i gammel bøgeskov på kalkrig jord. Findes ofte samme steder som Sort trompetsvamp.", latin: "Cantharellus cinereus", months: ["aug", "sep", "okt"], traits: "Tragtformet, gråsort hat, tydelige grå ribber, kraftig frugtduft.", extended_traits: "Svampen ligner Sort trompetsvamp med sin mørkegrå til sortbrune tragtformede hat, men adskiller sig ved at have tydelige, askegrå og gaffeldelte ribber på undersiden samt en gennemgående hul stok og en meget kraftig, behagelig frugtduft.", not_this_if: ["Undersiden er glat eller kun let rynket uden egentlige ribber", "Stokken er massiv og ikke helt hul", "Svampen mangler den karakteristiske frugtagtige duft", "Svampen vokser direkte på dødt træ", "Undersiden har knivskarpe lameller i stedet for foldede ribber"], usage: "Fremragende spisesvamp med en intens duft af abrikos/frugt. Sjældnere end Sort trompetsvamp.", cleaning: "Rens forsigtigt for skovbundsrester med en blød pensel; tjek den hule tragt og de tydelige ribber for jord og små insekter da de let gemmer sig i folderne.", preservation: "Yderst velegnet til tørring da det tynde kød tørrer hurtigt og den intense frugtagtige aroma koncentreres markant; kan også steges af i smør og fryses.", naturbasen: "https://www.naturbasen.dk/art/5519/graa-kantarel", id_keys: { hat: "1-5 cm. Tragtformet med dybt navleformet midte. Farven er mørkegrå til sortbrun.", hymenium: "Undersiden har tydelige, mørkegrå til askegrå ribber, der er gaffeldelte og løber ned ad stokken.", stok: "Gråsort, hul og ofte lidt fladtrykt.", koed: "Gråsort, tyndt. Har en meget markant, behagelig frugtduft (stærkere end hos Sort trompetsvamp).", spore: "Hvidlig.", voksemaade: "Vokser ofte i små grupper." }, twin: { name: "Sort trompetsvamp (Craterellus cornucopioides)", diff: "Sort trompetsvamp har en næsten glat eller rynket underside uden ribber.", toxic: false } },
		  res_ametyst_kantarel: { name: "Ametyst-kantarel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser primært i løvskov under bøg og eg, ofte på leret eller kalkrig bund. Findes sjældent under nåletræer.", latin: "Cantharellus amethysteus", months: ["jul", "aug", "sep", "okt"], traits: "Æggegul med lilla/violette skæl på hatten, massive gule ribber, fast hvidt kød.", extended_traits: "Svampen minder om almindelig kantarel med sin æggegule farve og tykke, nedløbende ribber, men kendes på de små, fine violette eller vinfarvede skæl på hathuden, især mod midten, samt et meget fast hvidligt kød med markant abrikosduft.", not_this_if: ["Hathuden er helt glat og jævnt gul uden skyggen af violette skæl", "Undersiden har knivskarpe lameller der kan skrabes af", "Stokken er hul", "Kødet eller overfladen bliver sort ved tryk", "Svampen vokser direkte på træ"], usage: "Fremragende spisesvamp af meget høj kvalitet. Smag og anvendelse som almindelig kantarel.", cleaning: "Børstes grundigt for skovbundsrester med fokus på de små lilla skæl på hatten; undgå vand da de massive ribber suger væske og mister deres sprøde tekstur.", preservation: "Bedst at stege af i smør og fryse ned da det faste kød bevarer sin struktur perfekt; tørring frarådes da svampen bliver meget sej.", naturbasen: "https://www.naturbasen.dk/art/5566/ametyst-kantarel", id_keys: { hat: "3-12 cm. Først hvælvet, siden tragtformet. Gul grundfarve dækket af små ametystfarvede skæl.", hymenium: "Ribberne er tykke, gaffeldelte og løber langt ned ad stokken. Farven er klart æggegul.", stok: "3-8 cm høj, tyk og massiv. Samme farve som ribberne eller lidt lysere.", koed: "Hvidt til svagt gulligt, fast og kompakt. Dufter af abrikos.", spore: "Bleg gul.", voksemaade: "Vokser ofte i grupper eller rækker under gamle løvtræer." }, twin: { name: "Almindelig kantarel (Cantharellus cibarius)", diff: "Almindelig kantarel har en glat, jævnt gul hathud uden lilla skæl.", toxic: false } },
		  res_spiselig_morkel: { name: "Spiselig Morkel", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Findes ofte på kalkrig jord under bøg, ask eller i gamle frugthaver. Kan også dukke op på forstyrret jord eller i flis.", latin: "Morchella esculenta", months: ["apr", "maj", "jun"], traits: "Æggeformet hat med uregelmæssige gruber, stok og hat er sammenvoksede, helt hul indvendig.", extended_traits: "Svampen har en æggeformet til rund gulbrun hat med dybe huller (gruber) der minder om en vaskesvamp, hvor hatten er vokset direkte sammen med den hvidlige stok, og hele svampen er karakteriseret ved at være fuldstændig hul indvendigt som ét stort rum.", not_this_if: ["Svampen er ikke helt hul men har kamre eller kødfuldt fyld indvendigt", "Hatten har hjerneagtige folder i stedet for huller", "Hattens nederste kant sidder løst omkring stokken som en klokke", "Hatten er mørkt rødbrun eller chokoladebrun", "Svampen vokser i efterårsmånederne"], usage: "Fremragende spisesvamp, regnes for en af de bedste i verden. Skal gennemsteges grundigt, da den er giftig som rå.", cleaning: "Skyl grundigt eller læg i koldt vand kortvarigt for at fjerne smådyr og sand fra de dybe gruber; skær svampen igennem på langs for at sikre at det hule indre er rent.", preservation: "Fremragende til tørring hele eller i halve hvilket forstærker den komplekse smag markant; kan også steges grundigt og fryses men tørring er den foretrukne gourmetmetode.", naturbasen: "https://www.naturbasen.dk/art/2705/spiselig-morkel", id_keys: { hat: "3-10 cm. Rund til æggeformet. Gulbrun til lædergul. Overfladen ligner en vaskesvamp med dybe huller.", hymenium: "Gruberne (hullerne) indeholder de sporedannende celler.", stok: "Op til 12 cm høj. Hvidlig til bleggul, ujævn/furet overflade. Hatten sidder fast på stokken uden fri kant (modsat Hættemorkel).", koed: "Voksagtigt, hvidligt og ret skørt. Hele svampen (både hat og stok) er ét stort hulrum.", spore: "Okkergul til hvidlig.", voksemaade: "Enkeltvis eller i små grupper om foråret." }, twin: { name: "Stenmorkel (Gyromitra esculenta)", diff: "Stenmorkel har hjerneagtige folder (ikke huller) og er giftig. Morkler er hule, Stenmorkel er fyldt med 'kamre'.", toxic: true } },
		  res_klor_baegermorkel: { name: "Klor-bægermorkel", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Findes ofte under bøg, ask eller el på fugtig, leret og kalkrig bund. Dukker op tidligt om foråret.", latin: "Disciotis venosa", months: ["mar", "apr", "maj"], traits: "Skålformet, rynket inderside, lugter af klor, hvidlig yderside.", extended_traits: "Svampen er skål- til diskosformet med en mørkebrun, kraftigt rynket eller året midte på indersiden, en hvidlig yderside og et lyst, voksagtigt kød, der afgiver en tydelig lugt af klor ved beskadigelse.", not_this_if: ["Svampen mangler den karakteristiske lugt af klor ved brud", "Indersiden af skålen er helt glat uden rynker eller årer", "Svampen vokser direkte på dødt træ", "Svampen findes i efteråret", "Kødet er elastisk eller sejt frem for skørt og voksagtigt"], usage: "Spiselig og velsmagende efter grundig tilberedning. Klorlugten forsvinder helt ved opvarmning.", cleaning: "Rens forsigtigt for jord på den lyse yderside med en pensel; undgå for meget vand da det skøre kød let knækker og suger væske i de rynkede folder.", preservation: "Bedst at bruge frisk da den komplekse smag udvikles ved stegning hvor klorlugten forsvinder; tørring er mulig men gør de voksagtige stykker meget skrøbelige.", naturbasen: "https://www.naturbasen.dk/art/13187/klor-baegermorkel", id_keys: { hat: "5-15 cm bred. Skål- til diskosformet. Indersiden er mørkebrun og kraftigt rynket/året i midten.", hymenium: "Indersiden af skålen producerer sporerne.", stok: "Meget kort, tyk og ofte delvist begravet i jorden. Hvidlig.", koed: "Lyst, skørt og voksagtigt. Har en karakteristisk lugt af klor (svømmehal) i frisk tilstand.", spore: "Cremegul.", voksemaade: "Vokser ofte i små grupper på jorden nær løvtræer." }, twin: { name: "Bægersvampe", diff: "Andre bægersvampe mangler klorlugten og de tydelige årer/rynker. De er ofte uspiselige.", toxic: false } },
		  res_klokkemorkel: { name: "Klokkemorkel", type: "svamp", habitats: ["deciduous"], extended_habitat: "Findes ofte på fugtig bund i løvskove, gerne under ask, el eller poppel. Foretrækker kalkrig jord.", latin: "Verpa bohemica", months: ["mar", "apr", "maj"], traits: "Klokkeformet hat med hjerneagtige rynker, lang hvid stok, hatten sidder kun fast øverst.", extended_traits: "Svampen har en klokkeformet mørkebrun hat med hjerneagtige folder, der sidder løst som et fingerbøl og kun er hæftet til stokken helt i toppen, mens stokken er lang, hvidlig og dækket af små fine skæl.", not_this_if: ["Hatten er vokset sammen med stokken hele vejen ned (Spiselig Morkel)", "Stokken er fyldt med kamre eller kød frem for at være hul eller fyldt med vatagtigt væv", "Hattens overflade har dybe, regelmæssige huller (gruber) i stedet for hjerneagtige rynker", "Svampen vokser i efteråret", "Svampen vokser direkte på træ"], usage: "Spiselig efter grundig tilberedning, men kan give mavebesvær hos nogle. Bør indtages med forsigtighed.", naturbasen: "https://www.naturbasen.dk/art/4807/rynket-klokkemorkel", cleaning: "Børst forsigtigt hatten for jord og tjek hulrummet mellem den løse hat og stokken for småkryb; vær meget varsom da hatten let falder af stokken på grund af det øverste hæftepunkt.", preservation: "Velegnet til tørring da den hjerneagtige overflade bevarer smagen godt; kan også steges grundigt og fryses men kræver altid komplet gennemstegning før indtagelse.", id_keys: { hat: "2-5 cm høj. Klokkeformet og mørkebrun. Overfladen er kraftigt foldet/rynket (ligner en lille hjerne). Kanten er fri af stokken.", hymenium: "Hele den ydre, rynkede overflade producerer sporerne.", stok: "5-15 cm lang, ofte ret kraftig. Hvid til gullig og dækket af små fine skæl/korn.", koed: "Voksagtigt og skørt. Stokken er først fyldt med vatagtigt væv, men bliver senere hul.", spore: "Okkergul.", voksemaade: "Vokser ofte i små grupper meget tidligt på foråret." }, twin: { name: "Stenmorkel (Gyromitra esculenta)", diff: "Stenmorkel er massiv/kamret indvendig, mens Klokkemorkel er helt hul i stokken.", toxic: true } },
		  res_glat_klokkemorkel: { name: "Glat Klokkemorkel", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser ofte i lyse løvskove, skovbryn eller gamle haver, gerne under træer i rosenfamilien (f.eks. hvidtjørn eller vilde frugttræer).", latin: "Verpa conica", months: ["apr", "maj"], traits: "Klokkeformet hat, glat overflade, hatten sidder kun fast øverst på stokken.", extended_traits: "Svampen har en lille, fingerbølformet hat med en næsten glat eller kun svagt rynket brunlig overflade, der sidder løst ovenpå stokken og kun er hæftet i toppen, samt en lang hvidgul stok, der ofte har fine brune tværbånd eller skæl.", not_this_if: ["Hatten har dybe huller eller gruber (Hætte-morkel eller Spiselig Morkel)", "Hatten er vokset sammen med stokken langs kanten eller hele vejen ned", "Overfladen er kraftigt hjerneagtig foldet (Klokkemorkel)", "Svampen findes uden for forårsmånederne april og maj", "Stokken er massiv og fyldt med fast kød"], usage: "Spiselig efter grundig tilberedning, men regnes ikke for lige så god som de ægte morkler. Er ret sjælden.", cleaning: "Børst forsigtigt hatten for sand og jord; vær ekstremt varsom da hatten kun sidder fast i et lille punkt øverst og knækker meget let af den sprøde stok.", preservation: "Bedst at bruge frisk grundet dens sjældenhed og spinkle kød; kan tørres som andre morkler, men mister let sin struktur og bliver meget skrøbelig.", naturbasen: "https://www.naturbasen.dk/art/14352/glat-klokkemorkel", id_keys: { hat: "2-4 cm bred. Klokkeformet, gulbrun til mørkebrun. Overfladen er næsten glat (ikke med dybe huller som hos morkler). Hatten sidder løst ovenpå stokken.", hymenium: "Den ydre overflade af klokken producerer sporerne.", stok: "5-10 cm lang, cylindrisk, hvidlig til gullig. Ofte med små brune tværbånd eller skæl.", koed: "Voksagtigt og skørt. Stokken er først fyldt med vatagtigt kød, siden hul.", spore: "Okkergul.", voksemaade: "Vokser enkeltvis eller i små grupper på jorden om foråret." }, twin: { name: "Hætte-morkel (Morchella semilibera)", diff: "Hætte-morkel har tydelige morkel-huller (gruber), mens Klokkemorkel har en næsten glat hat. Begge er spiselige", toxic: false } },
		  res_kegle_morkel: { name: "Kegle-morkel", type: "svamp", habitats: ["coniferous", "garden"], extended_habitat: "Findes ofte i nåleskove (især gran), men er også kendt for at dukke op i barkflis i haver eller på steder, hvor der har været skovbrand.", latin: "Morchella conica", months: ["apr", "maj"], traits: "Kegleformet hat, lodrette ribber, mørkere farve end spiselig morkel, hul stok.", extended_traits: "Svampen har en karakteristisk spids og kegleformet hat med mørke, næsten sorte lodrette ribber, der danner regelmæssige rektangulære huller, og hatten er vokset direkte sammen med den hvidlige stok, så hele svampen danner ét stort, hult rum indvendigt.", not_this_if: ["Hattens nederste kant er løs og kan løftes fra stokken", "Svampen er ikke hul, men har kamre eller kød indvendigt", "Hatten er rund eller æggeformet uden tydelige lodrette ribber", "Svampen vokser i efteråret", "Hatten har hjerneagtige folder i stedet for rækker af huller"], usage: "Fremragende spisesvamp, aromatisk og eftertragtet. Skal gennemsteges grundigt (giftig som rå!). Kan med fordel tørres.", cleaning: "Skyl grundigt eller gennemskyl med vand for at fjerne sand og smådyr fra de dybe, geometriske gruber; gennemskær altid på langs for at tjekke det hule indre for skidt.", preservation: "Ideel til tørring da de lodrette ribber holder strukturen godt og aromaen bliver meget intens; kan også fryses efter grundig gennemstegning i smør.", naturbasen: "https://www.naturbasen.dk/art/2728/kegle-morkel", id_keys: { hat: "3-10 cm høj. Spids og kegleformet. Farven varierer fra gråbrun til næsten sort. Har tydelige lodrette ribber.", hymenium: "Gruberne (hullerne) er ofte rektangulære og placeret i rette rækker mellem de lodrette ribber.", stok: "Op til 8 cm høj. Hvidlig til bleggul, bliver furet med alderen. Hatten er vokset direkte sammen med stokken.", koed: "Voksagtigt, tyndt og skørt. Hele svampen er hul indvendig.", spore: "Cremefarvet.", voksemaade: "Vokser ofte i grupper, nogle gange i meget store mængder på flis." }, twin: { name: "Hætte-morkel (Morchella semilibera)", diff: "Hættemorkel har en hat, der hænger løst forneden (fri kant), mens Kegle-morklens hat er vokset sammen med stokken.", toxic: false } },
		  res_haette_morkel: { name: "Hætte-morkel", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser ofte i fugtige løvskove under ask og el, eller i parker og haver med rig jord. Ses tit i nærheden af vandløb.", latin: "Morchella semilibera", months: ["apr", "maj"], traits: "Lille kegleformet hat, lang stok, hatten er kun vokset fast på den øverste halvdel af stokken.", extended_traits: "Svampen har en lille kegleformet hat med mørkebrune ribber og tydelige morkel-huller, hvor den nederste halvdel af hatten hænger frit som en løs kant (skørt), mens den hvidlige stok er markant lang, kornet og hele svampen er fuldstændig hul indvendigt.", not_this_if: ["Hatten er vokset sammen med stokken hele vejen ned til kanten", "Hatten er glat eller kun svagt rynket uden dybe huller", "Svampen er ikke hul, men har kødfulde kamre indvendigt", "Hatten sidder kun fast i det absolutte øverste punkt (som et fingerbøl)", "Svampen vokser i efteråret"], usage: "Spiselig og velsmagende, men kødet er tyndere og mindre aromatisk end hos Kegle-morkel og Spiselig Morkel. Skal tilberedes grundigt. Kan med fordel tørres.", cleaning: "Skyl grundigt for at få jord og smådyr ud af gruberne og tjek især det hule område under den frie hatkant; gennemskær på langs for at sikre, at den lange stok er ren indvendig.", preservation: "Meget velegnet til tørring da det tynde kød tørrer hurtigt og smagen koncentreres; kan også fryses efter grundig gennemstegning, men tørring foretrækkes for at bevare aromaen.", naturbasen: "https://www.naturbasen.dk/art/2768/haette-morkel", id_keys: { hat: "2-4 cm høj. Kegleformet med mørkebrune lodrette ribber og uregelmæssige tvær-ribber. Den nederste kant er fri (kan vippes op).", hymenium: "Gruberne er mørkebrune og adskilt af lysere ribber.", stok: "5-15 cm høj. Hvidlig til gullig, ofte meget lang i forhold til hatten. Overfladen er kornet/melet.", koed: "Skørt og voksagtigt. Hele svampen er hul indvendig.", spore: "Cremefarvet.", voksemaade: "Vokser ofte i små grupper på fugtig bund." }, twin: { name: "Glat Klokkemorkel (Verpa conica)", diff: "Klokkemorkel har en næsten glat hat, mens Hætte-morkel har tydelige morkel-huller (gruber). Begge er spiselige.", toxic: false } },
		  res_indigo: { name: "Punktstokket Indigo-rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Løvskov og nåleskov. Findes ofte under bøg og eg på både sur og kalkholdig bund.", latin: "Neoboletus luridiformis", months: ["jun", "jul", "aug", "sep", "okt"], traits: "Mørkebrun hat, røde rørmundinger, rød stok, gult kød som bliver blækblåt ved brud.", extended_traits: "Svampen kendes på sin mørkebrune, fløjlsagtige hat og de røde rørmundinger, samt en gul stok tæt dækket af små røde punkter uden netmønster, hvor det gule kød øjeblikkeligt farves dybt blækblåt ved gennemskæring.", not_this_if: ["Stokken har et tydeligt netmønster (Netstokket Indigo-rørhat)", "Hatten er meget lys, gråhvid eller læderfarvet (Satans Rørhat)", "Kødet ændrer ikke farve til blå ved gennemskæring", "Rørene på undersiden er hvide eller gule", "Svampen smager meget bittert"], usage: "Fremragende spisesvamp, men skal gennemsteges grundigt (mindst 15-20 min). Giftig som rå! Kødet har en god faste konsistens.", cleaning: "Fjern jordrester med en børste og skær det nederste af stokken af; vær opmærksom på at svampen blåner kraftigt ved berøring hvilket er naturligt og forsvinder ved stegning.", preservation: "Meget velegnet til tørring i tynde skiver da det faste kød holder strukturen godt eller stegt af og frosset ned; kræver altid grundig opvarmning efter optøning.", naturbasen: "https://www.naturbasen.dk/art/4278/punktstokket-indigo-roerhat", id_keys: { hat: "5-20 cm. Mørkebrun til sortbrun. Fløjlsagtig overflade.", hymenium: "Rør. Mundingerne er kraftigt røde til orange. Blåner lynhurtigt ved tryk.", stok: "4 - 16 cm høj. Tyk, gulbundet men tæt dækket af små, røde punkter. Mangler netmønster.", koed: "Fast, gult. Farves dybt blækblåt øjeblikkeligt ved gennemskæring.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Satans Rørhat (Rubroboletus Satanas)", diff: "Satans rørhat har meget lys (gråhvid) hat, aldrig mørkebrun, og rødt netmønster. Giftig!", toxic: true } }, 
		  res_laerke: { name: "Lærke-slimrørhat", type: "svamp", habitats: ["coniferous", "garden"], extended_habitat: "Vokser kun under lærketræer. Findes både i skove, parker og haver hvor lærk findes.", latin: "Suillus grevillei", months: ["jun", "jul", "aug", "sep", "okt"], traits: "Knaldgul til orange hat, meget slimet, tydelig hvidlig/gul ring på stokken.", extended_traits: "Svampen er karakteriseret ved sin knaldgule til orange, meget slimede hat og den tydelige hvide eller gule ring på stokken, og den findes udelukkende i nærheden af lærketræer.", not_this_if: ["Der findes ingen lærketræer i nærheden", "Stokken mangler en ring", "Kødet blåner kraftigt ved gennemskæring", "Hatten er tør eller filtet i fugtigt vejr", "Rørene på undersiden er røde eller orange"], usage: "Spiselig og god. Slimlaget på hatten trækkes af før tilberedning da det kan virke afførende.", cleaning: "Træk det slimede skind af hatten med en kniv inden tilberedning, da det ellers bliver meget slasket og kan virke afførende; stokken rengøres med en pensel eller skrabes let for skovbundsrester.", preservation: "Bedst at stege af i smør og fryse ned, da det bløde kød ikke egner sig særlig godt til tørring; kan dog tørres i meget tynde skiver hvis man fjerner rørene først.", naturbasen: "https://www.naturbasen.dk/art/4310/laerke-slimroerhat", id_keys: { hat: "5-12 cm. Kraftig gul til orange. Meget slimet i fugtigt vejr. Har ofte en lille pukkel i midten.", hymenium: "Rør. Gule, senere brune, ret små. Overdækket af et slør som ung.", stok: "5 - 12 cm. Gul over ringen, ofte brunlig herunder. Har en tydelig, hindeagtig hvidlig/gul ring.", koed: "Gult, blødt. Kan anløbe svagt rosa eller grønligt. Blåner ikke. Har ingen udpræget lugt.", spore: "Okkerbrun.", voksemaade: "Ofte i store grupper under lærk." }, twin: { name: "Brungul Slimrørhat", diff: "Vokser under fyr. Hatten er mere brunlig, stokken har små brune kirtelpunkter.", toxic: false } }, 		  
		  res_birkeskael: { name: "Brun skælrørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser næsten altid under birk. Findes både i skov, moser og haver.", latin: "Leccinum scabrum", months: ["jul", "aug", "sep", "okt"], traits: "Gråbrun hat, den slanke, hårde stok har sorte skæl. kødet blåner ikke.", extended_traits: "Svampen kendes på sin gråbrune til nøddebrune hat og den lange, slanke hvidlige stok, der er tæt dækket af små mørkebrune eller sorte skæl, samt hvidt kød der stort set ikke ændrer farve ved gennemskæring.", not_this_if: ["Der er ingen birketræer i nærheden", "Kødet blåner kraftigt ved gennemskæring eller tryk", "Hatten er kraftig orange eller rødbrun", "Stokken har et netmønster i stedet for skæl", "Rørene på undersiden er lyserøde"], usage: "Spiselig, men bør blandes med andre svampe, da den ikke er den bedste. Hatten bliver meget blød ved stegning. Stokken er ofte for sej til at spise.", cleaning: "Fjern jordrester fra stokken ved at skrabe den med en kniv; hatten bør tørres af med en pensel, og hvis rørene er meget bløde eller mørke på ældre eksemplarer, kan de med fordel skrabes af før tilberedning.", preservation: "Egner sig bedst til stegning eller stuvning kort efter plukning, da hatten hurtigt bliver blød; kan fryses efter stegning, men tørring anbefales kun til hatten, da stokken bliver alt for træagtig.", naturbasen: "https://www.naturbasen.dk/art/12788/brun-skaelroerhat-(i-bred-betydning)", id_keys: { hat: "5-15 cm. Gråbrun til nøddebrun. Glat, tør, men fedtet i regnvejr.", hymenium: "Rør. Lange og hvide, bliver senere grårune. Bulner ofte ud under hatten.", stok: "Op til 15 cm. Lang og slank, hvidlig bund dækket af mange små, mørkebrune eller sorte skæl.", koed: "Hvidt, blødt i hatten. Ændrer ikke farve (eller kun meget svagt rosa) ved brud.", spore: "Brun.", voksemaade: "Enkeltvis eller få sammen under birk." }, twin: { name: "Orange Skælrørhat (Leccinum versipelle)", diff: "Hatten er mere orange. Denne er også spiselig, men nogle kan være allergiske.", toxic: false } }, 
		  res_sommer_karljohan: { name: "Sommer-rørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Løvskov, især under bøg og eg. Foretrækker varme og findes ofte i vejkanter eller lysninger.", latin: "Boletus reticulatus", months: ["maj", "jun", "jul", "aug"], traits: "Lysebrun, tør, filtet hat. Lysebrunt netmønster på hele stokken.", extended_traits: "Svampen har en lysebrun, tør og ruskindagtig hat, der ofte sprækker i tørvejr, samt en tyk hvidlig stok med et meget tydeligt lyst netmønster, der dækker hele stokken fra top til bund.", not_this_if: ["Stokken har et mørkt eller groft netmønster", "Svampen smager meget bittert", "Rørene har et rosa eller lyserødt skær", "Kødet blåner ved gennemskæring eller tryk", "Hatten er slimet eller glat (som hos den almindelige Karl Johan)"], usage: "Fremragende spisesvamp. Hele svampen er anvendelig. Er dog ofte angrebet af larver", cleaning: "Fjern jordrester med en børste og skær det nederste af stokken af; gennemskær altid hele svampen med det samme for at tjekke for larveangreb, da sommerens varme gør denne art særligt udsat.", preservation: "Ideel til tørring i tynde skiver da det koncentrerer den nøddeagtige aroma; kan også steges af i smør og fryses ned, men tjek altid for larvehuller før konservering.", naturbasen: "https://www.naturbasen.dk/art/4302/sommer-roerhat", id_keys: { hat: "8-20 cm. Lyst læderbrun til kaffebrun. Overfladen er filtet og sprækker ofte i tørvejr.", hymenium: "Rør. Først hvide, siden gullige og til sidst olivengrønne.", stok: "Tyk og knoldet. Lysebrun med et tydeligt, hvidligt netmønster helt fra top til bund.", koed: "Hvidt. Blåner ikke ved gennemskæring. Nøddeagtig, jordlig duft.", spore: "Olivenbrun.", voksemaade: "Ofte enkeltvis eller i små grupper." }, twin: { name: "Galderørhat (Tylopilus felleus)", diff: "Galderørhat har mørkt, groft netmønster og er meget bitter.", toxic: false } }, 
		  res_roedbrun_karljohan: { name: "Rødbrun Rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Vokser primært i nåleskov under fyr i sandet jord, men kan også findes under bøgetræer især i år med varme somre.", latin: "Boletus pinophilus", months: ["maj", "jun", "aug", "sep", "okt"], traits: "Vinrød/rødbrun hat, tyk stok med meget fast kød, lyst netmønster.", extended_traits: "Svampen er meget tung og kompakt med en rødbrun til vinrød hat, der ofte har et violet skær, samt en meget tyk stok med et fint lyst netmønster og hvidt, fast kød, der er svagt rødbrunt lige under hathuden.", not_this_if: ["Kødet blåner ved gennemskæring eller tryk", "Stokken har et mørkt eller sort netmønster", "Svampen smager bittert", "Rørene er røde eller orange", "Hatten er lys læderbrun uden rødlige toner"], usage: "Fremragende spisesvamp. Bevarer sin faste struktur ved tilberedning.", cleaning: "Fjern skovbundsrester med en blød børste og skær den nederste del af den massive stok af; da kødet er meget kompakt, bør den gennemskæres for at sikre, at der ikke gemmer sig snegle i bunden.", preservation: "Måske den bedste rørhat til tørring på grund af sin ekstreme fasthed; kan også fryses ned efter stegning eller skæres i meget tynde skiver og spises rå (carpaccio) pga. den faste tekstur.", naturbasen: "https://www.naturbasen.dk/art/5761/roedbrun-roerhat", id_keys: { hat: "8-25 cm. Rødbrun til mørkebrun med et vinrødt skær. Ofte lidt knudret og fedtet til tør.", hymenium: "Rør. Først hvide, siden gullige. Meget tætte.", stok: "Op til 10 cm høj. Meget tyk og kraftig. Rødbrunlig med et fint, lyst netmønster.", koed: "Hvidt og meget fast. Blåner ikke ved gennemskæring. Svagt rødbrunt lige under hathuden.", spore: "Olivenbrun.", voksemaade: "Ofte enkeltvis." }, twin: { name: "Karl Johan (Boletus edulis)", diff: "Karl Johan mangler de vinrøde toner i hatten og er mindre kompakt.", toxic: false } }, 
		  res_aspe_skael: { name: "Aspe-skælrørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Orangebrun hat. Vokser kun sammen med asp. Almindelig i lysninger og skovbryn.", latin: "Leccinum albostipitatum", months: ["aug", "sep", "okt"], traits: "Orange hat, stok med sorte skæl, vokser under asp.", extended_traits: "Svampen kendes på sin lyse orange til teglrøde, filtede hat og sin hvide stok dækket af skæl, der hurtigt bliver sorte, samt det faste hvide kød, der farves lilla til gråsort ved gennemskæring (især i bunden), og den findes udelukkende under asp.", not_this_if: ["Der er ingen aspetræer i nærheden", "Stokken har et netmønster i stedet for skæl", "Kødet ændrer slet ikke farve ved gennemskæring", "Hatten er mørkebrun eller lædergul", "Svampen vokser i foråret"], usage: "God spisesvamp. Skal gennemsteges grundigt. Kødet bliver mørkt ved tilberedning.", cleaning: "Skrab forsigtigt de sorte skæl af stokken med en kniv, hvis de er meget grove; hatten børstet for blade og jord. Vær opmærksom på, at kødet bliver næsten sort under tilberedning, hvilket er helt normalt for denne art.", preservation: "Velegnet til stegning og efterfølgende nedfrysning; ved tørring bliver svampen meget mørk, men bevarer en god, kraftig smag. Husk altid grundig gennemstegning før brug.", naturbasen: "https://www.naturbasen.dk/art/5453/aspe-skaelroerhat", id_keys: { hat: "5-20 cm. Lys orange til teglrød. Filtet hatoverflade.", hymenium: "Rør. Hvide, bliver senere gråbrune.", stok: "Hvid bund dækket af skæl, der hurtigt bliver gråsorte eller sorte.", koed: "Hvidt og fast. Farves lilla/gråsort ved gennemskæring, især i bunden af stokken.", spore: "Brun.", voksemaade: "I grupper under asp." }, twin: { name: "Rustrød skælrørhat (Leccinum quercinum)", diff: "Vokser under eg/bøg. Skællene på stokken er hvide til rødbrune. Denne er også spiselig.", toxic: false } }, 
		  res_orange_skael: { name: "Orange Skælrørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Orange hat, sorte skæl, vokser især under birk, gerne på næringsfattig og tør jord.", latin: "Leccinum versipelle", months: ["jun", "jul", "aug", "sep", "okt", "nov"], traits: "Orange hat, hvide skæl på stokken der bliver brune.", extended_traits: "Svampen er en robust rørhat med en flot orange til rødbrun, filtet hat og en kraftig hvid stok dækket af skæl, der starter som hvide, men siden bliver rødbrune eller mørke, mens det faste hvide kød anløber grålilla til sort ved gennemskæring.", not_this_if: ["Der er ingen birketræer i nærheden", "Stokken har et netmønster i stedet for skæl", "Kødet ændrer slet ikke farve ved gennemskæring", "Hatten er bleg gul eller mørkebrun", "Svampen smager bittert"], usage: "Meget god spisesvamp, men skal gennemsteges da den ellers kan give mavepine. Kødet bliver sort ved stegning. Sjældent angrebet af orme. Nogle kan være overfølsomme over for den.", cleaning: "Skrab stokken fri for de groveste skæl og fjern jordrester; hatten bør børstes tør. Da kødet er meget fast og sjældent har orm, er den nem at gøre klar, men vær forberedt på at den farver kniv og fingre mørke.", preservation: "Fremragende til både frysning (efter stegning) og tørring; ved tørring bliver skiverne helt sorte, men de giver en fantastisk dybde og kraft i saucer og supper. Husk altid minimum 15-20 minutters tilberedning.", naturbasen: "https://www.naturbasen.dk/art/2971/orange-skaelroerhat", id_keys: { hat: "5-20 cm. Flot orange til rødbrun. Overfladen er tør og fint filtet. Starter kugleformet, senere vælvet.", hymenium: "Brede rør. Hvide til grålige. Blåner/gråner svagt ved tryk.", stok: "Op til 15 cm. Kraftig hvid stok, dækket af skæl som starter med at være hvide, men siden bliver rødbrune.", koed: "Fast og hvidt. Ved gennemskæring bliver det først grålilla og siden næsten sort.", spore: "Brun.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Aspe-skælrørhat (Leccinum albostipitatum)", diff: "Vokser under asp, ikke birk. Skællene på stokken er sorte næsten fra starten.", toxic: false } }, 
		  res_rustroed_skaelroerhat: { name: "Rustrød skælrørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Løvskov, specifikt knyttet til eg, bævreasp, poppel og bøg. Foretrækker leret eller kalkholdig jord.", latin: "Leccinum quercinum", months: ["jul", "aug", "sep", "okt"], traits: "Orange/rødbrun hat, hvid stok med rustrøde skæl allerede ved unge svampe.", extended_traits: "Svampen har en karakteristisk orange til rustrød, filtet hat og en kraftig hvid stok dækket af skæl, der hurtigt skifter farve fra hvid til rustbrun, mens det faste hvide kød anløber lilla-gråt og siden sort ved gennemskæring.", not_this_if: ["Der er ingen løvtræer som eg, bøg eller poppel i nærheden", "Stokken har et netmønster i stedet for skæl", "Kødet ændrer slet ikke farve ved gennemskæring", "Skællene på stokken er kulsorte fra starten (Aspe-skælrørhat)", "Hatten er slimet eller glat"], usage: "Kan bruges som spisevamp, men er ikke en af de gode og kræver mindst 15-20 min. stegning for at undgå mavepine. Kødet sortner ved tilberedning. Enkelte kan være overfølsomme", cleaning: "Skrab forsigtigt de rustfarvede skæl af stokken med en kniv; hatten bør børstes ren for blade. Husk at svampen farver både kniv og skærebræt mørkt på grund af den kraftige reaktion i kødet.", preservation: "Bør steges grundigt (15-20 minutter) og kan derefter fryses; tørring er mulig, men resultatet bliver helt sort og er bedst egnet som smagsgiver i gryderetter frem for som hele stykker.", naturbasen: "https://www.naturbasen.dk/art/12740/rustroed-skaelroerhat", id_keys: { hat: "5-20 cm. Halvkugleformet til hvælvet. Farven er orange til rustrød. Overfladen er tør og fint filtet.", hymenium: "Rør. Hvidlige til gråhvide, meget små og tætte. Bliver mørke ved tryk.", stok: "8-18 cm. Kraftig og fast. Hvid bund dækket af skæl, der modnes fra hvid til rustbrun.", koed: "Hvidt og fast. Ved brud farves det først lilla-gråt og siden næsten sort. Har en mild lugt og smag.", spore: "Okkerbrun.", voksemaade: "Enkeltvis eller i små grupper under løvtræer." }, twin: { name: "Aspe-skælrørhat (Leccinum albostipitatum)", diff: "Vokser udelukkende under asp og har hvidlige skæl på stokken, der hurtigt bliver helt sorte. Kan være svær at kende forskel hos ældre svampe. Begge er spiselige.", toxic: false } },
		  res_brungul_slimroerhat: { name: "Brungul Slimrørhat", type: "svamp", habitats: ["coniferous"], extended_habitat: "Vokser udelukkende under to-nålede fyrretræer. Meget almindelig i plantager. Ofte på sandbund.", latin: "Suillus luteus", months: ["aug", "sep", "okt", "nov"], traits: "Brun slimet hat, altid skinnende selv når den er tør, ring på stokken, vokser under fyr.", extended_traits: "Svampen kendes på sin mørkebrune til chokoladebrune hat, der altid er ekstremt slimet i fugtigt vejr og skinnende i tørvejr, samt den hvide ring på stokken og de små brune kirtelpunkter på den øverste del af stokken over ringen.", not_this_if: ["Der findes ingen fyrretræer i nærheden", "Stokken mangler en ring", "Kødet blåner ved gennemskæring", "Hatten er tør, filtet eller har skæl", "Rørene på undersiden er røde eller orange"], usage: "God spisesvamp. Den slimede hud bør trækkes af hatten inden tilberedning.", cleaning: "Træk altid den slimede hathud af med en lille kniv (start fra kanten), da den både kan give mavebesvær og ødelægge konsistensen i panden; stokken skrabes ren for jord og kirtelpunkter.", preservation: "Bedst egnet til frysning efter stegning; tørring er besværlig på grund af det høje vandindhold og den bløde konsistens, men kan lade sig gøre i meget tynde skiver efter afhudning.", naturbasen: "https://www.naturbasen.dk/art/2142/brungul-slimroerhat", id_keys: { hat: "5-12 cm. Mørkebrun til chokoladebrun. Først kugleformet, senere flader den ud. Meget slimet i fugt og glinsende i tørvejr.", hymenium: "Rør. Små og citrongule, senere olivengule.", stok: "Op til 10 cm høj. Hvidlig med en tydelig ring. Over ringen er stokken dækket af små brune kirtelpunkter.", koed: "Blødt, hvidgult. Uforanderligt ved brud. Mild smag og lugt.", spore: "Okkerbrun.", voksemaade: "Ofte i store flokke under fyr." }, twin: { name: "Lærke-slimrørhat (Suillus grevillei)", diff: "Vokser under lærk og er meget mere gul/orange i farven.", toxic: false } }, 
		  res_roedsprukken_roerhat: { name: "Rødsprukken Rørhat", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Løvskov og parker, ofte under bøg. Kan også findes i nåleskov.", latin: "Xerocomellus chrysenteron", months: ["jun", "jul", "aug", "sep", "okt", "nov"], traits: "Hat sprækker i firkanter, rosa kød under huden.", extended_traits: "Svampen er let genkendelig på sin gråbrune til olivenbrune hat, der næsten altid sprækker op i et karakteristisk netmønster af små firkanter, som afslører det rødlige kød nedenunder, samt dens slanke stok, der ofte er rødlig på midten eller mod bunden.", not_this_if: ["Hathuden er hel og uden sprækker (Dugget Rørhat)", "Kødet under hathuden er hvidt eller gult uden røde nuancer", "Stokken har et netmønster (som hos Karl Johan)", "Rørene på undersiden er hvide eller røde", "Svampen er stor og meget kødfuld (over 10-12 cm i hatbredde)"], usage: "Spiselig, men ikke af høj kvalitet da den ofte er blød og hurtigt bliver angrebet af skimmel og larver.", cleaning: "Børstes forsigtigt; undgå vand da det bløde kød og sprækkerne i hatten suger væske som en svamp. Da den hurtigt bliver blød, bør kun unge, faste eksemplarer indsamles.", preservation: "Dårligt egnet til tørring på grund af den bløde struktur; bedst at bruge frisk eller stege hurtigt og fryse. Vær meget opmærksom på hvid skimmel (snyltesvamp), som ofte angriber denne art – smid den ud hvis den virker støvet eller blød.", naturbasen: "https://www.naturbasen.dk/art/3196/roedsprukken-roerhat", id_keys: { hat: "3-8 cm. Gråbrun til olivenbrun. Sprækker hurtigt op i et netmønster med røde revner. Starter halvkugleformet, senere hvælvet eller næsten flad. Lugter mildt af frugt.", hymenium: "Rør. Store, kantede og gule. Blåner svagt ved tryk.", stok: "4 - 8 cm. Slank og bugtet, ofte rødlig (især på midten eller forneden).", koed: "Gult kød, der er tydeligt rødt lige under hathuden. Blåner svagt.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Dugget Rørhat (Xerocomellus pruinatus)", diff: "Hatten sprækker ikke på samme måde og har en hvidlig 'dug'. Begge er spiselige.", toxic: false } }, 
		  res_dugget_roerhat: { name: "Dugget Rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Løvskov, især under bøg og eg, og nåleskov. Foretrækker varme.", latin: "Xerocomellus pruinatus", months: ["aug", "sep", "okt", "nov"], traits: "Mørk hat med lys 'dug', gult kød der blåner svagt.", extended_traits: "Svampen kendes på sin mørkebrune til næsten sorte hat, der er dækket af en fin hvidlig dug (især som ung), og sit kraftigt gule kød, der blåner langsomt og svagt ved gennemskæring, hvilket gør den fastere og mere eftertragtet end den lignende rødsprukne rørhat.", not_this_if: ["Hathuden sprækker kraftigt op i firkanter med rødt kød synligt i revnerne (Rødsprukken Rørhat)", "Kødet er hvidt og blåner ikke (Karl Johan-typer)", "Stokken har et tydeligt netmønster", "Rørene på undersiden er hvide", "Svampen har en ring på stokken"], usage: "Kan bruges som spisesvamp, bedre og fastere end Rødsprukken Rørhat.", cleaning: "Børst forsigtigt den fine dug af eller lad den være; stokken skrabes for jord. Da kødet er betydeligt fastere end hos den rødsprukne rørhat, tåler den bedre håndtering, men tjek stadig for larver i stokbasis.", preservation: "En af de bedre i denne gruppe til frysning efter stegning på grund af det faste kød; tørring er mulig i tynde skiver, men den mister hurtigt sin farve og bliver meget mørk.", naturbasen: "https://www.naturbasen.dk/art/5552/dugget-roerhat", id_keys: { hat: "4-10 cm. Mørkebrun til næsten sortagtig med et bordeaux skær. Dækket af en fin hvidlig dug.", hymenium: "Rør. Kraftigt gule, senere olivengrønne. Blåner svagt.", stok: "Op til 8 cm. Ofte kraftig gul, men kan have rødlige partier forneden.", koed: "Kraftigt gult kød, der blåner langsomt og svagt ved brud.", spore: "Olivenbrun.", voksemaade: "Ofte sent på sæsonen i løvskov." }, twin: { name: "Rødsprukken Rørhat (Xerocomellus chrysenteron)", diff: "Hatten sprækker meget oftere op, og kødet er mindre fast.", toxic: false } }, 
		  res_netstokket_indigo: { name: "Netstokket Indigo-rørhat", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Løvskov på kalkholdig bund, parker og alléer under gamle egetræer. Altid på næringsrig jord og i vejkanter.", latin: "Suillellus luridus", months: ["jun", "jul", "aug", "sep", "okt"], traits: "Olivengul/brun hat, rødlig stok med tydeligt groft rødt net, blåner kraftigt.", extended_traits: "Svampen kendes på sin variable olivengule til murstensrøde hat og en stok med et meget tydeligt, groft rødbrunt netmønster, samt gult kød med en rød linje lige over rørene, der lynhurtigt farves intenst blåt ved gennemskæring.", not_this_if: ["Stokken har røde punkter i stedet for et netmønster (Punktstokket Indigo-rørhat)", "Hatten er meget lys, hvidlig eller sølvgrå (Satans Rørhat)", "Kødet ændrer ikke farve ved brud", "Rørene på undersiden er hvide eller gule uden røde mundinger", "Svampen findes i nåleskov på meget sur bund"], usage: "Spiselig efter grundig tilberedning. Advarsel: Kan give mavepine sammen med alkohol. Ofte angrebet af insekter, så gå efter de unge svampe.", cleaning: "Fjern jordrester med en børste og skær stokbasis af; da svampen ofte er angrebet af insekter, bør den gennemskæres med det samme for at sikre, at kødet er friskt og fast. Vær forberedt på den dramatiske blå farveændring.", preservation: "Egner sig bedst til stegning umiddelbart efter plukning på grund af insektfare; kan fryses efter grundig gennemstegning. Tørring anbefales kun for helt unge, fejlfrie eksemplarer.", naturbasen: "https://www.naturbasen.dk/art/3467/netstokket-indigo-roerhat", id_keys: { hat: "5-20 cm. Variabel farve: olivenbrun, lædergul eller murstensrød. Først filtet, senere glat og fedtet.", hymenium: "Rør. Mundingerne er gule til mørkerøde. Blåner lynhurtigt sortblåt.", stok: "Gul-orange bund med et meget tydeligt, rødbrunt netmønster med aflange masker.", koed: "Gult, men bliver lynhurtigt blåt ved brud. Der er en rød linje over rørene. Mild smag og lugt.", spore: "Olivenbrun.", voksemaade: "Ofte i parker under gamle træer." }, twin: { name: "Punktstokket Indigo-rørhat (Neoboletus luridiformis)", diff: "Mangler netmønster på stokken (har røde punkter i stedet). Er mere sikker at spise.", toxic: false } },
		  res_poppel_skaelroerhat: { name: "Poppel-skælrørhat", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser udelukkende under poppel-arter (især Gråpoppel og Sølvpoppel). Findes ofte i parker, alléer eller skovbryn.", latin: "Leccinum duriusculum", months: ["jul", "aug", "sep", "okt"], traits: "Gråbrun hat, meget hård stok med mørke skæl, anløber blåt i stokbasis.", extended_traits: "Svampen er en af de mest faste skælrørhatte, kendetegnet ved sin gråbrune hat og en meget hård, skællet stok, der har en unik blågrøn zone helt nede ved basis. Ved gennemskæring ændrer kødet farve til rosa/vinrødt i toppen og blåt i bunden.", not_this_if: ["Der findes ingen poppeltræer i nærheden", "Stokken er blød eller svampet", "Kødet i stokbasis ændrer ikke farve til blågrøn", "Hatten er orange eller rødbrun", "Stokken har et netmønster i stedet for skæl"], usage: "God spisesvamp. Blandt de bedste skælrørhatte pga. det faste kød. Skal gennemsteges i 15-20 min. Kødet bliver sort ved stegning. Nogle kan være overfølsomme.", cleaning: "Skrab jordrester af den meget hårde stok og børst hatten ren; gennemskær altid stokken for at nyde den flotte blågrønne farvereaktion i bunden og tjekke for eventuelle larvegange i det ellers meget tætte kød.", preservation: "En af de bedste skælrørhatte til tørring på grund af sin ekstreme fasthed; skiverne bliver dog meget mørke. Velegnet til frysning efter grundig stegning i minimum 15-20 minutter.", naturbasen: "https://www.naturbasen.dk/art/4327/poppel-skaelroerhat", id_keys: { hat: "5-20 cm. Gråbrun til mørkebrun, ofte med et svagt lilla skær. Filtet og tør, kan blive lidt fedtet i fugtigt vejr. Bliver glattere med alderen og kan sprække.", hymenium: "Rør. Hvidlige til cremefarvede, bliver gråbrune ved berøring.", stok: "8-15 cm. Meget fast og hård. Hvidlig bund dækket af tætte, små gråsorte skæl. Har ofte en blågrøn zone helt nede ved basis.", koed: "Meget fast, hvidt. Ved gennemskæring bliver det hurtigt rosa/vinrødt i hatten og øverst i stokken, mens bunden af stokken bliver tydeligt blågrøn.", spore: "Brun.", voksemaade: "Enkeltvis eller i små grupper tæt på poppeltræer." }, twin: { name: "Brun skælrørhat (Leccinum scabrum)", diff: "Vokser under birk. Har meget blødere kød i hatten og mangler den blågrønne farve i stokbasis.", toxic: false } },
		  res_tenstokket_roerhat: { name: "Tenstokket rørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser i varme løvskove på kalkrig bund, primært under bøg og eg. Findes ofte på sydvendte skrænter. Forekommer sjældent i nåleskov.", latin: "Butyriboletus appendiculatus", months: ["jul", "aug", "sep", "okt"], traits: "Okkerbrun hat, smørgule rør og stok, tilspidset rod.", extended_traits: "Svampen er kendetegnet ved sin okkerbrune hat og sine smørgule rør og stok. Stokken er ofte tykkest på midten og ender i en karakteristisk tilspidset rod, mens det faste, gule kød kun blåner ganske svagt og langsomt i hatten ved gennemskæring.", not_this_if: ["Rørene eller stokken har røde eller orange farver (Indigo-rørhatte)", "Kødet blåner lynhurtigt og kraftigt blåt ved brud", "Svampen smager meget bittert (Galderørhat)", "Stokken er helt cylindrisk og mangler netmønster øverst", "Hatten er mørkebrun og fløjlsagtig (Punktstokket Indigo-rørhat)"], usage: "Fremragende spisesvamp, på højde med Karl Johan. Da den er sjælden, bør man dog kun indsamle den med måde. Skifter farve til blå eller grålig tone ved tilberedning", cleaning: "Fjern jordrester med en børste og vær særligt opmærksom på den tilspidsede rod, hvor jord kan sidde fast i små revner; da svampen er sjælden og kødet meget fast, bør den renses nænsomt for at bevare så meget som muligt.", preservation: "Ligesom Karl Johan er denne svamp fantastisk til tørring, da smagen koncentreres og bliver meget intens; kan også skæres i faste skiver og steges direkte eller fryses efter en let blanchering.", naturbasen: "https://www.naturbasen.dk/art/5497/tenstokket-roerhat", id_keys: { hat: "8-20 cm. Okkerbrun, læderbrun eller kastanjebrun. Overfladen er fint filtet som ung, siden glat. Først konveks, senere flad og kan sprkke", hymenium: "Rør. Klart smørgule, bliver senere olivengule. Blåner svagt og langsomt ved tryk.", stok: "Op til 15 cm. Kraftig, ofte tykkest på midten og tilspidset mod bunden. Gul med et fint, lyst gult netmønster øverst.", koed: "Fast og smørgult. Blåner svagt i hatten ved gennemskæring, men er uforanderligt i stokken.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper." }, twin: { name: "Netstokket Indigo-rørhat (Suillellus luridus)", diff: "Netstokket Indigo-rørhat har orange/røde rørmundinger og blåner meget kraftigere. Har ofte et rødt net. Spiselig, men ikke sammen med alkohol.", toxic: false } }, 
		  res_hvidsprukken_roerhat: { name: "Hvidsprukken rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Findes i både løv- og nåleskov, ofte under bøg eller eg. Foretrækker muldrig bund.", latin: "Xerocomellus porosporus", months: ["jul", "aug", "sep", "okt"], traits: "Gråbrun hat der sprækker op, hvidligt/blegt kød i sprækkerne, blåner svagt.", extended_traits: "Svampen minder om Rødsprukken rørhat, men adskiller sig ved, at kødet i hatsprækkerne er hvidligt eller gråhvidt i stedet for rødt. Stokken er typisk også mere afdæmpet i farverne og mangler de markante røde toner.", not_this_if: ["Kødet i sprækkerne eller lige under hathuden er rødt (Rødsprukken rørhat)", "Hatten er dækket af en fin hvidlig dug og sprækker ikke (Dugget rørhat)", "Stokken har et tydeligt netmønster", "Kødet er meget fast og blåner ikke", "Rørene på undersiden er hvide (unge Karl Johan)"], usage: "Spiselig, men af lav kulinarisk kvalitet. Kødet er ofte blødt, og svampen bliver hurtigt angrebet af skimmel. Hvis svampen føles 'svampet' eller blød i kødet, eller hvis der er hvide belægninger (skimmel) på rørene, bør du lade den stå", cleaning: "Fjern jordrester forsigtigt; undgå enhver form for vand, da den sprækkede hat suger væske ekstremt hurtigt. Da kødet er blødt og ofte vandholdigt, bør kun de mindste og mest faste eksemplarer tages med hjem.", preservation: "Dårligt egnet til opbevaring. Bør tilberedes med det samme, da den hurtigt bliver 'smattet' og angribes af snyltesvampe; tørring frarådes, da resultatet ofte bliver sejt og smagløst.", naturbasen: "https://www.naturbasen.dk/art/5408/hvidsprukken-roerhat", id_keys: { hat: "3-8 cm. Gråbrun til olivenbrun. Sprækker hurtigt op i små felter, hvor det lyse kød ses.", hymenium: "Rør. Gule til olivengule, ret store og kantede. Blåner svagt ved tryk.", stok: "Op til 6 cm. Slank, ofte gråbrun eller gullig. Mangler typisk de røde farvetoner, som ses hos Rødsprukken rørhat.", koed: "Hvidligt til bleg-gult. Ingen rød farve under hathuden (vigtigt kendetegn). Blåner svagt.", spore: "Olivenbrun. Karakteristisk 'afstumpet' (med pore) i den ene ende under mikroskop.", voksemaade: "Enkeltvis eller få sammen." } },
		  res_sump_roerhat: { name: "Sump-rørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser på meget fugtig bund, ofte direkte i dynd eller mos. Knyttet til pil, poppel og el i moser, ved søbredder eller i fugtige lavninger.", latin: "Xerocomellus ripariellus", months: ["juli", "aug", "sep", "okt"], traits: "Lille rødbrun rørhat, vokser meget fugtigt, blåner svagt.", extended_traits: "En lille rørhat, der er specialiseret i meget fugtige miljøer. Den kendes på sin rødbrune hat, der ofte sprækker op, og det karakteristiske rabarber-røde eller mørkerøde kød helt nede i stokbasis, som adskiller den fra dens nærmeste slægtninge.", not_this_if: ["Voksestedet er tørt (fx en almindelig bøgeskov eller græsplæne)", "Der findes ingen pil, poppel eller el i nærheden", "Kødet i stokbasis er hvidt eller gult uden røde nuancer", "Stokken har et tydeligt netmønster eller mørke skæl", "Svampen er stor og kraftig (over 6-7 cm i hatbredde)"], usage: "Spiselig, men uden stor værdi. Da den ofte vokser meget fugtigt, er den tit vanddrukken og bliver hurtigt dårlig.", cleaning: "Renses forsigtigt for dynd og mos; undgå at vaske den, da den i forvejen ofte er meget vandholdig på grund af voksestedet. Skær den nederste del af stokken af, hvis den er for blød eller mudret.", preservation: "Dårligt egnet til preservation. Bør spises med det samme, hvis den overhovedet indsamles, da det høje vandindhold gør, at den hurtigt går i forrådnelse; tørring frarådes.", naturbasen: "https://www.naturbasen.dk/art/30458/sump-roerhat", id_keys: { hat: "2-6 cm. Rødbrun, teglrød eller mørkebrun. Overfladen sprækker ofte op i små felter (især i tørre perioder).", hymenium: "Rør. Gule til olivengule, ret store porer. Blåner svagt ved tryk.", stok: "Slank, ofte gullig øverst og rødbrun mod bunden. Har ingen netmønster eller skæl.", koed: "Hvidgult i hatten, men typisk mørkerødt/rabarberfarvet i selve stokbasis. Blåner svagt i hatten ved gennemskæring.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller få sammen nær vandelskende løvtræer." }, twin: { name: "Rødsprukken rørhat (Xerocomellus chrysenteron)", diff: "Vokser på mere tør bund i skove og parker. Mangler det mørkerøde kød i stokbasis.", toxic: false } },
		  res_glatstokket_indigo: { name: "Glatstokket Indigo-rørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser på varm, kalkrig jord under bøg og eg. Sjælden i Danmark og findes typisk i gamle herregårdsparker eller sydvendte løvskovsbryn.", latin: "Suillellus queletii", months: ["jul", "aug", "sep"], traits: "Orange/rød hat, orange rør, glat stok med vinrød basis, blåner kraftigt.", extended_traits: "En sjælden rørhat, der kendes på sin kombination af orange-røde rørmundinger og en helt glat stok uden netmønster eller tydelige punkter. Et sikkert kendetegn er det mørke vinrøde eller rødbedefarvede kød helt nede i stokbasis.", not_this_if: ["Stokken har et tydeligt netmønster (Netstokket Indigo-rørhat)", "Stokken er dækket af fine, tætte røde punkter (Punktstokket Indigo-rørhat)", "Kødet i stokbasis er gult eller hvidligt", "Hatten er meget lys eller gråhvid (Satans Rørhat)", "Rørene på undersiden er hvide eller rene gule"], usage: "Spiselig efter grundig tilberedning (min. 20 min.)", cleaning: "Fjern jordrester med en børste; gennemskær stokken for at bekræfte den vinrøde farve i bunden. Da svampen er sjælden, bør man kun indsamle få eksemplarer og altid sikre sig, at de er friske og faste.", preservation: "Som de andre indigo-rørhatte er den bedst egnet til direkte stegning (husk min. 20 min.); kan fryses ned efter tilberedning, men tørring anbefales sjældent pga. kødets kraftige farvereaktion.", naturbasen: "https://www.naturbasen.dk/art/4278/punktstokket-indigo-roerhat", id_keys: { hat: "5-15 cm. Farven varierer meget, fra orange-gul til murstensrød eller olivenbrun. Overfladen er fint filtet.", hymenium: "Rør. Orange til orange-røde mundinger (lysere end hos Netstokket Indigo). Blåner kraftigt ved berøring.", stok: "Glat eller meget fint punktret, men uden netmønster og uden tydelige røde punkter. Gul øverst, men typisk mørkt vinrød nederst.", koed: "Gult, men blåner lynhurtigt og kraftigt. Kødet i selve stokbasis er karakteristisk rødbedefarvet.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper." }, twin: { name: "Netstokket Indigo-rørhat (Suillellus luridus)", diff: "Har et tydeligt, groft netmønster på stokken. Glatstokket Indigo er helt jævn på stokoverfladen.", toxic: false } },
		  res_blodroed_roerhat: { name: "Blodrød Rørhat", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser i skove, parker, haver og vejkanter under løvtræer (ofte eg eller bøg). Foretrækker solrige steder med græs eller dybe lag bøgeløv.", latin: "Hortiboletus rubellus", months: ["jul", "aug", "sep", "okt"], traits: "Lille rørhat, intens rød hat, gule prikker i stokbasis.", extended_traits: "En lille og spinkel rørhat med en intens rød hat (som hindbær eller karmin). Det mest sikre kendetegn er de små, gulerodsfarvede eller orange prikker, der ses i kødet helt nede i stokkens bund ved gennemskæring.", not_this_if: ["Hatten er brun eller gråbrun (Rødsprukken rørhat)", "Kødet i stokbasis mangler de orange prikker", "Svampen er stor og kraftig (over 6-8 cm i hatbredde)", "Stokken har et tydeligt netmønster", "Rørene på undersiden er røde eller orange"], usage: "Spiselig, men ikke særlig god. Kødet er ofte blødt, og svampen bliver meget hurtigt angrebet af larver og skimmel.", cleaning: "Børst forsigtigt hatten for græs og blade; stokbasis bør gennemskæres med det samme for at kontrollere for de karakteristiske orange prikker og for at sikre, at svampen ikke er gennemhullet af larver, hvilket sker meget hurtigt for denne art.", preservation: "Meget dårligt egnet til preservation. Svampen er lille, har et højt vandindhold og bliver hurtigt blød; bør spises umiddelbart efter indsamling, hvis man overhovedet vælger at bruge den i køkkenet.", naturbasen: "https://www.naturbasen.dk/art/5452/blodroed-roerhat", id_keys: { hat: "2-6 cm. Karminrød, hindbærrød eller teglrød. Overfladen er tør og fint filtet (ruskindagtig).", hymenium: "Rør. Gule til olivengule, ret store og kantede. Blåner svagt ved tryk.", stok: "Slank, gul øverst og rødflammet nedefter. Mangler netmønster.", koed: "Gult i hatten og stokken. Ved gennemskæring ses små, orange eller gulerodsfarvede prikker i stokkens nederste del (vigtigt kendetegn). Blåner svagt.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper i græs under løvtræer." }, twin: { name: "Rødsprukken Rørhat (Xerocomellus chrysenteron)", diff: "Hatten sprækker meget oftere op og er mere brunlig-rød. Mangler de gule prikker i stokbasis.", toxic: false } },
		  res_sortblaanende_roerhat: { name: "Sortblånende rørhat", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser i løvskove, parker og ofte i vejkanter under eg og bøg. Foretrækker næringsrig eller leret jord.", latin: "Cyanoboletus pulverulentus", months: ["jul", "aug", "sep", "okt"], traits: "Mørkebrun hat, gule rør, glat stok, blåner ekstremt kraftigt til sort.", extended_traits: "Denne svamp er kendt for sin ekstreme og lynhurtige farvereaktion; ved den mindste berøring eller gennemskæring skifter både de gule rør, den glatte stok og det gule kød farve til en intens blækblå, der hurtigt bliver næsten kulsort.", not_this_if: ["Rørmundingerne er røde eller orange (Indigo-rørhatte)", "Stokken har et tydeligt netmønster eller skæl", "Farvereaktionen til blå er langsom eller svag", "Svampen smager bittert", "Hatten er meget lys eller gråhvid"], usage: "Spiselig og velsmagende, men bør spises med måde, da arten kan akkumulere arsen fra jorden. Kødet bliver helt sort ved stegning. Lad den helst stå, da den er sjælden.", cleaning: "Fjern forsigtigt jord med en blød børste; vær forberedt på at svampen bliver plettet sort overalt, hvor du rører den. Da den kan indeholde arsen, bør man nøjes med at bruge den som en mindre del af en svampeblanding frem for et rent måltid.", preservation: "Egner sig ikke til tørring, da den bliver helt sort og utiltalende; bedst at stege den hurtigt efter plukning, hvis man ønsker at spise den. På grund af svampens evne til at ophobe tungmetaller anbefales det ikke at gemme store mængder til lager.", "naturbasen": "https://www.naturbasen.dk/art/5370/sortblaanende-roerhat", id_keys: { hat: "4-10 cm. Mørkebrun til rødbrun, ofte med en fløjlsagtig overflade som ung. Bliver hurtigt plettet sort ved berøring.", hymenium: "Rør. Klart gule som unge, siden olivengule. Blåner øjeblikkeligt ved tryk.", stok: "Slank til kølleformet. Gul i toppen, rødbrun mod bunden. Overfladen er glat (ingen net, ingen skæl), men kan føles fint støvet.", koed: "Gult, men skifter farve på under et sekund til mørkeblå/sort ved gennemskæring.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper." }, twin: { name: "Glatstokket Indigo-rørhat (Suillellus queletii)", diff: "Indigo-rørhatten har røde/orange rørmundinger. Sortblånende rørhat har altid gule rør.", toxic: false } },
		  res_hulstokket_slimroerhat: { name: "Hulstokket slimrørhat", type: "svamp", habitats: ["coniferous"], extended_habitat: "Vokser kun sammen med Lærk. Foretrækker ofte lidt sur bund.", latin: "Suillus cavipes", months: ["aug", "sep", "okt"], traits: "Filtet/skællet brun hat, store kantede rør, hul stok med ring som er unikt for danske rørhatte.", extended_traits: "Svampen er unik blandt de danske rørhatte på grund af sin hule stok og de meget store, kantede porer, der stråler ud fra stokken. Hatten er typisk rustbrun og mærkbart filtet eller småskællet, hvilket adskiller den fra de fleste andre ellers meget glatte slimrørhatte.", not_this_if: ["Stokken er massiv og fyldt indvendigt", "Der findes ingen lærketræer i nærheden", "Hatten er helt glat og meget slimet (Lærkerørhat)", "Rørmundingerne er små og runde", "Kødet blåner ved gennemskæring"], usage: "Spiselig, men ikke af særlig høj kvalitet. Kødet er tyndt og bliver let vandet. Skal som andre slimrørhatte gennemsteges.", cleaning: "Fjern jordrester med en børste og skær den nederste del af stokken af; vær forsigtig med ikke at mase hatten, da kødet er tyndt. Da stokken er hul, gemmer der sig ofte små insekter eller snavs indeni, så den bør altid flækkes på langs før tilberedning.", preservation: "Ikke velegnet til tørring på grund af det tynde kød; bedst at stege den i en blanding med andre svampe kort efter plukning, da den hurtigt bliver blød og mister struktur.", naturbasen: "https://www.naturbasen.dk/art/4852/hulstokket-slimroerhat", id_keys: { hat: "4-12 cm. Rustbrun til mørkebrun. Overfladen er tør og dækket af små, tætte filtskæl (kun slimet i meget fugtigt vejr). Kanten har ofte hvide hudrester fra sløret.", hymenium: "Rør. Citrongule til olivengule. Porerne er meget store, kantede og stråler nærmest ud fra stokken.", stok: "4-8 cm. Samme farve som hatten eller lidt lysere. Har en hvidlig, ubestandig ring. Det vigtigste kendetegn er, at stokken er kamret-hul indvendigt.", koed: "Hvidgult til bleg-gult, ret sejt i stokken og blødt i hatten. Blåner ikke.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller i små grupper tæt på lærketræer." }, twin: { name: "Lærkerørhat (Suillus grevillei)", diff: "Lærke-slimrørhat er meget slimet, har en glat (ikke filt-skællet) gul/orange hat og har en massiv (ikke hul) stok. Den er er bedre spisesvamp.", toxic: false } }, 
		  res_flammet_skaelroerhat: { name: "Flammet skælrørhat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser udelukkende under birk. Findes typisk på fugtig bund, f.eks. i tørvemoser, ved søbredder eller i fugtige lavninger i skoven.", latin: "Leccinum variicolor", months: ["jul", "aug", "sep", "okt"], traits: "Mørkplettet hat, hvide skæl på stokken der bliver sorte, blågrønne pletter i stokbasis.", extended_traits: "Svampen kendes på sin mørke, 'flammede' eller plettede hat i nuancer af gråbrunt og sort, samt dens lange, skællede stok, der ved gennemskæring i bunden (basis) afslører tydelige blågrønne eller søgrønne farver.", not_this_if: ["Der findes ingen birketræer i nærheden", "Hatten er ensfarvet lysebrun uden pletter (Brun skælrørhat)", "Kødet i stokbasis ændrer ikke farve til blågrøn", "Stokken har et netmønster i stedet for skæl", "Hatten er orange eller teglrød"], usage: "Ikke den bedste spisesvamp. Som alle skælrørhatte skal den gennemsteges grundigt (min. 15-20 min) for at undgå maveuro. Stokken kan være ret sej.", cleaning: "Skrab de sorte skæl af stokken og fjern den nederste, træagtige del; hatten børstes ren. Vær opmærksom på, at kødet kan være ret blødt i hatten sammenlignet med den meget seje stok, så de to dele kræver ofte forskellig tilberedningstid.", preservation: "Egner sig bedst til frysning efter grundig stegning; ved tørring bliver svampen meget mørk, og da kødet ofte er lidt løst i det, er resultatet sjældent lige så godt som hos de fastere skælrørhatte.", naturbasen: "https://www.naturbasen.dk/art/4746/flammet-skaelroerhat", id_keys: { hat: "5-12 cm. Meget variabel; mørkebrun til gråsort, ofte med lysere, diffuse pletter ('flammet'). Overfladen er filtet som ung, siden glat og lidt fedtet i fugtigt vejr.", hymenium: "Rør. Hvide til gråhvide, bliver senere svagt brunlige ved tryk. Porerne er små og runde.", stok: "Op til 18 cm. Lang og slank, tykkere mod bunden. Dækket af små skæl, der starter som hvidlige, men hurtigt bliver gråsorte. Ved gennemskæring af stokbasis ses ofte blågrønne farver.", koed: "Hvidt. I hatten kan det anløbe svagt lyserødt, mens det i stokbasis anløber blågrønt/søgrønt.", spore: "Brun.", voksemaade: "Enkeltvis eller få sammen under birk." }, twin: { name: "Brun skælrørhat", diff: "Brun skælrørhat har en mere jævnt brun hat uden pletter og blåner/grønner normalt ikke i stokbasis.", toxic: false } },
		  res_filtet_roerhat: { name: "Filtet rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Meget almindelig i både løvskov og nåleskov. Findes ofte langs skovveje eller i mosdækket bund.", latin: "Xerocomus subtomentosus", months: ["jul", "aug", "sep", "okt"], traits: "Filtet olivenbrun hat, store gule kantede rør, gul stok, blåner næsten ikke.", extended_traits: "Svampen kendes på sin tørre, olivenbrune hat, der føles som blødt ruskind (filtet), og sine markante, store kantede gule porer. Stokken er slank og gullig, og i modsætning til mange af sine slægtninge, ændrer det hvidgule kød stort set ikke farve ved gennemskæring.", not_this_if: ["Kødet er rødt lige under hathuden eller i bunden af stokken", "Hatten er slimet eller glat (som hos slimrørhatte)", "Stokken har et tydeligt netmønster (som hos Karl Johan)", "Rørene er hvide eller røde", "Kødet blåner lynhurtigt og kraftigt"], usage: "Spiselig, men af middel kvalitet. Stokken er ofte sej og hatten bliver hurtigt blød.", cleaning: "Fjern jordrester med en børste og skær den seje stok fra; kun hatten er for alvor værd at bruge i madlavningen. Da den ofte er vandholdig og blød som ældre, bør man kun gå efter de helt unge og faste eksemplarer.", preservation: "Egner sig ikke specielt godt til tørring på grund af kødets struktur; bedst at stege den i en blanding med andre, mere smagsintensive svampe umiddelbart efter indsamling.", naturbasen: "https://www.naturbasen.dk/art/3173/filtet-roerhat", id_keys: { hat: "4-10 cm. Tør, filtet/fløjlsagtig, olivenbrun til gulbrun.", hymenium: "Rør. Klart gule, senere olivengule. Porerne er ret store og kantede.", stok: "Op til 10 cm høSlank, gullig til brunlig, ofte med svage brunlige længderibber (men intet netmønster).", koed: "Hvidgult i hatten, mere gult i stokken. Uforanderligt eller blåner kun meget svagt over rørene.", spore: "Olivenbrun.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Rødsprukken rørhat", diff: "Rødsprukken rørhat har rødt kød lige under hathuden og blåner tydeligere.", toxic: false } },
		  res_peber_roerhat: { name: "Peber-rørhat", type: "svamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Almindelig i både nåle- og løvskov, ofte sammen med rødgran eller birk. Findes tit de samme steder som Rød Fluesvamp.", latin: "Chalciporus piperatus", months: ["jul", "aug", "sep", "okt"], traits: "Lille rørhat, rustbrune rør, gul stokbasis, brændende pebersmag.", extended_traits: "En lille rørhat, der er let at kende på sine rustrøde til kanelbrune rør og den intense, kromgule farve i stokbasis. Den mest markante egenskab er dog den brændende skarpe pebersmag, som mærkes med det samme, hvis man smager en lille flis af kødet.", not_this_if: ["Smagen er mild eller bitter (ikke brændende skarp)", "Rørene er gule eller hvide", "Stokken har et netmønster eller skæl", "Kødet blåner ved gennemskæring", "Svampen er stor og kødfuld (over 6-7 cm i hatbredde)"], usage: "Spiselig som krydderi. Kan tørres og males til svampepeber eller bruges i små mængder i en blanding for at give kant.", cleaning: "Fjern jordrester og skær stokbasis af, men gem den gule del, hvis den skal tørres. Da svampen bruges som krydderi, behøver du ikke mange; to-tre små svampe er ofte nok til at give en hel ret karakter.", preservation: "Ideel til tørring. Når den er tørret, kan den knuses eller males til et 'svampe-peber', som bevarer sin skarpe smag i lang tid. Kan også bruges frisk i små mængder direkte i saucen.", naturbasen: "https://www.naturbasen.dk/art/3174/peberroerhat", id_keys: { hat: "2-6 cm. Glat, tør (lidt fedtet i regnvejr), farven er kanelbrun til lædergul.", hymenium: "Rør. Store, uregelmæssige og kantede. Farven er karakteristisk rustrød til kanelbrun.", stok: "Slank, glat, samme farve som hatten. Det vigtigste træk er den klare kromgule farve helt nede i stokbasis.", koed: "Gulligt i hatten, men intenst gult i stokbasis. Ændrer ikke farve (blåner ikke).", spore: "Brun.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Filtet rørhat", diff: "Filtet rørhat er større, har gule rør og en mild smag.", toxic: false } },
		  res_almindelig_pigsvamp: { name: "Almindelig Pigsvamp", type: "pigsvamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Findes ofte i store hekseringe eller rækker under både bøg og gran. Elsker mosset bund.", latin: "Hydnum repandum", months: ["aug", "sep", "okt", "nov"], traits: "Bleg gul/cremefarvet hat, hvide pigge under hatten, fast kød.", extended_traits: "En af de nemmeste spisesvampe at kende, da den har tydelige hvide til bleg-gule pigge på undersiden i stedet for rør eller . Hatten er ofte uregelmæssig og bleg gul, mens det hvide kød er meget fast og knækker sprødt som kridt.", not_this_if: ["Svampen har  eller rør under hatten", "Piggene er mørkebrune eller sorte", "Kødet er sejt eller læderagtigt", "Svampen vokser direkte på træ", "Hatten er skællet og mørkebrun (Sarkodon-arter)"], usage: "Fremragende spisesvamp. Kødet er fast og har en let nøddeagtig, undertiden svagt bitter smag, som forsvinder ved stegning.", cleaning: "Skrab forsigtigt piggene af med en kniv, hvis de er store og løse (de kan have en tendens til at drysse i panden og blive bitre på ældre eksemplarer); børst hatten ren. Svampen er meget robust og sjældent angrebet af larver, hvilket gør den utrolig nem at klargøre.", preservation: "Meget velegnet til frysning efter stegning. På grund af det faste kød er den også god at sylte eller bruge i stuvninger. Tørring anbefales ikke, da kødet kan blive ret hårdt og sejt.", naturbasen: "https://www.naturbasen.dk/art/2095/almindelig-pigsvamp", id_keys: { hat: "5-15 cm bred. Bleg gul til lædergul. Ofte uregelmæssig form.", hymenium: "Op mod 1 cm lange, tætte, hvidlige pigge der løber lidt ned ad stokken.", stok: "Op til 8 cm høj. Kraftig, hvidlig, ofte lidt skæv.", koed: "Hvidt, fast og skørt (knækker som kridt).", spore: "Hvid", voksemaade: "Vokser ofte mange sammen." }, twin: { name: "Navle-Pigsvamp (Hydnum umbilicatum)", diff: "Navle-pigsvamp er mindre og har en dyb navle i hatten og er generelt mørkere. Begge er spiselige.", toxic: false } },
		  res_navle_pigsvamp: { name: "Navle-pigsvamp", type: "pigsvamp", habitats: ["deciduous", "coniferous"], extended_habitat: "En alsidig svamp, der findes i både løvskov (især bøg) og nåleskov. Den elsker fugtige, mosede områder og ses ofte fra sensommeren og helt ind i det sene efterår.", latin: "Hydnum umbilicatum", months: ["sep", "okt", "nov"], traits: "Orange-brun hat med tydelig navle (fordybning) i midten, hvide til blege pigge.", extended_traits: "Svampen er en mindre og mere farverig slægtning til den almindelige pigsvamp. Den kendes især på den tydelige, dybe navle (fordybning) midt i den orange-brune hat og sin slankere stok. Ligesom sin storebror har den sprøde, hvidlige pigge under hatten.", not_this_if: ["Hatten mangler den centrale navle/fordybning", "Svampen er meget stor og bleg (Almindelig Pigsvamp)", "Piggene er mørke eller lilla", "Svampen har  i stedet for pigge", "Kødet er sejt og læderagtigt"], usage: "Spiselig og velsmagende. Kødet er sprødt og fast.", cleaning: "Piggene på Navle-pigsvamp sidder ofte bedre fast end hos den almindelige pigsvamp og behøver sjældent at blive fjernet; hatten børstes blot ren. Da den ofte vokser i dybt mos, skal man kontrollere, at stokken er fri for jord og sand.", preservation: "Ligesom sin slægtning er den fremragende til frysning efter en hurtig tur på panden. På grund af sin mindre størrelse og sprødhed egner den sig også fortrinligt til at blive syltet hele i en eddikelage.", naturbasen: "https://www.naturbasen.dk/art/5687/navle-pigsvamp", id_keys: { hat: "3-7 cm bred. Orange-brun til okkerbrun. Glat og tør. Har en tydelig navleformet fordybning i midten.", hymenium: "5-7 mm lange pigge under hatten, der er hvidlige til svagt brunlige.", stok: "Op til 7 cm høj. Slankere end hos almindelig pigsvamp, ofte samme farve som hatten eller lysere.", koed: "Sprødt og hvidligt.", spore: "Hvidt.", voksemaade: "Vokser ofte spredt eller i mindre grupper i mosset." }, twin: { name: "Almindelig Pigsvamp (Hydnum repandum)", diff: "Almindelig Pigsvamp er større, blegere og mangler den dybe navle i midten af hatten. Begge er spiselige.", toxic: false } },
		  res_roedgul_pigsvamp: { name: "Rødgul Pigsvamp", type: "pigsvamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Findes både i løv- og nåleskov, ofte på mager eller sur bund dækket af mos. Den vokser ofte i flokke, men sjældnere i de store hekseringe, man ser hos almindelig pigsvamp.", latin: "Hydnum rufescens", months: ["aug", "sep", "okt", "nov"], traits: "Orange til rødbrun hat, lyse pigge under hatten, spinkel stok.", extended_traits: "Svampen er mindre og mere spinkel end den almindelige pigsvamp og kendes på sin varme orange til rødbrune hat. Et vigtigt kendetegn er, at de gullige eller laksefarvede pigge på undersiden stopper brat ved stokken og ikke løber ned ad den.", not_this_if: ["Piggene løber tydeligt ned ad stokken (Almindelig Pigsvamp)", "Piggene er mørkebrune eller grå", "Svampen har en dyb navle i midten (Navle-pigsvamp)", "Kødet er sejt og læderagtigt", "Svampen vokser direkte på træstammer"], usage: "God spisesvamp med fast kød. Har en anelse kraftigere smag end almindelig pigsvamp, som kan være let bitter hos ældre eksemplarer.", cleaning: "Renses nemt med en børste. Piggene på denne art er ofte ret sprøde og knækker let af; de behøver ikke fjernes, medmindre svampen er meget gammel og piggene er blevet mørke. Tjek stokkens basis for jordrester.", preservation: "Ligesom de andre pigsvampe er den fremragende til frysning efter en hurtig tur på panden. Den holder formen utrolig godt og afgiver ikke så meget væske som mange rørhatte.", naturbasen: "https://www.naturbasen.dk/art/3372/roedgul-pigsvamp-(i-bred-betydning)s", id_keys: { hat: "3-7 cm bred. Orange, teglrød eller rødbrun. Ofte tør og fint filtet.", hymenium: "Pigge under hatten, der er gullige eller laksefarvede og som IKKE løber ned ad stokken.", stok: "3-6 cm høj. Slank, hvidlig til svagt orange, ofte placeret centralt under hatten.", koed: "Sprødt, hvidt til gulligt.", spore: "Hvidt.", voksemaade: "Vokser ofte i grupper eller spredt i mosset." }, twin: { name: "Almindelig Pigsvamp (Hydnum repandum)", diff: "Almindelig Pigsvamp er større, blegere, og dens pigge løber tydeligt ned ad stokken. Begge er spiselige.", toxic: false } },
		  res_krystal_stoevbold: { name: "Krystalstøvbold", type: "pungsvamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Meget almindelig i både løv- og nåleskov, hvor den vokser på jorden, ofte i grupper. Foretrækker skovbunden frem for åbne arealer.", latin: "Lycoperdon perlatum", months: ["aug", "sep", "okt", "nov"], traits: "Hvid, pæreformet med små 'krystaller' eller vorter på toppen. Knækker som kridt.", extended_traits: "En pæreformet støvbold, der er dækket af små, kegleformede vorter eller 'krystaller'. Hvis man gnubber vorterne af, efterlader de et karakteristisk netmønster på svampens hud som minder om et fintmasket net eller små sekskanter, der ligner aftrykket af en bageform eller små bikager på svampens overflade. Den er hvid som ung, men bliver brunlig og fyldt med støvende sporer med alderen.", not_this_if: ["Kødet indeni er mørkt, sort eller lilla (Bruskbolde – GIFTIGE)", "Svampen vokser på dødt træ (Kæmpestøvbold eller Pære-støvbold)", "Kødet er gulligt eller brunt (Svampen er for gammel til at spise)", "Svampen har , rør eller pigge under en hat"], usage: "Spisesvamp så længe kødet er helt hvidt. Har en mild, svampeagtig smag.", cleaning: "Skær svampen igennem på langs for at sikre, at kødet er ensartet, fast og kridhvidt hele vejen igennem. De små vorter på ydersiden kan børstes af eller skylles let, men de fleste foretrækker at fjerne den yderste hud, hvis den føles læderagtig.", preservation: "Bør spises med det samme, da kødet hurtigt modnes og bliver uspiseligt (gult/brunt). Egner sig ikke til tørring; kan fryses efter tilberedning, men mister let sin struktur.", naturbasen: "https://www.naturbasen.dk/art/2088/krystal-stoevbold", id_keys: { hat: "3-8 cm høj. Pæreformet. Hvid som ung, senere brunlig. Dækket af kegleformede vorter.", hymenium: "Ingen (sporer dannes indeni).", stok: "1 -5 cm høj. Kort, kraftig stokdel der er sammenvokset med 'hovedet'.", koed: "Helt hvidt og fast som ung. Bliver senere gult og derefter til brunt støv.", spore: "Brunligt støv (som moden).", voksemaade: "Ofte mange sammen i  i klynger." }, twin: { name: "Bruskbolde (Giftig)", diff: "Bruskbolde er hårde og mørke/sorte indeni, aldrig hvide og bløde.", toxic: true } },
		  res_paere_stoevbold: { name: "Pære-støvbold", type: "pungsvamp", habitats: ["deciduous", "coniferous"], extended_habitat: "Vokser udelukkende på dødt træ, som gamle stubbe eller begravede rødder. Ses ofte i meget store, tætte klynger.", latin: "Lycoperdon pyriforme", months: ["sep", "okt", "nov"], traits: "Små, pæreformede bolde. Glat overflade. Vokser altid på træ.", extended_traits: "Den eneste af de almindelige støvbolde, der vokser direkte på dødt træ. Den har en karakteristisk omvendt pæreform og en overflade, der er langt glattere end hos Krystalstøvbold, ofte kun med et fint, støvet lag af bittesmå korn.", not_this_if: ["Svampen vokser direkte på jorden", "Overfladen har tydelige, kegleformede pigge", "Kødet indeni er mørkt eller lilla (Bruskbolde)", "Kødet er gulligt eller brunt (svampen er for gammel)", "Svampen er enorm (som en fodbold eller større)"], usage: "Spiselig så længe kødet er helt hvidt, men ikke den bedste. Da de ofte findes i store mængder, er de gode til at fylde i en ret som blandingsvamp sammen med andre svampe.", cleaning: "Fjern den træagtige stokbasis og tør hatten af for rester af bark eller mos. Det er afgørende at flække hver eneste svamp for at sikre, at de alle stadig er kridhvide indeni; hvis blot én er begyndt at blive gul, kan den ødelægge smagen i hele retten med sin metalliske eftersmag.", preservation: "Som andre støvbolde skal den bruges hurtigt. Den er ikke egnet til tørring, men kan efter en hurtig blanchering fryses ned, selvom den mister en del af sin i forvejen bløde struktur.", naturbasen: "https://www.naturbasen.dk/art/4549/paere-stoevbold", id_keys: { hat: "2-5 cm høj. Pæreformet. Lys beige til læderbrun. Som ung kan den have små hvide pigge, senere næsten glat eller svagt grynet overflade.", hymenium: "Ingen (sporer dannes indeni).", stok: "Lille, rodslående stokdel.", koed: "Hvidt og fast som ung. Har en metallisk lugt og smag.", spore: "Olivenbrunt støv (som moden).", voksemaade: "Tætte klynger på træstubbe." }, twin: { name: "Krystalstøvbold (Lycoperdon perlatum)", diff: "Krystalstøvbold vokser på jorden og har tydelige vorter/pigge.", toxic: false } },
		  res_kaampestoevbold: { name: "Kæmpestøvbold", type: "pungsvamp", habitats: ["meadow", "garden", "deciduous"], extended_habitat: "Findes på næringsrig jord, ofte på græsarealer, i parker, haver eller lyse løvskove.", latin: "Langermannia gigantea", months: ["jun", "jul", "aug", "sep", "okt"], traits: "Enorm, hvid kugle uden stok. Kan blive over 50 cm i diameter.", extended_traits: "Verdens største støvbold, der kan nå en størrelse på over 50 cm i diameter. Den er helt kuglerund og hvid som ung med en læderagtig overflade. Da den mangler en stokdel og er enorm, er den stort set umulig at forveksle med andre arter.", not_this_if: ["Svampen er lille (under 8-10 cm)", "Der er tydelige pigge på overfladen", "Kødet indeni er mørkt eller lilla (Bruskbolde)", "Svampen vokser på en træstub", "Kødet er blevet gulligt eller brunt (svampen er overmoden)"], usage: "Fin spisesvamp så længe kødet er helt hvidt. Kan skæres i skiver som 'bøffer' og steges gyldne.", cleaning: "Skær de hvide 'bøffer' ud i tykke skiver og fjern den seje, læderagtige yderhud, hvis den føles for gummiagtig; det hvide indre skal have konsistens som fast vat eller skumfidus. Vær opmærksom på, at den suger meget fedtstof ved stegning, så brug en god olie eller smør.", preservation: "En af de få svampe, der faktisk kan fryses i rå tilstand som skiver, men resultatet er bedst, hvis den steges først; på grund af det store vandindhold er tørring ikke ideelt, da den mister sin struktur.", naturbasen: "https://www.naturbasen.dk/art/3154/kaempestoevbold", id_keys: { hat: "10-50 cm bred (eller større). Kuglerund eller let fladtrykt. Hvid og glat.", hymenium: "Ingen.", stok: "Ingen.", koed: "Helt hvidt og vatagtigt som ung. Bliver senere til en enorm mængde brunt støv.", spore: "Brunligt støv.", voksemaade: "Enkeltvis eller i grupper på jorden." }, twin: { no_twin: true, name: "Ingen", diff: "Grundet størrelsen kan den praktisk talt ikke forveksles med andre.", toxic: false } },
		  res_hoejstokket_stoevbold: { name: "Højstokket Støvbold", type: "pungsvamp", habitats: ["deciduous", "meadow"], extended_habitat: "Findes både i lyse skove, skovbryn og på overdrev. Den skiller sig ud ved sin meget markante og lange stokdel.", latin: "Handkea excipuliformis", months: ["aug", "sep", "okt", "nov"], traits: "Ligner en stor krystalstøvbold, men med en meget lang og kraftig stok. Kan blive op til 20 cm høj.", extended_traits: "Denne støvbold minder i formen om en stor morterstøder (pestle) på grund af sin meget lange og kraftige stok. Hovedet er dækket af små vorter, der minder om dem hos Krystalstøvbold, men hele svampen kan blive op til 20 cm høj, hvilket gør den til en af de mest imponerende støvbolde i skoven.", not_this_if: ["Svampen mangler den lange, markante stokdel", "Svampen er enorm og kuglerund (Kæmpestøvbold)", "Kødet indeni er mørkt, sort eller lilla (Bruskbolde)", "Svampen vokser på dødt træ (Pære-støvbold)", "Kødet er begyndt at blive gult eller brunt"], usage: "Spiselig når kødet er helt hvidt. Da den er større end krystalstøvbold, giver den et godt udbytte.", cleaning: "Fjern den nederste, ofte lidt seje og rynkede del af stokken; hovedet og den øverste del af stokken er de bedste spise-stykker. Ligesom med de andre støvbolde skal den flækkes for at sikre, at den er kridhvid hele vejen igennem uden skyggen af gult eller brunt.", preservation: "Bør bruges frisk, da den store overflade gør, at den hurtigere modner (bliver støvet) end de mindre arter. Kan steges og derefter fryses, men mister let sin ellers fine, faste konsistens.", naturbasen: "https://www.naturbasen.dk/art/3242/hoejstokket-stoevbold", id_keys: { hat: "Hovedet er 5-10 cm bredt, dækket af fine pigge/vorter.", hymenium: "Ingen.", stok: "Meget lang (op til 15 cm) og tyk, ofte rynket forneden.", koed: "Hvidt og fast som ung.", spore: "Olivenbrunt støv.", voksemaade: "Enkeltvis eller i små grupper på jorden." }, twin: { name: "Krystalstøvbold (Lycoperdon perlatum)", diff: "Højstokket støvbold er markant højere og har en meget længere stok.", toxic: false } },
		  res_skaallet_stoevbold: { name: "Skællet Støvbold", type: "pungsvamp", habitats: ["deciduous"], extended_habitat: "Sjælden. Findes primært i kalkrige løvskove under bøg.", latin: "Handkea utriformis", months: ["jul",  "aug", "sep", "okt", "nov"], traits: "Hvid til beige med store, flagede skæl, der minder om pergament.", extended_traits: "Kendes på sin hvide til beige overflade, der sprækker op i store, flagede skæl, som næsten minder om stykker af pergament eller gammelt papir. Når disse skæl falder af, efterlader de overfladen glat og brunlig.", not_this_if: ["Overfladen har små, spidse vorter eller 'krystaller' (Krystalstøvbold)", "Svampen har en meget lang og rynket stok (Højstokket støvbold)", "Svampen vokser på dødt træ (Pære-støvbold)", "Kødet indeni er mørkt eller lilla (Bruskbolde)", "Svampen er glat som læder og enorm (Kæmpestøvbold)"], usage: "Spiselig som hvid, men da den er sjælden, bør man overveje at lade den stå.", cleaning: "Fjern de store pergamentagtige skæl fra overfladen før tilberedning. Ligesom med de andre arter i familien skal svampen altid gennemskæres for at sikre, at kødet er ensartet kridhvidt; hvis den er begyndt at blive gul eller brun i midten, er den uspiselighed.", preservation: "Dårligt egnet til opbevaring. Da arten er sjælden og kødet hurtigt bliver blødt, bør den enten spises med det samme eller, endnu bedre, lades stå for at sikre spredning af sporerne i de kalkrige bøgeskove.", naturbasen: "", id_keys: { hat: "3-7 cm høj. Pæreformet eller rund. Har store, hvide svøbrester/skæl.", hymenium: "Ingen.", stok: "Kort, integreret stokdel.", koed: "Hvidt og fast som ung.", spore: "Brunt støv.", voksemaade: "Enkeltvis eller få sammen." }, twin: { name: "Krystalstøvbold  (Lycoperdon perlatum)", diff: "Skællet støvbold har store flagede skæl, mens krystalstøvbold har små spidse vorter.", toxic: false } },
		  res_almindelig_oestershat: { name: "Almindelig Østershat", type: "Østershat", habitats: ["deciduous"], extended_habitat: "Vokser på døde eller svækkede løvtræer, især bøg. Er unik ved at kunne findes hele vinteren, da den tåler frost.", latin: "Pleurotus ostreatus", months: ["sep", "okt", "nov", "dec", "jan", "feb"], traits: "Muslingeformet hat i gråblå til brunlige farver. Hvide lameller der løber langt ned ad stokken.", extended_traits: "For en sikker identifikation skal svampen have hvide til blege, tætte lameller, der løber tydeligt ned ad stokken (nedløbende). Stokken skal sidde i siden af hatten (asymmetrisk) og være kort og kraftig. Kødet skal være hvidt, fast og have en mild, behagelig svampelugt. Hatten skal være kødfuld (ikke papirstynd) og have en glat overflade i grå, blålige eller brunlige nuancer. Svampen vokser altid på træ og optræder ofte i store, overlappende klynger, der minder om tagsten.", not_this_if: ["Svampen vokser direkte på jorden", "Lamellerne stopper brat ved stokken og løber ikke ned", "Hatten er dækket af orange eller gule hår (Orange østershat)", "Kødet er ekstremt tyndt og gennemsigtigt", "Stokken sidder centralt midt under hatten"], usage: "Fremragende spisesvamp. Velegnet til stegning, da den bevarer sin struktur godt. Brug kun hatten, stokken er sej.", cleaning: "Fjern den seje stok helt inde ved hatfæstet og børst lamellerne rene for eventuelle smådyr (især hvis svampen har været frosset). Undgå at skylle dem, da lamellerne suger vand som en svamp; tør i stedet hatten med en fugtig klud, hvis den er beskidt.", preservation: "En af de få svampe, der er meget velegnet til nedfrysning efter en let blanchering eller stegning. Da den er meget fast, kan den også tørres og knuses, men dens force er den kødfulde tekstur som frisk eller stegt fra frost.", naturbasen: "https://www.naturbasen.dk/art/3370/almindelig-oestershat", id_keys: { hat: "5-20 cm bred. Glat, muslinge- eller vifteformet. Farven varierer fra mørkegrå til stålgrå eller brunlig. Glat - kan være fedtet i vådt vejr.", hymenium: "Hvide til blege lameller, der sidder tæt og løber tydeligt ned ad stokken.", stok: "Kort, tyk og sidder ofte i siden af hatten. Hvid og filtet forneden.", koed: "Hvidt, fast og sejt. Bliver blødere ved tilberedning.", spore: "Hvidt til svagt lilla.", voksemaade: "Vokser i store, overlappende klynger på træstammer." },twin: { name: "Korkagtig Østershat (Pleurotus dryinus)", diff: "Hatoverfladen føles filtet/skællet. Stokken har en ringzone eller slørrester. Mindre, lysere og meget sej/læderagtig konsistens. Uspiselig.", toxic: false } },
		  res_sommer_oestershat: { name: "Sommer-Østershat", type: "østershat", habitats: ["deciduous"], extended_habitat: "Muslingeformet og vifteformet. Vokser på løvtræsstubbe og stammer i de varme måneder. Minder meget om almindelig østershat, men er lysere og spinklere.", latin: "Pleurotus pulmonarius", months: ["jun", "jul", "aug", "sep"], traits: "Lys, bleg-gul til hvidlig østershat. Tyndere kød end almindelig østershat.", extended_traits: "Muslingeformet og vifteformet. Farven er lysere end den almindelige østershat, ofte hvidlig til blegbrun. Den gulner ofte lidt ved berøring eller med alderen.", not_this_if: ["Svampen vokser på nåletræ (risiko for den giftige Kridthat).", "Der er en ring eller tydelige slørrester på stokken.", "Hatten er dækket af små skæl eller føles tydeligt filtet (Korkagtig Østershat).", "Kødet er ekstremt tyndt og næsten gennemsigtigt.", "Svampen har en kraftig lugt af klor, mel eller parfume.", "Lamellerne stopper brat ved stokken og løber ikke ned ad den."], usage: "Fremragende spisesvamp, men bliver hurtigere angrebet af insekter end vinter-udgaven. Hele svampen kan bruges på unge eksemplarer, da den er mindre sej end vinter-varianten. Velegnet til stegning.", cleaning: "Kontroller altid lamellerne for små biller og larver, da de elsker varmen; Sommer-østershatten er langt oftere 'beboet' end vinter-udgaven. Skær kun den allernederste, mest træagtige del af stokken af – på unge eksemplarer er stokken her ofte mørere end hos den almindelige østershat.", preservation: "Bør spises hurtigt efter indsamling, da det tyndere kød udtørrer eller fordærves hurtigere i sommervarmen. Egner sig fremragende til tørring, da kødet er tyndere end hos vinter-østershatten, hvilket gør den nem at genoplive i saucer.", naturbasen: "https://www.naturbasen.dk/art/14865/sommer-oestershat", id_keys: { hat: "5-15 cm bred. Ofte blegere end almindelig østershat (hvidlig til beige). Glat overflade, der ofte gulner lidt ved berøring.", hymenium: "Hvide lameller, tætte og løber langt ned ad stokken.", stok: "Kort og sidestillet. Ofte hvid og filtret forneden. Kan være mere tydelig end hos alm. østershat.", koed: "Hvidt, relativt tyndt og blødt. Har en behagelig, mild svampelugt (nogle mærker en svag duft af anis).", spore: "Hvidlig til svagt creme.", voksemaade: "Vokser i knipper eller små grupper på stammer og stubbe af løvtræ." }, twin: { name: "Kridthat (Pleurocybella porrigens)", diff: "Vokser udelukkende på nåletræ (især mørke stubbe). Er kridhvid, tyndere og mangler helt stok. Kan være giftig for visse persongrupper.", toxic: true } },
		  res_porcelaenshat: { name: "Porcelænshat", type: "svamp", habitats: ["deciduous"], extended_habitat: "Vokser udelukkende på bøg, ofte højt oppe på døde grene eller svækkede stammer. Kan ses på lang afstand pga. den hvide farve.", latin: "Mucidula mucida", months: ["aug", "sep", "okt", "nov"], traits: "Helt hvid, næsten gennemsigtig og ekstremt slimet. Har en tydelig ring på stokken.", extended_traits: "En utroligt smuk svamp, der næsten ser kunstig ud. Den er kridhvid og så ekstremt slimet, at den skinner som vådt porcelæn eller glas. Lamellerne er hvide, brede og sidder med god afstand, og stokken har en meget tydelig, hvid ring.", not_this_if: ["Svampen vokser på jorden", "Hatten er tør eller kun svagt fedtet", "Svampen mangler en ring på stokken", "Svampen vokser på nåletræ"], usage: "Spiselig. Slimen tørres af eller 'flås' af hatten tilberedning. Kødet er tyndt og fint, bedst egnet til hurtig stegning.", cleaning: "Slimen bør fjernes før tilberedning; dette gøres lettest ved at tørre hatten af med et stykke køkkenrulle eller ved at flå den tynde, slimede hud af. Stokken er sej og bør fjernes, så det kun er de fine hatte, der anvendes i køkkenet.", preservation: "Dårligt egnet til opbevaring. Da svampen er tyndkødet og meget vandholdig på grund af slimen, bør den spises umiddelbart efter indsamling og rensning; tørring er ikke en mulighed.", naturbasen: "https://www.naturbasen.dk/art/3252/porcelaenshat", id_keys: { hat: "3-8 cm. Kridhvid til svagt grålig. Meget slimet/fedtet.", hymenium: "Hvide, brede og fjerne lameller.", stok: "Hvid, slank med en markant, hvid ring øverst.", koed: "Hvidt og meget tyndt.", spore: "Hvidt.", voksemaade: "Ofte i små klynger eller rækker på bøgetræ." }, twin: { no_twin: true, name: "Ingen", diff: "Kombinationen af den hvide farve, den ekstreme slim og voksestedet på bøg gør den unik.", toxic: false } },
		  res_svovlporesvamp: { name: "Svovlporesvamp", type: "svamp", habitats: ["deciduous", "garden"], extended_habitat: "Vokser som en konsol på levende eller døde løvtræer, især eg, pil og poppel.", latin: "Laetiporus sulphureus", months: ["maj", "jun", "jul", "aug", "sep"], traits: "Knaldgul til orange. Vokser i store, overlappende vifteformede lag.", extended_traits: "Også kendt som 'Chicken of the Woods'. Svampen vokser i store, tunge og overlappende vifter på stammer af løvtræer. Den er ekstremt iøjnefaldende med sine skrigende orange og svovlgule farver. Små svovlgule porer på undersiden. Teksturen i kødet er helt unik, da den minder om trevlet kyllingebryst, når den tilberedes.", not_this_if: ["Svampen har lameller under hatten (f.eks. Østershat)", "Farven er brun eller mørk (mange andre poresvampe)", "Kødet er hårdt og træagtigt (gamle eksemplarer)", "Svampen vokser på jorden", "Overfladen er dækket af hår eller pigge"], usage: "God spisesvamp som ung. Smager og føles som kylling. Skal gennemsteges. Nogle få kan få mavepine, så prøv en lille portion først.", cleaning: "Skær de yderste, bløde kanter af vifterene; det er her, kvaliteten er højest. Undgå de inderste dele tættest på træstammen, da de ofte er seje og træagtige. Kontroller de indre lag for insekter og skyl eventuelt hurtigt, hvis der er meget støv, da kødet er fast nok til at tåle det.", preservation: "Ideel til frysning efter en hurtig marinering eller stegning, da den holder sin 'kyllinge-struktur' utrolig godt. Kan også tørres og males til et gult svampemel, der fungerer som en naturlig smagsforstærker i suppe", naturbasen: "https://www.naturbasen.dk/art/3145/svovlporesvamp", id_keys: { hat: "10-40 cm brede vifter. Lysende orange til svovlgul. Bliver bleg/hvidlig som gammel.", hymenium: "Meget små svovlgule porer (huller) på undersiden.", stok: "Ingen (sidder direkte på stammen).", koed: "Saftigt og hvidligt/gult som ung. Bliver tørt og 'kridt-agtigt' som gammel.", spore: "Hvidt.", voksemaade: "Store, tunge klynger af overlappende vifter." }, twin: { no_twin: true, name: "Ingen", diff: "Dens skrigende gule farve og vifteform på træ gør den umulig at forveksle med giftige arter.", toxic: false } },
		  res_judasoere: { name: "Judasøre", type: "gelésvamp", habitats: ["deciduous"], extended_habitat: "Vokser næsten udelukkende på Hyld (både levende og døde stammer/grene).", latin: "Auricularia auricula-judae", months: ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec"], traits: "Brun, geléagtig og formet som et øre. Elastisk som vingummi.", extended_traits: "En helt unik gelésvamp, der med sine folder og rødbrune farve ligner et menneskeligt øre. Den føles som elastisk vingummi, og overfladen har en fin, næsten hudagtig filtning. Det mest fascinerende er dens evne til at tørre helt ind til en hård skorpe for derefter at 'vågne til dåd' og blive saftig igen, så snart det regner.", not_this_if: ["Svampen vokser på nåletræ", "Svampen har lameller eller porer", "Farven er knaldgul eller sort", "Svampen er hård og træagtig", "Svampen vokser på jorden"], usage: "Spiselig. Meget populær i asiatiske retter pga. sin sprøde/elastiske tekstur. Meget velegnet til tørring.", cleaning: "Skyl svampene grundigt i koldt vand for at fjerne eventuelt støv eller småkviste, der kan sidde fast i de geléagtige folder. Da de ofte vokser på hyld, der kan være sprøjtet i hegn nær marker, bør man vælge sine findesteder med omhu. Ved tilberedning i pande skal man være forsigtig, da de har tendens til at 'poppe' eller springe som popcorn på grund af det høje vandindhold.", preservation: "En af de letteste svampe at tørre; de bliver stenhårde og næsten sorte, men genvinder deres præcise form og konsistens efter 15-20 minutter i lunkent vand. De kan holde sig i årevis i tørret tilstand.", naturbasen: "https://www.naturbasen.dk/art/2758/almindelig-judasoere", id_keys: { hat: "3-10 cm. Muslinge- eller øreformet med mange folder. Rødbrun til mørkebrun.", hymenium: "Glat, rynket underside uden lameller eller porer.", stok: "Ingen eller meget kort/sidestillet.", koed: "Brunt, elastisk og geléagtigt. Ved gennemskæring vil man se at kødet har to hudlag med et lag af gele i midten. Bliver hårdt ved tørring.", spore: "Hvidt.", voksemaade: "Ofte mange sammen på hyldegrene." }, twin: { name: "Bævresvampe", diff: "Bævresvampen er meget lysere, knaldgul til orange, og har ikke en tydelig inderside og yderside.", toxic: false } },
		  res_parykhat: { name: "Paryk-blækhat", type: "lamelsvamp", habitats: ["meadow", "garden"], extended_habitat: "Vokser på næringsrig bund, ofte i græsplæner eller langs stier. Ses ofte i store flokke.", latin: "Coprinus comatus", months: ["aug", "sep", "okt", "nov"], traits: "Høj, hvid og cylinderformet med store, 'paryk-agtige' skæl. Opløses til sort blæk med alderen.", extended_traits: "En meget letgenkendelig svamp, der starter som en høj, hvid cylinder dækket af lasede, 'paryk-agtige' skæl. Som den modnes, begynder hatten at rulle op fra bunden, mens den bogstaveligt talt opløses og forvandles til sort, flydende blæk – en proces kaldet autodigestion.", not_this_if: ["Hatten er grå og glat uden store skæl (Almindelig Blækhat)", "Svampen er allerede begyndt at blive sort eller 'smelte'", "Svampen vokser dybt inde i en mørk skov på træ (denne foretrækker lysninger og græs)", "Svampen har porer eller pigge under hatten"], usage: "Fremragende spisesvamp som ung (helt hvid). Mild smag. Skal tilberedes straks efter plukning, da den hurtigt bliver sort.", cleaning: "Skyl svampene grundigt i koldt vand for at fjerne eventuelt støv eller småkviste, der kan sidde fast i de geléagtige folder. Da de ofte vokser på hyld, der kan være sprøjtet i hegn nær marker, bør man vælge sine findesteder med omhu. Ved tilberedning i pande skal man være forsigtig, da de har tendens til at 'poppe' eller springe som popcorn på grund af det høje vandindhold.", preservation: "En af de letteste svampe at tørre; de bliver stenhårde og næsten sorte, men genvinder deres præcise form og konsistens efter 15-20 minutter i lunkent vand. De kan holde sig i årevis i tørret tilstand.", naturbasen: "https://www.naturbasen.dk/art/2059/stor-parykhat", id_keys: { hat: "5-15 cm høj. Hvid med hvide eller let brunlige, opadstående skæl.", hymenium: "Meget tætte lameller. Hvide som ung, senere pink og til sidst sorte.", stok: "Hvid, hul og sprød med en lille, løs ring forneden.", koed: "Hvidt og skørt.", spore: "Sort.", voksemaade: "Ofte i store grupper i græs." }, twin: { name: "Almindelig Blækhat (Coprinopsis atramentaria)", diff: "Almindelig Blækhat er grå, glat (mangler skæl) og er giftig sammen med alkohol.", toxic: true } },
      };
		
		function toggleMenu() {
		    const menu = document.getElementById('side-menu');
		    const overlay = document.getElementById('menu-overlay');
		    const isOpen = !menu.classList.contains('-translate-x-full');
		
		    if (isOpen) {
		        menu.classList.add('-translate-x-full');
		        overlay.classList.add('hidden');
		        document.body.style.overflow = ''; // Tillad scroll igen
		    } else {
		        menu.classList.remove('-translate-x-full');
		        overlay.classList.remove('hidden');
		        document.body.style.overflow = 'hidden'; // Lås scroll
		    }
		}

		function closeMenuIfOpen() {
		    const menu = document.getElementById('side-menu');
		    const overlay = document.getElementById('menu-overlay');
		    if (menu && !menu.classList.contains('-translate-x-full')) {
		        menu.classList.add('-translate-x-full');
		        overlay.classList.add('hidden');
		        document.body.style.overflow = '';
		    }
		}

		function renderLanguageOptions() {
		    const langSelect = document.getElementById('lang-select');
		    if (!langSelect || !appConfig.languages) return;
		
		    // Byg listen af sprog baseret på nøglerne i config.json (da, en, de osv.)
		    langSelect.innerHTML = Object.keys(appConfig.languages).map(langKey => {
		        const lang = appConfig.languages[langKey];
		        return `<option value="${langKey}" ${userSettings.lang === langKey ? 'selected' : ''}>
		            ${lang.label}
		        </option>`;
		    }).join('');
		}

		async function loadInterfaceTranslations(langCode) {
		    try {
				const cacheBuster = `?v=${new Date().getTime()}`;
				let response = await fetch(`data/translations.json${cacheBuster}`);
				const allTranslations = await response.json();
		        
		        // Vi gemmer KUN det sprog vi skal bruge i 'ui'
		        ui = allTranslations[langCode] || allTranslations['en'];
		        
		        // Opdater de statiske elementer i HTML'en med det samme
		        applyStaticTranslations(); 
		    } catch (err) {
		        console.error("Could not load translations:", err);
		    }
		}

		function applyStaticTranslations() {
		    document.querySelectorAll('[data-i18n]').forEach(el => {
		        const key = el.getAttribute('data-i18n');
		        if (ui[key]) {
		            // Håndter både almindelig tekst og input-placeholders
		            if (el.tagName === 'INPUT') el.placeholder = ui[key];
		            else el.innerText = ui[key];
		        }
		    });
		}

		async function handleLangChange(langCode, shouldRender = true) {
		    userSettings.lang = langCode;
		    const langData = appConfig.languages[langCode];
			await loadInterfaceTranslations(langCode);
			
			// 1. Find ud af hvilket land vi skal bruge
		    let activeCountry = userSettings.country;
		
		    // Tjek om landet mangler ELLER om det nuværende land ikke findes i det nye sprogs liste
		    if (!activeCountry || !langData.countries[activeCountry]) {
		        activeCountry = langData.defaultCountry;
		    }
		
		    // Opdater userSettings med det valgte/validerede land
		    userSettings.country = activeCountry;
			
		    // Opdater lande-vælgeren i menuen
		    const countrySelect = document.getElementById('country-select');
		    if (countrySelect) {
		        countrySelect.innerHTML = Object.keys(langData.countries).map(code => 
		            `<option value="${code}" ${activeCountry === code ? 'selected' : ''}>
		                ${langData.countries[code].label}
		            </option>`
		        ).join('');
		    }

			renderUserSection();			
		    await handleCountryChange(activeCountry, shouldRender);
		}	
		
		async function handleCountryChange(countryCode, shouldRender = true) {
		    // 1. Opdater indstillingerne for land
		    userSettings.country = countryCode;

		    // 2. Hent geografiske data for det valgte land fra geoData
		    const countryConfig = geoData[countryCode];
		    		
		    const regionIds = Object.keys(countryConfig.regions);
		    const currentRegion = userSettings.region;
		
		    // 3. Valider region: Behold nuværende hvis den findes i det nye land, 
		    // ellers vælg den første (typisk 'all')
		    if (!currentRegion || !countryConfig.regions[currentRegion]) {
		        userSettings.region = regionIds[0]; 
		    }
		
		    // 4. Opdater regions-dropdown i menuen
		    const regionSelect = document.getElementById('region-select');
		    if (regionSelect) {
		        regionSelect.innerHTML = Object.entries(countryConfig.regions).map(([id, data]) => {
		            // Vi henter label baseret på det aktive sprog, fallback til ID
		            const label = data.label[userSettings.lang] || data.label['da'] || id;
		            const isSelected = userSettings.region === id;
		            
		            return `<option value="${id}" ${isSelected ? 'selected' : ''}>${label}</option>`;
		        }).join('');
		    }
			
		    // 5. Gem de nye indstillinger
		    saveSettings(); 
		    		
		    // 6. Kør region-skiftet (som ofte håndterer rendering)
		    await handleRegionChange(shouldRender);
		}
		
		async function handleRegionChange(shouldRender = true) {
			const cacheBuster = `?v=${new Date().getTime()}`;
			const response = await fetch(`data/regions/${userSettings.country}_wizardMushroomData.json${cacheBuster}`);
			const uiWizard = await response.json();

			// 1. Opdater indstillingerne
			const regionSelect = document.getElementById('region-select');
			userSettings.region = regionSelect.value;
		    
		    // 2. Find regionerne for det valgte land i det valgte sprog
			wizardMushroomData = uiWizard[userSettings.lang][userSettings.region];
			
		    // 4. Gem de nye indstillinger permanent
		    saveSettings();
		
		    // 5. Hent den nye lande-database (f.eks. data_dk.json)
		    await loadDatabase();
		
		    // 6. Hvis vi skal opdatere skærmen med det samme (f.eks. når man skifter i menuen)
		    if (shouldRender) {
		        render(currentPageId);
		    }
		}

		// Hjælpefunktion til at flette (merge) objekter dybt sammen
		function deepMerge(target, ...sources) {
		    if (!sources.length) return target;
		    const source = sources.shift();
		
		    if (target && typeof target === 'object' && !Array.isArray(target) && 
		        source && typeof source === 'object' && !Array.isArray(source)) {
		        for (const key in source) {
		            if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
		                if (!target[key]) Object.assign(target, { [key]: {} });
		                deepMerge(target[key], source[key]);
		            } else {
		                Object.assign(target, { [key]: source[key] });
		            }
		        }
		    }
		    return deepMerge(target, ...sources);
		}
		
		async function loadDatabase() {
			const lang = userSettings.lang;
			const country = userSettings.country;
			const region = userSettings.region;

			try {
				// 1. Hent de tre nødvendige filer parallelt
				const [uniRes, langRes, regRes] = await Promise.all([
					fetch('data/universal.json'),
					fetch(`data/lang/${lang}.json`),
					fetch(`data/regions/${country}.json`)
				]);
		
				const universal = await uniRes.json();
				const langData = await langRes.json();
				const regionData = await regRes.json();
		
				const flatDatabase = {};
		
				// 2. Loop KUN over de arter, der findes i det valgte land
				for (const id in regionData) {
					const regObj = regionData[id];
					const commonData = regObj.all || {};
					const specificRegionData = regObj[region];
		
					// SIKKERHEDS-TJEK: Vokser den overhovedet her?
					// Hvis der ikke er nogen 'common' data, og den heller ikke er nævnt 
					// i den valgte region, så spring den over.
					if (Object.keys(commonData).length === 0 && !specificRegionData) {
						continue; 
					}
		
					let entry = { id: id };
		
					// A: Start med at hente de universelle grunddata (type, latin)
					if (universal[id]) {
						deepMerge(entry, universal[id]);
					}
		
					// B: Læg de globale sprog-tekster på (navn, traits, id_keys)
					if (langData[id]) {
						deepMerge(entry, langData[id]);
					}
		
					// C: Pålæg Common Base Data for landet (habitats, months osv.)
					let commonBase = { ...commonData };
					delete commonBase.i18n; // Undgå at overskrive med hele i18n objektet
					deepMerge(entry, commonBase);
		
					// D: Pålæg Common Sprog Data for landet (f.eks. dansk extended_habitat)
					if (commonData.i18n && commonData.i18n[lang]) {
						deepMerge(entry, commonData.i18n[lang]);
					}
		
					// E: Hvis brugerens valgte region har unikke data, så overskriv med dem!
					if (specificRegionData) {
						let specificBase = { ...specificRegionData };
						delete specificBase.i18n;
						deepMerge(entry, specificBase); // Kan f.eks. ændre 'months' for Nordjylland
		
						// F: Regionale sprog-variationer (f.eks. lokal forvekslingsfare)
						if (specificRegionData.i18n && specificRegionData.i18n[lang]) {
							deepMerge(entry, specificRegionData.i18n[lang]);
						}
					}
		
					// 3. Tilføj det færdige, skræddersyede objekt til appens database
					flatDatabase[id] = entry;
				}
				console.log(JSON.stringify(flatDatabase, null, 2)));
				return flatDatabase;
		
			} catch (error) {
				console.error("Could not parse and build database:", error);
				return null;
			}
		}

		// Hjælpefunktion til at gemme i localStorage
		function saveSettings() {
		    localStorage.setItem('userSettings', JSON.stringify(userSettings));
		}

		function renderUserSection() {
		    const container = document.getElementById('user-section');
		    if (!container) return;
		
		    const count = getSpotCount();
		    const countBadge = `<span class="ml-auto bg-emerald-100 text-emerald-700 text-[10px] font-black px-2 py-0.5 rounded-full">${count}</span>`;
		
		    if (!isLoggedIn) {
		        container.innerHTML = `
		            <button onclick="navigate('my-spots')" class="w-full text-left py-3 px-3 flex items-center gap-3">
		                <span class="text-lg">📍</span> 
		                <div class="flex flex-col">
		                    <span class="font-bold text-sm">${ui.my_spots}</span>
		                </div>
		                ${countBadge}
		            </button>
		            <section class="bg-emerald-900 text-white p-4 rounded-2xl shadow-md mb-2">
		                <h3 class="font-black italic uppercase text-sm mb-1">${ui.save_in_cloud}</h3>
		                <p class="text-[10px] opacity-80 mb-3">${ui.save_in_cloud_expl}.</p>
		                <button onclick="handleLogin()" class="w-full bg-white text-emerald-900 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest">
		                    ${ui.log_in_register}
		                </button>
		            </section>		            
		        `;
		    } else {
		        container.innerHTML = `
		            <button onclick="navigate('my-spots')" class="w-full text-left py-3 px-3 flex items-center gap-3 bg-white rounded-xl">
		                <span class="text-lg">📍</span> 
		                <div class="flex flex-col text-emerald-900">
		                    <span class="font-bold text-sm">${ui.my_spots}</span>
		                </div>
		                ${countBadge}
		            </button>
		            <div class="flex items-center gap-3 p-3 bg-white rounded-2xl shadow-sm mb-1">
		                <div class="w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-700 font-bold italic">
		                    ${userSettings.name ? userSettings.name[0] : 'U'}
		                </div>
		                <div class="flex flex-col">
		                    <span class="font-bold text-sm italic">Profilnavn</span>
		                </div>
		            </div>		
		        `;
		    }
		}

		function handleLogin() {
		    alert("Her åbnes Stripe / Google Login vindue...");
		    // Her integreres senere Firebase Auth eller lignende.

			// Her ville din rigtige login-kode være
		    console.log("Logging in...");
		    
		    // For test: Lad os lade som om login lykkedes
		    isLoggedIn = true;
		    renderUserSection(); // Opdaterer menuen med det samme uden at genindlæse siden
		}
	
		function reportBug() {
		    closeMenuIfOpen();
		    
		    // Vi gør emnet og teksten lidt mere generel
		    const subject = encodeURIComponent("${ui.feedback_subject}");
			const body = encodeURIComponent(`${ui.feedback_content} (${ui.menu_language}: ${userSettings.lang}, ${ui.menu_country}: ${userSettings.country})`);
		    
		    window.location.href = `mailto:support@wild.ly?subject=${subject}&body=${body}`;
		}
	
		function render(pageId, data) {
		    // Hvis pageId ikke er defineret (f.eks. ved reload), brug 'start'
		    const current = pageId || 'start';
			currentPageId = pageId;
			
		    // Styr tilbage-knappens synlighed
		    const backBtn = document.getElementById('back-btn');
		    if (current === 'start') {
		        backBtn.classList.add('hidden');
		    } else {
		        backBtn.classList.remove('hidden');
		    }
		
		    // Scroll til toppen ved skift
		    window.scrollTo(0,0);
		
		    // Vælg hvad der skal vises
		    if (current === 'start') {
		        renderStart();
		    } else if (current === 'my-spots') {
		        renderMySpots(); // Nu er kortet med i navigationen!
		    } else if (current === 'wizard') {
		        // Vi sender data (noden) med til renderWizard
		        renderWizard(data || 'START');
		    } else if (current === 'all') {
		        renderAll();
		    } else if (current === 'view_spot') {
			    renderSpot(data.spotId);
			} else if (current === 'safety') {
		        renderSafety();
		    } else if (current === 'view_forest_type') {
		        renderForestMenu();
		    } else if (typeof current === 'string' && current.startsWith('view_')) {
		        renderHabitat(current.replace('view_', ''));
		    } else if (database[current]) { // Tjekker om ID findes i databasen (res_...)
		        renderResult(current);
		    }
		}

        function handleSeasonChange(val) {
            activeSeason = val;
            const label = document.getElementById('season-label');
            const iconCont = document.getElementById('season-icon-container');
            
            if(val !== 'all') {
                label.innerText = val.toUpperCase();
                iconCont.classList.add('text-green-800');
                label.classList.remove('text-stone-600');
            } else {
                label.innerText = ui.all_year;
                iconCont.classList.remove('text-green-800');
                label.classList.add('text-stone-600');
            }

			const appContent = document.getElementById('app-content');
		    if (appContent.innerHTML.includes(ui.my_spots)) {
		        renderMySpots(); // Opdater listen med det samme
		    } else {
		        render(); // Ellers kør din normale forside-render
		    }
        }
		
        function renderStart() {
			const activeHabitats = geoData[userSettings.country].regions[userSettings.region].activeHabitats;

			document.getElementById('app-content').innerHTML = `
				<div class="fade-in space-y-6">
                    <div class="p-10 card bg-green-900 text-white border-0 shadow-xl overflow-hidden relative">
                        <div class="relative z-10">
                            <h2 class="text-3xl font-black italic sans uppercase tracking-tighter leading-none">${ui.start_title}</h2>
                            <p class="text-green-200 text-[10px] font-bold uppercase tracking-[0.2em] mt-3 sans">${ui.start_guide} ${appConfig.languages[userSettings.lang].countries[userSettings.country].label}</p>
                        </div>
                        <div class="absolute -right-4 -bottom-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"></div>
                    </div>
					<div class="grid grid-cols-2 gap-4">
						${activeHabitats.map(id => {
							const label = ui[`hab_${id}`] || id;
						    const isForest = (id === 'forest');
							
							return isForest ? `
								<button onclick="navigate('view_forest_type')" class="p-6 card flex flex-col items-center justify-center gap-2 btn-active">
									<span class="font-black text-stone-900 uppercase italic sans text-lg">${label}</span>
									<span class="text-[9px] font-bold text-green-700 uppercase sans font-black text-center">
										${ui.start_forest_type || 'Vælg skovtype'} →
									</span>
								</button>
							` : `
								<button onclick="navigate('view_${id}')" class="p-6 card flex flex-col items-center justify-center gap-2 btn-active">
									<span class="font-black text-stone-900 uppercase italic sans text-lg">${label}</span>
									<span class="text-[9px] font-bold text-stone-600 uppercase sans">
										${ui.start_explore || 'Udforsk'}
									</span>
								</button>
							`;
		                }).join('')}
					</div>

                    <button onclick="navigate('all')" class="w-full p-6 card flex items-center justify-between btn-active">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-stone-100 rounded-2xl flex items-center justify-center font-bold text-green-800 italic sans text-xl">${ui.start_letter_range || 'A-Å'}</div>
                            <div class="text-left">
                                <div class="font-black text-stone-900 uppercase italic sans text-lg">${ui.start_library || 'Biblioteket'}</div>
                                <div class="text-[9px] font-bold text-stone-600 uppercase sans">${ui.start_library_all || 'Alle'} ${Object.keys(database).length} ${ui.start_library_species || 'arter'}</div>
                            </div>
                        </div>
                    </button>

					<button onclick="navigate('my-spots')" 
							class="w-full p-4 border-2 border-stone-200 text-stone-600 rounded-[24px] font-black text-[11px] uppercase tracking-widest text-center mt-4">
						${ui.start_my_spots || 'Mine hemmelige steder'} 📍
					</button>
                </div>
            `;
        }

		function renderForestMenu() {
			document.getElementById('app-content').innerHTML = `
				<div class="fade-in space-y-6">
					<div class="flex items-center gap-3">
						<h2 class="text-2xl font-black text-stone-900 italic uppercase tracking-tighter sans">${ui.start_forest_type}</h2>
					</div>

					<div class="grid grid-cols-1 gap-4">
						<button onclick="navigate('view_deciduous')" class="p-6 card flex items-center justify-between btn-active">
							<div class="text-left">
								<span class="block font-black text-stone-900 uppercase italic sans text-xl">${ui.hab_deciduous}</span>
								<span class="text-xs font-bold text-stone-600 uppercase">${ui.hab_deciduous_description}</span>
							</div>
						</button>

						<button onclick="navigate('view_coniferous')" class="p-6 card flex items-center justify-between btn-active">
							<div class="text-left">
								<span class="block font-black text-stone-900 uppercase italic sans text-xl">${ui.hab_coniferous}</span>
								<span class="text-xs font-bold text-stone-600 uppercase">${ui.hab_coniferous_description}</span>
							</div>
						</button>

						<button onclick="navigate('view_forest')" class="p-6 card flex items-center justify-between btn-active">
							<div class="text-left">
								<span class="block font-black text-stone-900 uppercase italic sans text-xl">${ui.hab_mixed}</span>
								<span class="text-xs font-bold text-stone-600 uppercase">${ui.hab_mixed_description}</span>
							</div>
						</button>
					</div>
				</div>
			`;
		}

        function renderAll() {
            const appContent = document.getElementById('app-content');
            let list = Object.entries(database).sort((a, b) => a[1].name.localeCompare(b[1].name));

            const renderList = (filterText = "") => {
                const filtered = list.filter(([id, data]) => {
                    const matchesSearch = data.name.toLowerCase().includes(filterText.toLowerCase()) || 
                                        data.type.toLowerCase().includes(filterText.toLowerCase());
                    const matchesSeason = activeSeason === 'all' || (data.months && data.months.includes(activeSeason));
                    return matchesSearch && matchesSeason;
                });

                const listHtml = filtered.map(([id, data]) => `
                    <button onclick="navigate('${id}')" class="w-full card p-5 flex flex-col btn-active text-left mb-3">
                        <div class="flex items-center justify-between w-full mb-2">
                            <div>
                                <div class="font-black text-stone-900 text-lg sans uppercase italic tracking-tighter leading-none">${data.name}</div>
                                <div class="text-[10px] font-bold text-stone-600 uppercase sans mt-1">${data.type} • ${data.habitats.map(h => ui[`hab_${h}`] || h).join('/')}</div>
                            </div>
                            <span class="type-badge badge-${data.type}">${data.type[0]}</span>
                        </div>
                        <div class="text-xs font-medium text-stone-600 italic line-clamp-1">${data.traits}</div>
                    </button>
                `).join('');

                document.getElementById('search-results').innerHTML = listHtml || '<p class="text-center py-10 text-stone-600 italic sans">${ui.no_search_results}</p>';
            };

            appContent.innerHTML = `
                <div class="fade-in space-y-4">
                    <h2 class="text-3xl font-black text-stone-900 italic uppercase tracking-tighter sans mb-4">${ui.menu_library}</h2>
                    <div class="relative mb-6">
                        <input type="text" id="search-input" placeholder="${ui.search_placeholder}" 
                            class="w-full p-4 pl-12 rounded-2xl border-none bg-stone-100 sans font-bold text-stone-900 focus:ring-2 focus:ring-green-800 outline-none transition-all">
                        <div class="absolute left-4 top-1/2 -translate-y-1/2 text-stone-600">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                        </div>
                    </div>
                    <div id="search-results"></div>
                </div>
            `;

            const searchInput = document.getElementById('search-input');
            if(searchInput) searchInput.addEventListener('input', (e) => renderList(e.target.value));
            renderList();
        }

        function renderHabitat(habitatId) {
			const title = ui[`hab_${habitatId}`] || habitatId;
			const list = Object.entries(database)
				.filter(([id, data]) => {
		            const plantHabitats = data.habitats || [];
		
		            // Speciel logik for blandingsskov (viser både løv og nål)
		            if (habitatId === 'forest') {
		                return plantHabitats.includes('deciduous') || plantHabitats.includes('coniferous') || plantHabitats.includes('forest');
		            }
		
		            // Standard tjek
		            return plantHabitats.includes(habitatId);
		        })
		        .filter(d => activeSeason === 'all' || (d[1].months && d[1].months.includes(activeSeason)))
		        .sort((a, b) => a[1].name.localeCompare(b[1].name));				

            document.getElementById('app-content').innerHTML = `
                <div class="fade-in space-y-4">
                    <h2 class="text-3xl font-black text-stone-900 italic uppercase tracking-tighter sans mb-6">${title}</h2>
                    <div class="space-y-4">
		                ${list.length > 0 ? list.map(([id, data]) => renderCard(id, data)).join('') : renderEmptyState()}
		            </div>
                </div>
            `;
        }

		function renderCard(id, data) {
		    return `
		    <button onclick="navigate('${id}')" class="w-full card p-6 flex flex-col btn-active text-left">
		        <div class="flex items-center justify-between mb-2">
		            <div class="font-black text-stone-900 text-xl uppercase italic tracking-tighter sans leading-none">
		                ${data.name}
		            </div>
		            <span class="type-badge badge-${data.type}">${data.type}</span>
		        </div>
		        <div class="text-sm font-medium text-stone-600 italic">
		            ${data.traits}
		        </div>
		    </button>`;
		}

		function renderEmptyState() {
		    return `<p class="text-center py-10 text-stone-600 italic sans">${ui.no_species_in_season}</p>`;
		}
		
		function showForestSubtypes() {
			const options = document.getElementById('forest-options');
			// Toggle visning af underkategorier
			options.classList.toggle('hidden');
			
			// Valgfrit: Scroll ned til mulighederne så brugeren ser dem
			if (!options.classList.contains('hidden')) {
				options.scrollIntoView({ behavior: 'smooth' });
			}
		}

        function getSeasonalityHtml(plantMonths) {
            return `
                <div class="flex gap-1 w-full mt-2">
                    ${ui.monthOrder.map(m => {
                        const isActive = plantMonths.includes(m);
                        return `<div class="month-pill ${isActive ? 'month-active' : 'month-inactive'}">${m[0]}</div>`;
                    }).join('')}
                </div>
            `;
        }

		function getDistance(lat1, lon1, lat2, lon2) {
		    const R = 6371; // Jordens radius i km
		    const dLat = (lat2 - lat1) * Math.PI / 180;
		    const dLon = (lon2 - lon1) * Math.PI / 180;
		    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
		              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon/2) * Math.sin(dLon/2);
		    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
		    const d = R * c;
		    return d; // Returnerer afstand i km
		}

		function getSpotCount() {
		    try {
		        const savedSpots = localStorage.getItem('mySpots'); // Antager dine fund hedder 'mySpots'
		        if (!savedSpots) return 0;
		        const spots = JSON.parse(savedSpots);
		        return Array.isArray(spots) ? spots.length : 0;
		    } catch (e) {
		        return 0;
		    }
		}

	function initOverviewMap(spots) {
		    setTimeout(() => {
		        const mapContainer = L.DomUtil.get('overview-map');
		        if (mapContainer != null) mapContainer._leaflet_id = null;
		
		        const overviewMap = L.map('overview-map', { zoomControl: false, attributionControl: false });
		        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(overviewMap);
		
		        activeMarkers = {}; 
		        const markerArray = [];
		
		        spots.forEach(spot => {
		            // RETTELSE 1: Håndter både nye (flade) og gamle (nested) koordinater
		            const lat = spot.lat || (spot.location ? spot.location.lat : null);
		            const lng = spot.lng || (spot.location ? spot.location.lng : null);
		
		            if (!lat || !lng) return; // Spring over hvis ingen data
		
		            const marker = L.marker([lat, lng]).addTo(overviewMap);
		            
		            // RETTELSE 2: Definer 'plant' så popup'en virker
		            const plant = spot.info; 
		
		            const monthsHtml = spot.info.months.map(m => `
		                <span style="display:inline-block; font-size:7px; font-weight:800; padding:1px 4px; border-radius:3px; margin:0 1px; ${m === activeSeason ? 'background-color:#064e3b;color:white;' : 'background-color:#f5f5f4;color:#a8a29e;'}">${m}</span>
		            `).join('');
		
		            marker.bindPopup(`
		                <div class="p-2">
		                    <h3 class="font-bold">${plant.name}</h3>
							<div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 2px; margin-bottom: 10px;">
								${monthsHtml}
							</div>							
		                    <p class="text-xs text-gray-500 mb-2 font-sans">${new Date(spot.timestamp).toLocaleDateString()}</p>
		                    <div class="flex flex-col gap-2">
		                        <button onclick="navigate('view_spot', { spotId: '${spot.uid}' })" class="bg-emerald-600 text-white px-3 py-2 rounded text-xs font-bold">
									${ui.map_show_spot}
								</button>
								<button onclick="navigate('${spot.resId}')" class="border border-stone-300 bg-stone-50 text-stone-600 px-2 py-2 rounded text-[10px] font-bold uppercase tracking-wide flex items-center justify-center gap-1">
									${ui.map_plant_info}
								</button>
								<button onclick="window.open('https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}', '_blank')" class="border border-blue-200 bg-blue-50 text-blue-700 px-2 py-2 rounded text-[10px] font-bold uppercase tracking-wide flex items-center justify-center gap-1">
									${ui.spot_get_directions}
								</button>
		                    </div>
		                </div>
		            `);
		            
		            activeMarkers[spot.originalIndex] = marker;
		            markerArray.push(marker);
		        });
		
		        if (markerArray.length > 0) {
		            const group = new L.featureGroup(markerArray);
		            overviewMap.fitBounds(group.getBounds().pad(0.3));
		        }
		        
		        window.currentMap = overviewMap;
		    }, 100);
		}

		// Funktionen der kører når du trykker på et punkt i listen
		function focusSpotOnMap(originalIndex) {
		    const marker = activeMarkers[originalIndex];
		    if (marker && window.currentMap) {
		        window.currentMap.setView(marker.getLatLng(), 15, { animate: true });
		        marker.openPopup();
		        
		        const mapEl = document.getElementById('overview-map');
		        if(mapEl) mapEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
		    }
		}
		
		function showLocationEditor(id, loc) {
		    const modalHtml = `
		        <div id="location-editor" class="fixed inset-0 z-[110] flex flex-col bg-white">
		            <div class="p-6 flex justify-between items-center border-b">
		                <div>
		                    <h3 class="font-black uppercase italic tracking-tighter leading-none">${ui.spot_editor_set_location}</h3>
		                    <p class="text-[10px] text-stone-400 font-bold uppercase mt-1">${database[id].name}</p>
		                </div>
		                <button onclick="closeLocationEditor()" class="text-stone-400 font-bold text-sm">${ui.cancel}</button>
		            </div>
		            
		            <div class="relative flex-1 bg-stone-100">
		                <div id="map-container" class="w-full h-full"></div>
		                
		                <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-[1000]">
		                    <div class="flex flex-col items-center translate-y-[-20px]">
		                        <div class="bg-stone-900 text-white text-[8px] font-bold px-2 py-1 rounded mb-1 uppercase tracking-widest">${ui.spot_location}</div>
		                        <span class="text-4xl drop-shadow-2xl">📍</span>
		                    </div>
		                </div>
		
		                <div class="absolute top-4 left-4 z-[1000] bg-white/90 backdrop-blur px-3 py-2 rounded-full shadow-sm border border-stone-200">
		                    <p class="text-[9px] font-black text-green-800 uppercase tracking-tighter leading-none">GPS: +/- ${loc.acc}m</p>
		                </div>
		            </div>
		
		            <div class="p-8 bg-white shadow-[0_-10px_30px_rgba(0,0,0,0.05)]">
		                <button onclick="saveFinalLocation('${id}', ${loc.acc})" 
		                        class="w-full p-6 bg-green-800 text-white rounded-[24px] font-black text-xs uppercase tracking-widest shadow-lg active:scale-95 transition-transform">
		                    ${ui.spot_confirm}
		                </button>
		            </div>
		        </div>
		    `;
		    document.body.insertAdjacentHTML('beforeend', modalHtml);
		
		    // Initialiser kortet efter HTML er indsat
		    setTimeout(() => {
		        map = L.map('map-container', {
		            zoomControl: false, // Vi gemmer knapperne for et rent look
		            attributionControl: false
		        }).setView([loc.lat, loc.lng], 18); // Zoom niveau 18 er godt til skov
		
		        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
		    }, 100);
		}
		
		function saveFinalLocation(resId, accuracy) {
			const center = map.getCenter();
		    
		    // 1. Skab et unikt ID for dette specifikke fund
		    const spotUid = 'spot_' + Date.now();
		    
		    const newDiscovery = { 
		        uid: spotUid,           // Unikt ID for fundet
		        resId: resId,           // ID på planten (f.eks. res_tragt)
		        lat: center.lat, 
		        lng: center.lng, 
		        acc: accuracy, 
		        timestamp: new Date().toISOString(),
		        photos: []              // Gør plads til billeder
		    };
		    
		    // 2. Hent eksisterende fund og tilføj det nye
		    const existing = JSON.parse(localStorage.getItem('mySpots')) || [];
		    existing.push(newDiscovery);
		    localStorage.setItem('mySpots', JSON.stringify(existing));
		    
		    // 3. Opdater den globale variabel (hvis du bruger en)
		    if (typeof mySpots !== 'undefined') {
		        mySpots = existing;
		    }
		    
		    // 4. Luk editoren og naviger direkte til den nye fund-side
		    closeLocationEditor();

		    // Vi bruger 'view_spot' og sender vores nye unikke spotUid med
		    navigate('view_spot', { spotId: spotUid });
		}
		
		function closeLocationEditor() {
		    if(map) map.remove(); // Ryd op i hukommelsen
		    const editor = document.getElementById('location-editor');
		    if(editor) editor.remove();
		}
		
		// Henter GPS-koordinater med høj præcision
		const getPreciseLocation = () => {
			return new Promise((resolve, reject) => {
				if (!navigator.geolocation) {
					reject(new Error(ui.map_no_gps));
				}
				navigator.geolocation.getCurrentPosition(
					(pos) => resolve({
						lat: pos.coords.latitude,
						lng: pos.coords.longitude,
						acc: Math.round(pos.coords.accuracy),
						timestamp: new Date().toISOString()
					}),
					(err) => reject(err),
					{ enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
				);
			});
		};

		// Håndterer "Gem"-knappen
		async function handleSaveLocation(id, btn) {
			if (btn.disabled) return;
			const originalContent = btn.innerHTML;
    		const originalWidth = btn.offsetWidth;
			const spinnerSvg = `
				<svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
					<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
					<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
				</svg>`;
			
			btn.style.width = originalWidth + 'px';
    		btn.disabled = true;
		
			try {		
				btn.innerHTML = spinnerSvg;
				
				const location = await getPreciseLocation();
		        
		        // Åbner editoren og sender ID med
		        showLocationEditor(id, location);
			} catch (error) {
		        console.error(error);
		        alert((ui.spot_gps_error) + " " + error.message);
		    } finally {
		        btn.innerHTML = originalContent;
		        btn.style.width = '';
		        btn.disabled = false;
		    }
		}

		async function renderMySpots(filterId = null) {
		    const container = document.getElementById('app-content');
		    container.innerHTML = `<div class="p-20 text-center animate-pulse text-stone-400">${ui.spot_calculating_distances}</div>`;

		    let userPos = null;
		    try {
		        userPos = await getPreciseLocation();
		    } catch (e) {
		        console.log(ui.spot_gps_not_available);
		    }
		
		    const spots = JSON.parse(localStorage.getItem('mySpots')) || [];
		    
		    // 1. Filtrer og beregn afstande
		    let processedSpots = spots.map((spot, index) => {
		        const info = database[spot.resId]; 
		        
		        const lat = spot.lat || (spot.location ? spot.location.lat : null);
		        const lng = spot.lng || (spot.location ? spot.location.lng : null);
		
		        let dist = null;
		        if (userPos && lat && lng) {
		            dist = getDistance(userPos.lat, userPos.lng, lat, lng);
		        }
		        return { ...spot, info, dist, originalIndex: index, lat, lng };
		    }).filter(s => {
		        const matchesSeason = (activeSeason === 'all' || s.info.months.includes(activeSeason));
		        // Hvis der er et filterId, skal resId matche. Ellers bare sæson-tjek.
		        return s.info && matchesSeason && (!filterId || s.resId === filterId);
		    });
		
		    // 2. Sorter efter afstand
		    if (userPos) {
		        processedSpots.sort((a, b) => a.dist - b.dist);
		    }

		    if (processedSpots.length === 0) {
		        const hasAnySpots = (JSON.parse(localStorage.getItem('mySpots')) || []).length > 0;
		        container.innerHTML = `
		            <div class="flex flex-col items-center justify-center min-h-[60vh] px-8 text-center fade-in">
		                <div class="w-20 h-20 bg-stone-100 rounded-full flex items-center justify-center text-3xl mb-6">📍</div>
		                <h3 class="text-xl font-black uppercase italic tracking-tighter text-stone-900 mb-2">
		                    ${hasAnySpots ? `${ui.no_species_in_season}` : `${ui.spot_no_saved}`}
		                </h3>
		                <p class="text-stone-500 text-sm italic leading-relaxed mb-8">
		                    ${hasAnySpots 
		                        ? `${ui.spot_change_month}` 
		                        : `${ui.spot_map_empty}`}
		                </p>
		                <button onclick="navigate('start')" class="px-8 py-4 bg-green-800 text-white rounded-full font-black text-[10px] uppercase tracking-widest shadow-lg">
		                    ${ui.go_to_home}
		                </button>
		            </div>
		        `;
		        return; 
		    }

			const title = filterId && processedSpots.length > 0 
			        ? `${ui.spot_finds_of} ${processedSpots[0].info.name} 📍` 
			        : `${ui.my_spots} 📍`;
			
			container.innerHTML = `
		        <div class="fade-in space-y-6 pb-20">
		            <div class="text-center px-4">
		                <h2 class="text-3xl font-black text-stone-900 uppercase italic tracking-tighter">${title}</h2>
						${filterId ? `<button onclick="renderMySpots()" class="text-[9px] font-bold text-emerald-600 uppercase">← ${ui.spot_all_species}</button>` : ''}
		            </div>
		
		            <div class="card overflow-hidden shadow-xl border-stone-100 mx-4">
		                <div id="overview-map" style="width: 100%; height: 350px;"></div>
		            </div>
		
		            <div class="space-y-3 px-4">
		                ${processedSpots.map((spot) => `
		                    <div class="card p-5 border-stone-100 flex justify-between items-center active:scale-[0.98] transition-all" 
		                         onclick="focusSpotOnMap('${spot.originalIndex}')">
		                        <div class="flex-1">
		                            <div class="flex items-center gap-2 mb-1">
		                                <span class="id-label !mb-0 text-[8px] opacity-40">
		                                    ${new Date(spot.timestamp).toLocaleDateString('da-DK')}
		                                </span>
		                                ${spot.dist !== null ? `
		                                    <span class="bg-amber-100 text-amber-800 text-[8px] font-black px-2 py-0.5 rounded-full uppercase">
		                                        ${spot.dist < 1 ? Math.round(spot.dist * 1000) + ' m' : spot.dist.toFixed(1) + ' km'}
		                                    </span>
		                                ` : ''}
		                            </div>
		                            <h4 class="text-xl font-black uppercase italic tracking-tighter text-stone-900">${spot.info.name}</h4>
		                            <div class="flex gap-1 mt-1">
		                                ${spot.info.months.map(m => `
		                                    <span class="text-[7px] font-bold uppercase px-1 rounded ${m === activeSeason ? 'bg-green-800 text-white' : 'bg-stone-100 text-stone-400'}">${m}</span>
		                                `).join('')}
		                            </div>
		                        </div>
		                        <button onclick="event.stopPropagation(); deleteFullSpot('${spot.uid}')" 
		                                class="ml-4 w-8 h-8 rounded-full bg-red-50 text-red-300 flex items-center justify-center text-xs">✕</button>
		                    </div>
		                `).join('')}
		            </div>
					</div> <div class="px-4 pt-8 pb-12 text-center">
			            <button onclick="clearAllSpots()" class="text-[10px] font-bold text-stone-400 uppercase tracking-widest border border-stone-200 px-6 py-3 rounded-full hover:bg-red-50 hover:text-red-500 hover:border-red-100 transition-all">
			                ${ui.spot_delete_all}
			            </button>
			        </div>
				</div>
		    `;
		
		    initOverviewMap(processedSpots);
		}
		
		async function clearAllSpots() {
		    if (confirm(ui.spot_delete_all_confirm)) {
		        
		        // 1. Ryd localStorage (kort-markører og metadata)
		        localStorage.removeItem('mySpots');
		        
		        // 2. Ryd IndexedDB (alle billedfiler)
		        try {
		            const db = await photoStorage.init();
		            const tx = db.transaction("photos", "readwrite");
		            const store = tx.objectStore("photos");
		            
		            const request = store.clear();
		            
		            request.onsuccess = () => {
		                // 3. Opdater UI
		                if (typeof mySpots !== 'undefined') mySpots = [];
		                alert(ui.spot_deleted_all);
		                navigate('start');
		            };
		        } catch (err) {
		            console.error("Error with erasing images:", err);
		            navigate('start');
		        }
		    }
		}

		async function renderSpot(spotUid) {
		    const allSpots = JSON.parse(localStorage.getItem('mySpots')) || [];
		    const spot = allSpots.find(s => s.uid === spotUid);
		    if (!spot) return navigate('start');
		
		    const plantInfo = database[spot.resId];
		    
		    const app = document.getElementById('app-content');
		    const lat = spot.lat || (spot.location ? spot.location.lat : null);
			const lng = spot.lng || (spot.location ? spot.location.lng : null);
			const mapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`;
			
		    app.innerHTML = `
		        <div class="p-4 space-y-6 pb-20 fade-in">
		            <p class="text-[10px] text-emerald-800 font-bold uppercase tracking-widest mb-1">
					    ${new Date(spot.timestamp).toLocaleDateString()}
					</p>
					<h1 class="text-3xl font-black text-stone-900 uppercase italic tracking-tighter">${plantInfo.name}</h1>
		            
		            <div id="spot-map" class="w-full h-48 rounded-2xl border border-stone-200 shadow-inner mb-3"></div>
					${(lat && lng) ? `
					<button onclick="window.open('${mapsUrl}', '_blank')" 
					        class="w-full bg-stone-100 text-emerald-800 border-2 border-emerald-800/10 py-3 rounded-xl font-bold text-sm shadow-sm active:scale-[0.98] transition-transform flex items-center justify-center gap-2 mb-6">
					    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
					        <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>
					    </svg>
					    ${ui.spot_get_directions}
					</button>
					` : ''}

		            <div>
		                <div class="flex justify-between items-end mb-3">
		                    <h2 class="text-sm font-bold text-stone-500 uppercase tracking-wider">${ui.spot_images}</h2>
		                    
		                    <div class="flex gap-3">
		                        <label class="flex items-center justify-center w-10 h-10 bg-emerald-100 text-emerald-700 rounded-full cursor-pointer active:scale-90 transition-transform shadow-sm">
		                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
		                            <input type="file" accept="image/*" capture="environment" class="hidden" onchange="addPhotoToSpot('${spotUid}', this)">
		                        </label>
		                        
		                        <label class="flex items-center justify-center w-10 h-10 bg-stone-100 text-stone-600 rounded-full cursor-pointer active:scale-90 transition-transform shadow-sm">
		                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
		                            <input type="file" accept="image/*" class="hidden" onchange="addPhotoToSpot('${spotUid}', this)">
		                        </label>
		                    </div>
		                </div>
		
		                <div class="grid grid-cols-3 gap-2" id="photo-grid">
		                    <div class="col-span-3 text-center py-8 text-stone-300 animate-pulse">${ui.spot_fetching_images}</div>
		                </div>
		            </div>
		
		            <div class="pt-6 space-y-3">
		                <button onclick="navigate('${spot.resId}')" class="w-full bg-emerald-800 text-white py-4 rounded-xl font-bold shadow-lg active:scale-[0.98] transition-transform">
		                    ${ui.spot_species_details} ${plantInfo.name}
		                </button>
		                <button onclick="deleteFullSpot('${spotUid}')" class="w-full text-red-400 py-3 text-xs font-bold uppercase tracking-widest hover:text-red-600">
		                    ${ui.spot_delete}
		                </button>
		            </div>
		        </div>
		    `;
		
		    // Initialisér kort (håndterer både nye flade coords og gamle nested coords)
		    setTimeout(() => {
		        const lat = spot.lat || (spot.location ? spot.location.lat : 0);
		        const lng = spot.lng || (spot.location ? spot.location.lng : 0);
		        
		        if (lat && lng) {
		            const smap = L.map('spot-map', { zoomControl: false, attributionControl: false }).setView([lat, lng], 15);
		            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(smap);
		            const m = L.marker([lat, lng]).addTo(smap);
		            // Deaktiver interaktion så det bare er et "billede"
		            smap.dragging.disable();
		            smap.touchZoom.disable();
		            smap.doubleClickZoom.disable();
		            smap.scrollWheelZoom.disable();
		        }
		    }, 100);
		
		    // Hent billeder
			try {
		        const photos = await photoStorage.getAll(spotUid);
		        const grid = document.getElementById('photo-grid');
		        
		        if (photos.length === 0) {
			        grid.innerHTML = `
			            <div class="col-span-3 bg-stone-50 rounded-xl border border-dashed border-stone-300 p-8 flex flex-col items-center justify-center text-stone-400 gap-2">
			                <svg class="w-8 h-8 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path></svg>
			                <span class="text-xs font-medium">${ui.spot_no_images}</span>
			            </div>`;
		        } else {
					// Vi gemmer billederne i en global variabel eller på window-objektet 
			        // for at undgå at sende gigantiske strenge direkte i HTML-attributten
			        window.currentSpotPhotos = photos.map(p => p.data);
					
			        grid.innerHTML = photos.map((photo, index) => `
			            <div class="relative aspect-square group">
			                <img src="${photo.data}" 
					             onclick='openFullImage(window.currentSpotPhotos, ${index})'
			                     class="w-full h-full object-cover rounded-xl shadow-sm border border-stone-100 cursor-zoom-in active:opacity-80 transition-opacity">
			                
			                <button onclick="event.stopPropagation(); deleteSinglePhoto('${spotUid}', ${photo.id})" 
			                        class="absolute -top-2 -right-2 bg-white text-red-500 rounded-full w-6 h-6 shadow-md flex items-center justify-center font-bold z-10 border border-stone-100">
			                        ×
			                </button>
			            </div>
			        `).join('');
		        }
		    } catch (err) {
		        console.error("Error fetching photos:", err);
		        document.getElementById('photo-grid').innerHTML = `<p class="col-span-3 text-red-500 text-xs italic">${ui.spot_error_fetching_images}</p>`;
		    }
		}

		async function addPhotoToSpot(spotUid, input) {
		    if (input.files && input.files[0]) {
		        const reader = new FileReader();
		        reader.onload = async function(e) {
		            // Gem billedet i IndexedDB
		            await photoStorage.add(spotUid, e.target.result);
		            renderSpot(spotUid);
		        };
		        reader.readAsDataURL(input.files[0]);
				input.value = "";
		    }
		}
		
		function openFullImage(photoArray, startIndex) {
		    const overlay = document.createElement('div');
		    overlay.className = 'fixed inset-0 bg-black z-[2000] animate-in fade-in duration-200 overflow-hidden cursor-zoom-out';
		    
		    // Luk når man klikker på selve overlay-baggrunden
		    overlay.onclick = (e) => {
		        document.body.removeChild(overlay);
		    };
			
		    overlay.innerHTML = `
		        <div class="flex h-full w-full overflow-x-auto snap-x snap-mandatory no-scrollbar" id="swipe-gallery">
		            ${photoArray.map((src, i) => `
		                <div class="min-w-full h-full snap-center flex items-center justify-center p-4">
		                    <img src="${src}" class="max-w-full max-h-full object-contain shadow-2xl">
		                </div>
		            `).join('')}
		        </div>
		        
		        <button class="absolute top-10 right-6 text-white bg-black/40 backdrop-blur-md w-12 h-12 rounded-full flex items-center justify-center text-2xl font-bold z-[2001]">✕</button>
		        
		        <div class="absolute bottom-10 left-0 right-0 text-center text-white/50 text-[10px] font-black uppercase tracking-widest z-[2001] pointer-events-none">
		            ${ui.gallery_swipe_or_click_to_close}
		        </div>
		    `;
		
		    document.body.appendChild(overlay);
		
		    // Scroll til det rigtige billede
		    const gallery = document.getElementById('swipe-gallery');
		    gallery.scrollLeft = startIndex * window.innerWidth;
		}

		async function deleteFullSpot(spotUid) {
		    if (confirm(ui.spot_delete_confirm)) {
		        // 1. Slet fra localStorage (markøren og data)
		        let existing = JSON.parse(localStorage.getItem('mySpots')) || [];
		        existing = existing.filter(s => s.uid !== spotUid);
		        localStorage.setItem('mySpots', JSON.stringify(existing));
		
		        // 2. Slet alle billeder i IndexedDB til dette spot
		        const photos = await photoStorage.getAll(spotUid);
		        for (let p of photos) {
		            await photoStorage.delete(p.id);
		        }
		
		        navigate('start');
		    }
		}
		
		async function deleteSinglePhoto(spotUid, photoId) {
		    if (confirm(ui.gallery_delete_image)) {
		        await photoStorage.delete(photoId);
		        renderSpot(spotUid); // Opdater visningen
		    }
		}
		
		const photoStorage = {
		    dbName: "WildlyDB",
		    storeName: "photos",
		
		    // Åbner databasen
		    init() {
		        return new Promise((resolve, reject) => {
		            const request = indexedDB.open(this.dbName, 1);
		            request.onupgradeneeded = (e) => {
		                const db = e.target.result;
		                if (!db.objectStoreNames.contains(this.storeName)) {
		                    // Vi opretter et lager hvor hvert billede har et unikt ID
		                    // og et index så vi hurtigt kan finde alle billeder til ét fund (spotUid)
		                    const store = db.createObjectStore(this.storeName, { keyPath: "id", autoIncrement: true });
		                    store.createIndex("spotUid", "spotUid", { unique: false });
		                }
		            };
		            request.onsuccess = () => resolve(request.result);
		            request.onerror = () => reject("Could not open IndexedDB");
		        });
		    },
		
		    // Gem et billede til et specifikt fund
		    async add(spotUid, base64Data) {
		        const db = await this.init();
		        return new Promise((resolve, reject) => {
		            const tx = db.transaction(this.storeName, "readwrite");
		            const store = tx.objectStore(this.storeName);
		            const request = store.add({ spotUid, data: base64Data, date: Date.now() });
		            request.onsuccess = () => resolve();
		            request.onerror = () => reject();
		        });
		    },
		
		    // Hent alle billeder til et specifikt fund
		    async getAll(spotUid) {
		        const db = await this.init();
		        return new Promise((resolve) => {
		            const tx = db.transaction(this.storeName, "readonly");
		            const store = tx.objectStore(this.storeName);
		            const index = store.index("spotUid");
		            const request = index.getAll(spotUid);
		            request.onsuccess = () => resolve(request.result);
		        });
		    },
		
		    // Slet et specifikt billede
		    async delete(photoId) {
		        const db = await this.init();
		        const tx = db.transaction(this.storeName, "readwrite");
		        tx.objectStore(this.storeName).delete(photoId);
		    }
		};

		// Hjælpefunktion til at generere Naturbasen-linket
		function renderNaturbasenLink(url) {
			if (!url) return ''; // Hvis der ikke er et link, returneres intet

			return `
				<div class="mt-8 pt-6 border-t border-stone-100">
					<a href="${url}" target="_blank" rel="noopener noreferrer" 
					   class="flex items-center gap-4 w-full p-4 bg-white rounded-2xl border-2 border-stone-100 shadow-sm active:scale-[0.98] transition-all group">
						
						<div class="flex-shrink-0 w-12 h-12 bg-blue-900 rounded-xl flex items-center justify-center text-white font-black text-xs shadow-inner uppercase tracking-tighter">
							NB.dk
						</div>

						<div class="flex flex-col text-left">
							<span class="text-[9px] font-black text-blue-900 uppercase tracking-widest leading-none mb-1">${ui.naturbasen_external_db}</span>
							<span class="text-[15px] font-bold text-stone-900 leading-tight group-hover:underline">${ui.naturbasen_see_confirm}</span>
						</div>

						<svg xmlns="http://www.w3.org/2000/svg" class="ml-auto h-5 w-5 text-stone-300 group-hover:text-blue-900 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
						</svg>
					</a>
					<p class="mt-2 text-[10px] text-stone-600 text-center px-6 italic">
						${ui.naturbasen_explainer}
					</p>
				</div>
			`;
		}

		function showPreservationGuide() {
			const modalHtml = `
				<div id="preservation-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4">
					<div class="fixed inset-0 bg-stone-900/90 backdrop-blur-md" onclick="closePreservationGuide()"></div>
					
					<div class="bg-white rounded-[40px] w-full max-w-xl max-h-[85vh] overflow-hidden relative z-10 shadow-2xl border border-stone-200 flex flex-col">
						
						<div class="p-8 pb-4 bg-white flex justify-between items-start">
							<div>
								<h3 class="text-3xl font-black uppercase italic tracking-tighter text-stone-900 leading-none">${ui.detail_preservation}</h3>
							</div>
							<button onclick="closePreservationGuide()" class="h-12 w-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 hover:bg-stone-200 transition-all active:scale-90">✕</button>
						</div>

						<div class="flex-1 overflow-y-auto p-8 pt-4 space-y-12">
							
							<section>
								<div class="flex items-center gap-3 mb-4">
									<div class="w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-2xl border border-amber-100">☀️</div>
									<div>
										<h4 class="font-black uppercase text-sm tracking-widest text-stone-800 italic leading-none">${ui.detail_preservation_drying}</h4>
										<span class="text-[10px] text-amber-600 font-bold uppercase tracking-tighter">${ui.detail_preservation_drying_best_for}</span>
									</div>
								</div>
								<div class="text-sm text-stone-600 space-y-3 leading-relaxed border-l-2 border-stone-100 pl-6 ml-6">
									<p>${ui.detail_preservation_drying_preparation}</p>
									<p>${ui.detail_preservation_drying_oven}</p>
									<p>${ui.detail_preservation_drying_time}</p>
									<div class="bg-amber-50/50 p-3 rounded-xl border border-amber-100 text-[12px] italic">
										${ui.detail_preservation_drying_tip}
									</div>
								</div>
							</section>

							<section>
								<div class="flex items-center gap-3 mb-4">
									<div class="w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-2xl border border-blue-100">❄️</div>
									<div>
										<h4 class="font-black uppercase text-sm tracking-widest text-stone-800 italic leading-none">${ui.detail_preservation_frying}</h4>
										<span class="text-[10px] text-blue-600 font-bold uppercase tracking-tighter">${ui.detail_preservation_frying_best_for}</span>
									</div>
								</div>
								<div class="text-sm text-stone-600 space-y-3 leading-relaxed border-l-2 border-stone-100 pl-6 ml-6">
									<p>${ui.detail_preservation_frying_method}</p>
									<p>${ui.detail_preservation_frying_process}</p>
									<p>${ui.detail_preservation_frying_freeze}</p>
									<p>${ui.detail_preservation_frying_shelf_life}</p>
								</div>
							</section>

							<section>
								<div class="flex items-center gap-3 mb-4">
									<div class="w-12 h-12 rounded-2xl bg-rose-50 flex items-center justify-center text-2xl border border-rose-100">🧪</div>
									<div>
										<h4 class="font-black uppercase text-sm tracking-widest text-stone-800 italic leading-none">${ui.detail_preservation_pickling}</h4>
										<span class="text-[10px] text-rose-600 font-bold uppercase tracking-tighter">${ui.detail_preservation_pickling_best_for}</span>
									</div>
								</div>
								<div class="text-sm text-stone-600 space-y-3 leading-relaxed border-l-2 border-stone-100 pl-6 ml-6">
									<p>${ui.detail_preservation_pickling_brine}</p>
									<p>${ui.detail_preservation_pickling_process}</p>
									<p>${ui.detail_preservation_pickling_tip}</p>
								</div>
							</section>
						</div>

						<div class="p-8 bg-stone-50 border-t border-stone-100">
							<button onclick="closePreservationGuide()" class="w-full p-5 bg-stone-900 text-white rounded-[24px] font-black text-xs uppercase tracking-[0.2em] shadow-xl active:scale-95 transition-all">${ui.close}</button>
						</div>
					</div>
				</div>
			`;
			document.body.insertAdjacentHTML('beforeend', modalHtml);
		}

		function closePreservationGuide() {
			const modal = document.getElementById('preservation-modal');
			if (modal) {
				modal.classList.add('opacity-0');
				setTimeout(() => modal.remove(), 300);
			}
		}

        function renderResult(id) {
            const res = database[id];
			const allSpots = JSON.parse(localStorage.getItem('mySpots')) || [];
		    const mySpotsOfThisPlant = allSpots.filter(s => s.resId === id);
		    const hasExistingSpots = mySpotsOfThisPlant.length > 0;
			
		    // Lav HTML til "Se mine fund" linket
		    const mySpotsLink = mySpotsOfThisPlant.length > 0 ? `
			    <div class="mt-3">
			        <a href="#" onclick="event.preventDefault(); renderMySpots('${id}')" 
			           class="text-[11px] font-bold text-green-800 uppercase tracking-widest hover:underline flex items-center justify-center gap-1">
			        ${ui.detail_see_finds} (${mySpotsOfThisPlant.length})
			        </a>
			    </div>
			` : '';
			const hasTwin = res.twin && res.twin.name && !res.twin.no_twin;
			const notThisIf = res.not_this_if ? `
				<div class="bg-white p-2 rounded-2xl my-4 border border-red-100">
					<p class="text-red-800 text-[10px] font-black uppercase tracking-widest mb-2 px-2 italic">${ui.detail_not_this_if}</p>
					<ul class="list-none p-0 m-0">
						${res.not_this_if.map((text) => `
							<li class="flex items-baseline gap-3 py-1 border-b border-stone-100 last:border-0">
								<div class="h-1.5 w-1.5 rounded-full bg-red-500 shrink-0 transform translate-y-[-2px]"></div>
								<p class="text-stone-800 text-sm leading-tight text-left">
									${text}
								</p>
							</li>
						`).join('')}
					</ul>
				</div>	
			` : '';

			const currentMonth = new Date().getMonth();
			const isOutOfSeason = !res.months || !res.months.includes(ui.monthOrder[currentMonth]);
			const seasonHtml = isOutOfSeason ? `
				<div class="bg-amber-50 border-2 border-amber-200 p-4 rounded-xl my-2">
					<p class="text-amber-700 text-xs italic">${ui.detail_out_of_season}</p>
				</div>
			` : '';

            document.getElementById('app-content').innerHTML = `
				<div class="fab-container">
				    <button onclick="handleSaveLocation('${id}', this)" 
				            class="floating-save-btn active:scale-95">
				        <span>📍</span>
				        <span>${ui.detail_save_spot}</span>
				    </button>
				</div>

				<div class="fade-in space-y-8 pb-10">
                    <div class="text-center">
                        <span class="type-badge badge-${res.type} mb-3 inline-block">${res.type}</span>
                        <h2 class="text-4xl font-black text-stone-900 uppercase italic tracking-tighter sans leading-none">${res.name}</h2>
                        <p class="text-stone-600 font-bold italic text-base mt-2">${res.latin}</p>
                    </div>
					${res.months && res.months.length > 0 ? `
                    <div class="card p-6 border-stone-100">
                        <div class="id-label mb-2 flex justify-between items-center">
                            <span>${ui.detail_season}</span>
                            <span class="text-stone-600">${
								res.months && res.months.length > 0 
									? `${res.months[0].toUpperCase()} - ${res.months[res.months.length - 1].toUpperCase()}`
									: `${ui.unknown}`
								}
							</span>
                        </div>
                        ${getSeasonalityHtml(res.months || [])}
						${seasonHtml}
                    </div>
					` : ''}
					
                    <div class="card p-8 border-l-[12px] border-green-800 shadow-md">
                        <div class="id-label">${ui.detail_traits}</div>
						<p class="text-lg font-medium text-stone-900 italic leading-relaxed mb-6">${res.extended_traits || res.traits || ""}</p>
						${notThisIf}
						${res.extended_habitat ? `
                        <div class="id-label">${ui.detail_growing_location}</div>
                        <p class="text-lg font-medium text-stone-900 italic leading-relaxed mb-6">${res.extended_habitat}</p>
						` : ''}
						<details class="group border border-stone-200 rounded-3xl bg-stone-50 overflow-hidden transition-all shadow-sm">
							<summary class="list-none cursor-pointer p-5 flex justify-between items-center bg-white group-open:bg-stone-100 transition-colors">
								<div class="flex items-center gap-3">
									<span class="text-[11px] font-black uppercase tracking-widest text-green-900 sans">${ui.detail_usage_and_preservation}</span>
								</div>
								<span class="text-stone-400 group-open:rotate-180 transition-transform text-[10px]">▼</span>
							</summary>
							
							<div class="p-6 space-y-6 bg-stone-50/50 border-t border-stone-100">
								<div>
									<div class="text-[9px] font-black uppercase tracking-widest text-green-800 mb-2 sans opacity-60">${ui.detail_usage}</div>
									<p class="text-base font-medium text-stone-900 italic leading-relaxed">${res.usage}</p>
								</div>

								${res.cleaning ? `
								<div class="pt-5 border-t border-stone-200/60">
									<div class="text-[9px] font-black uppercase tracking-widest text-green-800 mb-2 sans opacity-60">${ui.detail_cleaning}</div>
									<p class="text-sm text-stone-800 italic leading-relaxed">${res.cleaning}</p>
								</div>
								` : ''}

								${res.preservation ? `
								<div class="pt-5 border-t border-stone-200/60">
									<div class="text-[9px] font-black uppercase tracking-widest text-green-800 mb-2 sans opacity-60">
								        ${ui.detail_usage_and_preservation}
								    </div>
								    <p class="text-sm text-stone-800 italic leading-relaxed mb-4">${res.preservation}</p>
								    
								    <button onclick="showPreservationGuide()" 
								            class="w-full flex items-center justify-between bg-white border border-green-200 p-3 rounded-2xl shadow-sm active:scale-[0.98] transition-all">
								        <div class="flex items-center gap-3">
								            <span class="text-lg">🍯</span>
								            <div class="text-left">
								                <div class="text-[10px] font-black uppercase text-green-800 leading-none">${ui.detail_learn_techniques}</div>
								                <div class="text-xs text-stone-500 italic">${ui.detail_learn_techniques_guide}</div>
								            </div>
								        </div>
								        <span class="text-green-800 text-xs">→</span>
								    </button>
								</div>
								` : ''}
							</div>
						</details>
                    </div>

                    <div class="card p-8 bg-stone-50 border-stone-100">
                        <div class="id-label mb-4">${ui.detail_expert_keys}</div>
                        <div class="space-y-5">
                            ${Object.entries(res.id_keys).map(([key, value]) => `
                                <div>
                                    <div class="text-[9px] font-black uppercase tracking-widest text-green-800 mb-1 sans">${key}</div>
                                    <p class="text-base text-stone-800 font-medium italic leading-snug">${value}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
					
					${res.twin ? `
                    <div class="p-8 rounded-[32px] ${res.twin.toxic ? 'bg-red-50 border-red-200' : 'bg-orange-50 border-orange-200'} border-2 shadow-sm">
                        <div class="flex items-center gap-4 mb-3">
							${res.twin.toxic ? `
                            <div class="w-15 h-10 px-2 rounded-full flex items-center justify-center bg-red-700 text-white font-bold">${ui.detail_toxic}</div>
							` : ''}
                            <div>
                                <div class="text-[9px] font-black uppercase sans">${ui.detail_lookalike}</div>
                                <div class="text-xl font-black text-stone-900 uppercase italic tracking-tighter sans">${res.twin.name}</div>
                            </div>
                        </div>
                        <p class="text-base font-medium text-stone-800 italic leading-relaxed">${res.twin.diff}</p>
                    </div>
					` : ''}

                    <div class="grid grid-cols-1 gap-3">
                        <button onclick="window.open('https://www.google.com/search?tbm=isch&q=${encodeURIComponent(res.name + ' ' + res.latin)}', '_blank')" class="w-full p-6 bg-stone-900 text-white rounded-[24px] font-black text-[11px] uppercase tracking-widest text-center btn-active sans shadow-lg">${ui.detail_google_photos}</button>
                        ${hasTwin ? `
                            <button onclick="window.open('https://www.google.com/search?tbm=isch&q=${encodeURIComponent(res.twin.name + ' ${ui.detail_lookalike_identification}')}', '_blank')" class="w-full p-6 border-2 border-red-700 text-red-700 rounded-[24px] font-black text-[11px] uppercase tracking-widest text-center btn-active sans shadow-lg">${ui.detail_google_lookalike_photos}</button>
                        ` : ''}
                    </div>

					${renderNaturbasenLink(res.naturbasen)}
                </div>
            `;
        }

        function renderSafety() {
            document.getElementById('app-content').innerHTML = `
                <div class="fade-in space-y-6">
                    <h2 class="text-3xl font-black text-red-700 italic uppercase tracking-tighter sans leading-none">${ui.safety}</h2>
                    <div class="card p-8 space-y-6 border-red-100">
                        <p class="italic text-stone-600 font-medium">${ui.safety_1}</p>
                        <p class="italic text-stone-600 font-medium">${ui.safety_2}</p>
                        <p class="italic text-stone-600 font-medium">${ui.safety_3}</p>
                        <div class="p-5 bg-red-700 text-white rounded-2xl text-center font-black sans uppercase text-sm shadow-lg">${geoData[userSettings.country].poison_phone}</div>
                    </div>
                </div>
            `;
        }

		window.handleWizardChoice = function(index) {
		    // 1. Tjek at valget er gyldigt
		    if (currentWizardNode && currentWizardNode.choices && currentWizardNode.choices[index]) {
		        
		        // 2. Find det næste trin i træet
		        const nextNode = currentWizardNode.choices[index];
		        
		        // 3. Opdater den globale variabel
		        currentWizardNode = nextNode;
		        
		        // 4. VIGTIGT: Brug navigate() i stedet for renderWizard()
		        // Dette gemmer trinnet i historikken, så "Tilbage" virker
		        navigate('wizard', nextNode);
		    }
		};
		
        function renderWizard(node) {
			// SIKRER AT GLOBALE VARIABLE ER SYNKRONISERET
		    if (typeof node === 'object') {
		        currentWizardNode = node;
		    }
			let content = '';

			//Template for Option List
            const wrap = (title, desc, options) => `
                <div class="fade-in space-y-6 text-center">
                    <h2 class="text-2xl font-black italic sans text-stone-900">${title}</h2>
                    <p class="text-stone-600 italic px-4 font-medium">${desc}</p>
                    <div class="grid grid-cols-1 gap-3">${options}</div>
                    <button onclick="navigate('start')" class="mt-4 text-[10px] uppercase font-bold text-stone-600 tracking-widest">${ui.abort}</button>
                </div>`;

			//Template for Option
            const btn = (index, text, text_more) => `
                <button onclick="handleWizardChoice(${index})" class="p-6 card bg-white border border-stone-100 shadow-sm flex flex-col items-start btn-active group">
                    <span class="font-bold sans text-stone-800 text-sm text-left">${text}</span>
                     ${text_more ? `<span class="sans text-stone-600 italic text-sm text-left">${text_more}</span>` : ''}					 
                </button>`;

			// Template for Warnings (Dead ends)
			const renderWarning = (text) => `
				<div class="fade-in p-8 bg-red-50 border-4 border-red-700 rounded-[32px] text-center space-y-6 shadow-xl">
					<div class="text-6xl">⚠️</div>
					<h3 class="text-3xl font-black text-red-700 uppercase sans tracking-tighter">${ui.warning}</h3>
					<p class="font-bold text-red-900 text-lg leading-relaxed">${text}</p>
					<button onclick="navigate('start')" class="w-full p-5 bg-red-700 hover:bg-red-800 text-white rounded-2xl font-bold mt-4 sans uppercase tracking-widest transition-colors shadow-lg">${ui.close}</button>
				</div>`;

			// Template for Notices (Dead ends)
			const renderNotice = (text) => `
				<div class="fade-in p-8 bg-amber-50 border-4 border-amber-700 rounded-[32px] text-center space-y-6 shadow-xl">
					<div class="text-6xl">✋</div>
					<h3 class="text-3xl font-black text-amber-700 uppercase sans tracking-tighter">${ui.notice}</h3>
					<p class="font-bold text-amber-900 text-lg leading-relaxed">${text}</p>
					<button onclick="navigate('start')" class="w-full p-5 bg-amber-700 hover:bg-amber-800 text-white rounded-2xl font-bold mt-4 sans uppercase tracking-widest transition-colors shadow-lg">${ui.understood}</button>
				</div>`;
		
			if (!node || node === 'START') {
				content = wrap(`${ui.wizard}`, `${ui.wizard_observe}`, `
					<button onclick="navigate('wizard', 'STOP_POISON')" class="p-5 card bg-red-700 text-white font-black sans uppercase btn-active">${ui.wizard_observe_yes}</button>
					<button onclick="navigate('wizard', 'PROCEED')" class="p-5 card bg-green-700 text-white font-black sans uppercase btn-active">${ui.wizard_observe_no}</button>
				`); 

				document.getElementById('app-content').innerHTML = content;
				window.scrollTo(0,0);
				return;
			}
			else if (node === 'STOP_POISON') {
				content = `<div class="fade-in p-8 bg-red-50 border-4 border-red-700 rounded-[32px] text-center space-y-4"><h3 class="text-3xl font-black text-red-700 uppercase sans">${ui.wizard_stop}</h3><p class="font-bold text-red-900 italic">${ui.wizard_stop_description}</p><button onclick="navigate('start')" class="w-full p-4 bg-red-700 text-white rounded-2xl font-bold mt-4 sans uppercase">${ui.abort}</button></div>`; 

				document.getElementById('app-content').innerHTML = content;
				window.scrollTo(0,0);
				return;
			}
			else if (node === 'PROCEED') {
				currentWizardNode = wizardMushroomData;
				node = currentWizardNode;
			}
			
			if (node.warning) {
				// CASE: Warning / Dead End
				content = renderWarning(node.warning);
			}
			else if (node.notice) {
				// CASE: Notification / Dead End
				content = renderNotice(node.notice);
			} 
			else if (node.id) {
				// CASE: Identification Successful
				navigate(node.id);
				return;
			} 
			else if (node.choices) {
				// Generate HTML for all buttons based on the 'match' property
				const optionsHtml = node.choices.map((choice, index) => {
					return btn(index, choice.match, choice.text_more);
				}).join('');

				// Use node.prompt for title, and node.description for instructions
				content = wrap(
					node.prompt || `${ui.wizard_please_choose}:`, 
					node.description || "", 
					optionsHtml
				);
			} 
			else {
				// Fallback
				content = `<div class="text-center py-10"><p>${ui.wizard_error}</p><button onclick="navigate('start')">${ui.wizard_restart}</button></div>`;
			}
            document.getElementById('app-content').innerHTML = content;
            window.scrollTo(0,0);
        }
		
        function navigate(pageId, data = null) {
			closeMenuIfOpen();
			
		    // Gemmer tilstanden i browserens historik
		    window.history.pushState({ pageId: pageId, data: data }, "", "");
		    render(pageId, data);
		}
		function goBack() {
		    window.history.back();
		}

		async function getGuessedLocation() {
		    try {
		        const response = await fetch('https://ipapi.co/json/');
		        const data = await response.json();
		        
		        return {
		            lang: data.languages.split(',')[0].split('-')[0], 
		            country: data.country_code
		        };
		    } catch (e) {
		        return null; // Fallback hvis tjenesten er nede
		    }
		}

		async function initApp() {
			try {
				// 1. Hent konfigurationen
				const cacheBuster = `?v=${new Date().getTime()}`;
				const [configRes, geoRes] = await Promise.all([
				        fetch(`config.json${cacheBuster}`),
				        fetch(`geo_data.json${cacheBuster}`)
				    ]);
				appConfig = await configRes.json();
			    geoData = await geoRes.json();
				
				// 2. Tjek om vi har gemte indstillinger, ellers start "Gæt-processen"
				const saved = localStorage.getItem('userSettings');
				if (saved) {
					userSettings = JSON.parse(saved);
				} else {
					// Gæt sprog fra browser
					const urlLang = new URLSearchParams(window.location.search).get('lang');
					const geo = await getGuessedLocation();
					let finalLang = urlLang || (geo ? geo.lang : null) || navigator.language.split('-')[0];
					
					// Hvis browser-sproget ikke findes i vores config, brug 'da' som fallback
					if (!appConfig.languages[finalLang]) {
						finalLang = 'da';
					}
		
					// Find standard-landet for det gættede sprog
					const langData = appConfig.languages[finalLang];
					const countryCode = langData.defaultCountry;
		
					userSettings = {
						lang: finalLang,
						country: countryCode,
						region: geoData[countryCode].regions[0] // Tag første region som default
					};
					
					saveSettings(); // Gem de gættede indstillinger
				}
				
				renderLanguageOptions();
				await handleLangChange(userSettings.lang, false); // false = genindlæs ikke hele siden endnu		
			} catch (err) {
				console.error("Fejl under opstart:", err);
			}

			// Erstat den nuværende "tomme" state med startsiden
		    window.history.replaceState({ pageId: 'start' }, "", "");
		    render('start');
		}
		
		window.onpopstate = function(event) {
		    if (event.state) {
		        render(event.state.pageId, event.state.data);
		    } else {
		        // Fallback hvis historikken er tom
		        render('start');
		    }
		};

		document.addEventListener('DOMContentLoaded', () => {
		    initApp();
		});
    </script>
</body>
</html>












